(function(){"use strict";var e={3187:function(e,t,o){var i=o(5130),s=o(6768);const n={id:"app"};function r(e,t,o,i,r,l){const a=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",n,[(0,s.bF)(a)])}var l={name:"App",data(){return{title:"Angular-demo"}},mounted(){console.log(`App loaded with title: ${this.title}`)}},a=o(1241);const u=(0,a.A)(l,[["render",r],["__scopeId","data-v-5875ecaf"]]);var c=u,d=o(1387);const v={key:0,id:"app"},g={id:"container"};function p(e,t,o,i,n,r){const l=(0,s.g2)("HeaderComponent"),a=(0,s.g2)("router-view");return n.isReady?((0,s.uX)(),(0,s.CE)("div",v,[(0,s.bF)(l),(0,s.Lk)("div",g,[(0,s.bF)(a)])])):(0,s.Q3)("",!0)}var m=o(4232);const h={class:"header-left"},f={class:"logo"},b={class:"nav-links desktop-nav"},w={class:"header-right"};function k(e,t,o,i,n,r){const l=(0,s.g2)("font-awesome-icon"),a=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("header",{class:(0,m.C4)(["app-header",{scrolled:i.isScrolled}])},[(0,s.Lk)("div",h,[(0,s.Lk)("div",f,[(0,s.bF)(a,{to:"/Project2"},{default:(0,s.k6)((()=>[(0,s.bF)(l,{icon:["fas","ticket"],style:{height:"100%",color:"#E50914"}})])),_:1})]),(0,s.Lk)("nav",b,[(0,s.Lk)("ul",null,[(0,s.Lk)("li",null,[(0,s.bF)(a,{to:"/Project2"},{default:(0,s.k6)((()=>t[3]||(t[3]=[(0,s.eW)("í™ˆ")]))),_:1})]),(0,s.Lk)("li",null,[(0,s.bF)(a,{to:"/Project2/popular"},{default:(0,s.k6)((()=>t[4]||(t[4]=[(0,s.eW)("ëŒ€ì„¸ ì½˜í…ì¸ ")]))),_:1})]),(0,s.Lk)("li",null,[(0,s.bF)(a,{to:"/Project2/wishlist"},{default:(0,s.k6)((()=>t[5]||(t[5]=[(0,s.eW)("ë‚´ê°€ ì°œí•œ ë¦¬ìŠ¤íŠ¸")]))),_:1})]),(0,s.Lk)("li",null,[(0,s.bF)(a,{to:"/Project2/search"},{default:(0,s.k6)((()=>t[6]||(t[6]=[(0,s.eW)("ì°¾ì•„ë³´ê¸°")]))),_:1})])])])]),(0,s.Lk)("div",w,[(0,s.Lk)("button",{class:"icon-button",onClick:t[0]||(t[0]=(...e)=>i.removeKey&&i.removeKey(...e))},[(0,s.bF)(l,{icon:["fas","user"]})]),(0,s.Lk)("button",{class:"icon-button mobile-menu-button",onClick:t[1]||(t[1]=(...e)=>i.toggleMobileMenu&&i.toggleMobileMenu(...e))},[(0,s.bF)(l,{icon:["fas","bars"]})])]),(0,s.Lk)("div",{class:(0,m.C4)(["mobile-nav",{open:i.isMobileMenuOpen}])},[(0,s.Lk)("button",{class:"close-button",onClick:t[2]||(t[2]=(...e)=>i.toggleMobileMenu&&i.toggleMobileMenu(...e))},[(0,s.bF)(l,{icon:["fas","times"]})]),(0,s.Lk)("nav",null,[(0,s.Lk)("ul",null,[(0,s.Lk)("li",null,[(0,s.bF)(a,{to:"/Project2",onClick:i.toggleMobileMenu},{default:(0,s.k6)((()=>t[7]||(t[7]=[(0,s.eW)("í™ˆ")]))),_:1},8,["onClick"])]),(0,s.Lk)("li",null,[(0,s.bF)(a,{to:"/Project2/popular",onClick:i.toggleMobileMenu},{default:(0,s.k6)((()=>t[8]||(t[8]=[(0,s.eW)("ëŒ€ì„¸ ì½˜í…ì¸ ")]))),_:1},8,["onClick"])]),(0,s.Lk)("li",null,[(0,s.bF)(a,{to:"/Project2/wishlist",onClick:i.toggleMobileMenu},{default:(0,s.k6)((()=>t[9]||(t[9]=[(0,s.eW)("ë‚´ê°€ ì°œí•œ ë¦¬ìŠ¤íŠ¸")]))),_:1},8,["onClick"])]),(0,s.Lk)("li",null,[(0,s.bF)(a,{to:"/Project2/search",onClick:i.toggleMobileMenu},{default:(0,s.k6)((()=>t[10]||(t[10]=[(0,s.eW)("ì°¾ì•„ë³´ê¸°")]))),_:1},8,["onClick"])])])])],2)],2)}o(4114);var C=o(144),L=o(8950),y=o(292),E=o(2353);L.Yv.add(E.X46,E.ycA,E.ckx,E.GRI);var M={components:{FontAwesomeIcon:y.gc},setup(){const e=(0,C.KR)(!1),t=(0,C.KR)(!1),o=(0,d.rd)(),i=()=>{e.value=window.scrollY>50},n=()=>{localStorage.removeItem("TMDb-Key"),o.push("/signin")},r=()=>{t.value=!t.value};return(0,s.sV)((()=>{window.addEventListener("scroll",i)})),(0,s.hi)((()=>{window.removeEventListener("scroll",i)})),{isScrolled:e,isMobileMenuOpen:t,removeKey:n,toggleMobileMenu:r}}};const I=(0,a.A)(M,[["render",k],["__scopeId","data-v-ec5130fa"]]);var R=I,P={name:"HomeComponent",components:{HeaderComponent:R},data(){return{isReady:!1}},created(){localStorage.setItem("TMDb-Key","b1907f9b9967490f278a974270b85f60"),this.isReady=!0}};const K=(0,a.A)(P,[["render",p],["__scopeId","data-v-54202f2a"]]);var _=K;const W={class:"home"};function F(e,t,o,i,n,r){const l=(0,s.g2)("BannerComponent"),a=(0,s.g2)("MovieRowComponent");return(0,s.uX)(),(0,s.CE)("div",W,[(0,s.bF)(l,{movie:i.featuredMovie},null,8,["movie"]),(0,s.bF)(a,{title:"ì¸ê¸° ì˜í™”",fetchUrl:i.popularMoviesUrl},null,8,["fetchUrl"]),(0,s.bF)(a,{title:"ìµœì‹  ì˜í™”",fetchUrl:i.newReleasesUrl},null,8,["fetchUrl"]),(0,s.bF)(a,{title:"ì•¡ì…˜ ì˜í™”",fetchUrl:i.actionMoviesUrl},null,8,["fetchUrl"])])}var S=o(4373);class U{async fetchFeaturedMovie(e){try{const t=await S.A.get(`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR`);return console.log(t.data.results[0]),t.data.results[0]}catch(t){throw console.error("Error fetching featured movie:",t),t}}getURL4PopularMovies(e,t=1){return`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR&page=${t}`}getURL4ReleaseMovies(e,t=2){return`https://api.themoviedb.org/3/movie/now_playing?api_key=${e}&language=ko-KR&page=${t}`}getURL4GenreMovies(e,t,o=1){return`https://api.themoviedb.org/3/discover/movie?api_key=${e}&with_genres=${t}&language=ko-KR&page=${o}`}}var O=new U;const X={class:"banner-content"};function V(e,t,o,i,n,r){return o.movie?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"banner",style:(0,m.Tr)({backgroundImage:`url(${r.backdropUrl})`})},[(0,s.Lk)("div",X,[(0,s.Lk)("h1",null,(0,m.v_)(o.movie.title),1),(0,s.Lk)("p",null,(0,m.v_)(o.movie.overview),1),t[0]||(t[0]=(0,s.Lk)("button",{class:"play-btn title-btn"},"ìž¬ìƒ",-1)),t[1]||(t[1]=(0,s.Lk)("button",{class:"info-btn title-btn"},"ìƒì„¸ ì •ë³´",-1))])],4)):(0,s.Q3)("",!0)}var A={name:"BannerComponent",props:{movie:{type:Object,required:!0}},computed:{backdropUrl(){return this.movie?`https://image.tmdb.org/t/p/original${this.movie.backdrop_path}`:""}}};const T=(0,a.A)(A,[["render",V],["__scopeId","data-v-3c7b57a6"]]);var j=T;const x={class:"movie-row"},$=["disabled"],z={class:"slider-window",ref:"sliderWindow"},B=["onClick"],D=["src","alt"],Q={key:0,class:"wishlist-indicator"},G=["disabled"];function H(e,t,o,i,n,r){return(0,s.uX)(),(0,s.CE)("div",x,[(0,s.Lk)("h2",null,(0,m.v_)(o.title),1),(0,s.Lk)("div",{class:"slider-container",onWheel:t[2]||(t[2]=(...t)=>e.handleWheel&&e.handleWheel(...t)),onMousemove:t[3]||(t[3]=e=>i.showButtons=!0),onMouseleave:t[4]||(t[4]=e=>i.showButtons=!1)},[(0,s.Lk)("button",{class:"slider-button left",onClick:t[0]||(t[0]=e=>i.slide("left")),disabled:i.atLeftEdge},"<",8,$),(0,s.Lk)("div",z,[(0,s.Lk)("div",{class:"movie-slider",ref:"slider",style:(0,m.Tr)({transform:"translateX("+-i.scrollAmount+"px)"})},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.movies,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-card",onClick:t=>i.toggleWishlist(e)},[(0,s.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title},null,8,D),i.isInWishlist(e.id)?((0,s.uX)(),(0,s.CE)("div",Q,"ðŸ‘")):(0,s.Q3)("",!0)],8,B)))),128))],4)],512),(0,s.Lk)("button",{class:"slider-button right",onClick:t[1]||(t[1]=e=>i.slide("right")),disabled:i.atRightEdge},">",8,G)],32)])}var J={props:{title:{type:String,required:!0},fetchUrl:{type:String,required:!0}},setup(e){const t=(0,C.KR)([]),o=(0,C.KR)(0),i=(0,C.KR)(!1),n=(0,C.KR)(0),r=(0,C.KR)(null),l=(0,C.KR)(null);(0,s.sV)((async()=>{await a(),u()}));const a=async()=>{try{const o=await S.A.get(e.fetchUrl);t.value=o.data.results}catch(o){console.error("Error fetching movies:",o)}},u=()=>{r.value&&l.value&&(n.value=Math.max(0,r.value.scrollWidth-l.value.clientWidth))},c=e=>{const t=.8*l.value.clientWidth;o.value="left"===e?Math.max(0,o.value-t):Math.min(n.value,o.value+t)},d=e=>`https://image.tmdb.org/t/p/w300${e}`,v=(0,s.EW)((()=>o.value<=0)),g=(0,s.EW)((()=>o.value>=n.value)),p=e=>{},m=e=>!1;return{movies:t,scrollAmount:o,showButtons:i,atLeftEdge:v,atRightEdge:g,slide:c,getImageUrl:d,toggleWishlist:p,isInWishlist:m,slider:r,sliderWindow:l}}};const q=(0,a.A)(J,[["render",H],["__scopeId","data-v-7cc19971"]]);var N=q,Y={name:"HomeMainComponent",components:{BannerComponent:j,MovieRowComponent:N},setup(){const e=localStorage.getItem("TMDb-Key")||"",t=(0,C.KR)(null),o=(0,C.KR)(O.getURL4PopularMovies(e)),i=(0,C.KR)(O.getURL4ReleaseMovies(e)),n=(0,C.KR)(O.getURL4GenreMovies(e,"28")),r=async()=>{try{t.value=await O.fetchFeaturedMovie(e)}catch(o){console.error("Error loading featured movie:",o)}},l=()=>{const e=()=>{const e=document.querySelector(".app-header");window.scrollY>50?e?.classList.add("scrolled"):e?.classList.remove("scrolled")};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}};let a;return(0,s.sV)((()=>{r(),a=l()})),(0,s.xo)((()=>{a?.()})),{featuredMovie:t,popularMoviesUrl:o,newReleasesUrl:i,actionMoviesUrl:n}}};const Z=(0,a.A)(Y,[["render",F],["__scopeId","data-v-37e071aa"]]);var ee=Z;const te={class:"container"},oe={id:"phone"},ie={id:"content-wrapper"},se={class:"checkbox remember"},ne=["disabled"],re={class:"checkbox remember"},le=["disabled"];function ae(e,t,o,n,r,l){return(0,s.uX)(),(0,s.CE)("div",null,[t[31]||(t[31]=(0,s.Lk)("div",{class:"bg-image"},null,-1)),(0,s.Lk)("div",te,[(0,s.Lk)("div",oe,[(0,s.Lk)("div",ie,[(0,s.Lk)("div",{class:(0,m.C4)(["card",{hidden:!r.isLoginVisible}]),id:"login"},[(0,s.Lk)("form",{onSubmit:t[7]||(t[7]=(0,i.D$)(((...e)=>l.handleLogin&&l.handleLogin(...e)),["prevent"]))},[t[24]||(t[24]=(0,s.Lk)("h1",null,"Sign in",-1)),(0,s.Lk)("div",{class:(0,m.C4)(["input",{active:r.isEmailFocused||r.email}])},[(0,s.bo)((0,s.Lk)("input",{id:"email",type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>r.email=e),onFocus:t[1]||(t[1]=e=>l.focusInput("email")),onBlur:t[2]||(t[2]=e=>l.blurInput("email"))},null,544),[[i.Jo,r.email]]),t[21]||(t[21]=(0,s.Lk)("label",{for:"email"},"Username or Email",-1))],2),(0,s.Lk)("div",{class:(0,m.C4)(["input",{active:r.isPasswordFocused||r.password}])},[(0,s.bo)((0,s.Lk)("input",{id:"password",type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>r.password=e),onFocus:t[4]||(t[4]=e=>l.focusInput("password")),onBlur:t[5]||(t[5]=e=>l.blurInput("password"))},null,544),[[i.Jo,r.password]]),t[22]||(t[22]=(0,s.Lk)("label",{for:"password"},"Password",-1))],2),(0,s.Lk)("span",se,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"remember","onUpdate:modelValue":t[6]||(t[6]=e=>r.rememberMe=e)},null,512),[[i.lH,r.rememberMe]]),t[23]||(t[23]=(0,s.Lk)("label",{for:"remember",class:"read-text"},"Remember me",-1))]),t[25]||(t[25]=(0,s.Lk)("span",{class:"checkbox forgot"},[(0,s.Lk)("a",{href:"#"},"Forgot Password?")],-1)),(0,s.Lk)("button",{disabled:!l.isLoginFormValid},"Login",8,ne)],32),(0,s.Lk)("a",{href:"javascript:void(0)",class:"account-check",onClick:t[8]||(t[8]=(...e)=>l.toggleCard&&l.toggleCard(...e))},(0,m.v_)(r.isLoginVisible?"Don't have an account? Sign up":"Already have an account? Sign in"),1)],2),(0,s.Lk)("div",{class:(0,m.C4)(["card",{hidden:r.isLoginVisible}]),id:"register"},[(0,s.Lk)("form",{onSubmit:t[19]||(t[19]=(0,i.D$)(((...e)=>l.handleRegister&&l.handleRegister(...e)),["prevent"]))},[t[30]||(t[30]=(0,s.Lk)("h1",null,"Sign up",-1)),(0,s.Lk)("div",{class:(0,m.C4)(["input",{active:r.isRegisterEmailFocused||r.registerEmail}])},[(0,s.bo)((0,s.Lk)("input",{id:"register-email",type:"email","onUpdate:modelValue":t[9]||(t[9]=e=>r.registerEmail=e),onFocus:t[10]||(t[10]=e=>l.focusInput("registerEmail")),onBlur:t[11]||(t[11]=e=>l.blurInput("registerEmail"))},null,544),[[i.Jo,r.registerEmail]]),t[26]||(t[26]=(0,s.Lk)("label",{for:"register-email"},"Email",-1))],2),(0,s.Lk)("div",{class:(0,m.C4)(["input",{active:r.isRegisterPasswordFocused||r.registerPassword}])},[(0,s.bo)((0,s.Lk)("input",{id:"register-password",type:"password","onUpdate:modelValue":t[12]||(t[12]=e=>r.registerPassword=e),onFocus:t[13]||(t[13]=e=>l.focusInput("registerPassword")),onBlur:t[14]||(t[14]=e=>l.blurInput("registerPassword"))},null,544),[[i.Jo,r.registerPassword]]),t[27]||(t[27]=(0,s.Lk)("label",{for:"register-password"},"Password",-1))],2),(0,s.Lk)("div",{class:(0,m.C4)(["input",{active:r.isConfirmPasswordFocused||r.confirmPassword}])},[(0,s.bo)((0,s.Lk)("input",{id:"confirm-password",type:"password","onUpdate:modelValue":t[15]||(t[15]=e=>r.confirmPassword=e),onFocus:t[16]||(t[16]=e=>l.focusInput("confirmPassword")),onBlur:t[17]||(t[17]=e=>l.blurInput("confirmPassword"))},null,544),[[i.Jo,r.confirmPassword]]),t[28]||(t[28]=(0,s.Lk)("label",{for:"confirm-password"},"Confirm Password",-1))],2),(0,s.Lk)("span",re,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"terms","onUpdate:modelValue":t[18]||(t[18]=e=>r.acceptTerms=e)},null,512),[[i.lH,r.acceptTerms]]),t[29]||(t[29]=(0,s.Lk)("label",{for:"terms",class:"read-text"},[(0,s.eW)(" I have read "),(0,s.Lk)("b",null,"Terms and Conditions")],-1))]),(0,s.Lk)("button",{disabled:!l.isRegisterFormValid},"Register",8,le)],32),(0,s.Lk)("a",{href:"javascript:void(0)",class:"account-check",onClick:t[20]||(t[20]=(...e)=>l.toggleCard&&l.toggleCard(...e))},(0,m.v_)(r.isLoginVisible?"Don't have an account? Sign up":"Already have an account? Sign in"),1)],2)])])])])}o(8992),o(2577),o(7550);var ue={data(){return{isLoginVisible:!0,email:"",password:"",registerEmail:"",registerPassword:"",confirmPassword:"",rememberMe:!1,acceptTerms:!1,isEmailFocused:!1,isPasswordFocused:!1,isRegisterEmailFocused:!1,isRegisterPasswordFocused:!1,isConfirmPasswordFocused:!1}},computed:{isLoginFormValid(){return this.email&&this.password},isRegisterFormValid(){return this.registerEmail&&this.registerPassword&&this.confirmPassword&&this.registerPassword===this.confirmPassword&&this.acceptTerms}},methods:{toggleCard(){this.isLoginVisible=!this.isLoginVisible},focusInput(e){this[`is${e.charAt(0).toUpperCase()+e.slice(1)}Focused`]=!0},blurInput(e){this[`is${e.charAt(0).toUpperCase()+e.slice(1)}Focused`]=!1},handleLogin(){const e=JSON.parse(localStorage.getItem("users")||"[]"),t=e.find((e=>e.email===this.email&&e.password===this.password));t?(alert("Logged in successfully!"),this.rememberMe&&(localStorage.setItem("isLoggedIn","true"),localStorage.setItem("loggedInUser",this.email)),this.$router.push("/project2")):alert("Invalid email or password.")},handleRegister(){const e=JSON.parse(localStorage.getItem("users")||"[]");e.some((e=>e.email===this.registerEmail))?alert("Email already registered."):(e.push({email:this.registerEmail,password:this.registerPassword}),localStorage.setItem("users",JSON.stringify(e)),alert("Registration successful! You can now log in."),this.toggleCard())},initializeLoginState(){const e=localStorage.getItem("isLoggedIn"),t=localStorage.getItem("loggedInUser");"true"===e&&t&&(this.email=t,this.rememberMe=!0,this.$router.push("/project2"))}},setup(){const e=(0,d.rd)();return{router:e}},mounted(){this.initializeLoginState()}};const ce=(0,a.A)(ue,[["render",ae],["__scopeId","data-v-ec123ff6"]]);var de=ce;const ve={class:"popular-container"},ge={class:"view-toggle"};function pe(e,t,o,n,r,l){const a=(0,s.g2)("font-awesome-icon"),u=(0,s.g2)("MovieGridComponent"),c=(0,s.g2)("MovieInfiniteScrollComponent");return(0,s.uX)(),(0,s.CE)("div",ve,[(0,s.Lk)("div",ge,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=e=>n.setView("grid")),class:(0,m.C4)({active:"grid"===n.currentView})},[(0,s.bF)(a,{icon:["fas","th"]})],2),(0,s.Lk)("button",{onClick:t[1]||(t[1]=e=>n.setView("list")),class:(0,m.C4)({active:"list"===n.currentView})},[(0,s.bF)(a,{icon:["fas","bars"]})],2)]),n.fetchUrl?(0,s.bo)(((0,s.uX)(),(0,s.Wv)(u,{key:0,fetchUrl:n.fetchUrl},null,8,["fetchUrl"])),[[i.aG,"grid"===n.currentView]]):(0,s.Q3)("",!0),"list"===n.currentView?((0,s.uX)(),(0,s.Wv)(c,{key:1,apiKey:n.apiKey,genreCode:"28",sortingOrder:"all",voteEverage:-1},null,8,["apiKey"])):(0,s.Q3)("",!0)])}const me={class:"movie-grid",ref:"gridContainer"},he=["onMouseup"],fe=["src","alt"],be={class:"movie-title"},we={key:0,class:"wishlist-indicator"},ke={key:0,class:"pagination"},Ce=["disabled"],Le=["disabled"];function ye(e,t,o,i,n,r){return(0,s.uX)(),(0,s.CE)("div",me,[(0,s.Lk)("div",{class:(0,m.C4)(["grid-container",i.currentView])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.visibleMovieGroups,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:`group-${t}`,class:(0,m.C4)(["movie-row",{full:e.length===i.rowSize}])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-card",onMouseup:t=>i.toggleWishlist(e)},[(0,s.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title},null,8,fe),(0,s.Lk)("div",be,(0,m.v_)(e.title),1),i.isInWishlist(e.id)?((0,s.uX)(),(0,s.CE)("div",we,"ðŸ‘")):(0,s.Q3)("",!0)],40,he)))),128))],2)))),128))],2),i.totalPages>1?((0,s.uX)(),(0,s.CE)("div",ke,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.prevPage&&i.prevPage(...e)),disabled:1===i.currentPage},"< ì´ì „",8,Ce),(0,s.Lk)("span",null,(0,m.v_)(i.currentPage)+" / "+(0,m.v_)(i.totalPages),1),(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.nextPage&&i.nextPage(...e)),disabled:i.currentPage===i.totalPages},"ë‹¤ìŒ >",8,Le)])):(0,s.Q3)("",!0)],512)}o(8872),o(4520);class Ee{constructor(){this.wishlist=(0,C.KR)([]),this.loadWishlist()}loadWishlist(){const e=localStorage.getItem("movieWishlist");e&&(this.wishlist.value=JSON.parse(e))}saveWishlist(){localStorage.setItem("movieWishlist",JSON.stringify(this.wishlist.value))}toggleWishlist(e){const t=this.wishlist.value.findIndex((t=>t.id===e.id));-1===t?this.wishlist.value.push(e):this.wishlist.value=this.wishlist.value.filter((t=>t.id!==e.id)),this.saveWishlist()}isInWishlist(e){return this.wishlist.value.some((t=>t.id===e))}getCurrentWishlist(){return this.wishlist.value}}const Me=new Ee;var Ie=Me,Re={name:"MovieGridComponent",props:{fetchUrl:{type:String,required:!0}},setup(e){const t=(0,C.KR)([]),o=(0,C.KR)(1),i=(0,C.KR)(4),n=(0,C.KR)(20),r=(0,C.KR)(window.innerWidth<=768),l=(0,C.KR)("grid"),a=(0,C.KR)(null);let u=null;const c=async()=>{try{const o=120,i=Math.ceil(o/20);let s=[];for(let t=1;t<=i;t++){const o=await S.A.get(e.fetchUrl,{params:{page:t,per_page:n.value}});s=[...s,...o.data.results]}t.value=s.slice(0,o)}catch(o){console.error("Error fetching movies:",o)}},d=(0,s.EW)((()=>{const e=(o.value-1)*n.value,s=e+n.value,r=t.value.slice(e,s);return r.reduce(((e,t,o)=>{const s=Math.floor(o/i.value);return e[s]||(e[s]=[]),e[s].push(t),e}),[])})),v=(0,s.EW)((()=>Math.ceil(t.value.length/n.value))),g=()=>{o.value<v.value&&o.value++},p=()=>{o.value>1&&o.value--},m=e=>{u&&clearTimeout(u),u=setTimeout((()=>{Ie.toggleWishlist(e)}),2e3)},h=e=>Ie.isInWishlist(e),f=()=>{r.value=window.innerWidth<=768,b()},b=()=>{if(a.value){const e=a.value,t=e.offsetWidth,o=window.innerHeight-e.offsetTop,s=r.value?90:200,l=r.value?150:220,u=r.value?10:15,c=-10;i.value=Math.floor(t/(s+u));const d=Math.floor(o/(l+c));n.value=i.value*d}},w=e=>`https://image.tmdb.org/t/p/w300${e}`;return(0,s.sV)((async()=>{await c(),b(),window.addEventListener("resize",f)})),(0,s.hi)((()=>{window.removeEventListener("resize",f),u&&clearTimeout(u)})),{gridContainer:a,movies:t,currentPage:o,rowSize:i,moviesPerPage:n,currentView:l,visibleMovieGroups:d,totalPages:v,nextPage:g,prevPage:p,toggleWishlist:m,isInWishlist:h,getImageUrl:w}}};const Pe=(0,a.A)(Re,[["render",ye],["__scopeId","data-v-56498b9e"]]);var Ke=Pe;const _e={class:"movie-grid",ref:"gridContainer"},We=["onMouseup"],Fe=["src","alt"],Se={class:"movie-title"},Ue={key:0,class:"wishlist-indicator"},Oe={ref:"loadingTrigger",class:"loading-trigger"},Xe={key:0,class:"loading-indicator"};function Ve(e,t,o,i,n,r){return(0,s.uX)(),(0,s.CE)("div",_e,[(0,s.Lk)("div",{class:(0,m.C4)(["grid-container",i.currentView])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.visibleMovieGroups,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:`group-${t}`,class:"movie-row"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-card",onMouseup:t=>i.toggleWishlist(e)},[(0,s.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title,loading:"lazy"},null,8,Fe),(0,s.Lk)("div",Se,(0,m.v_)(e.title),1),i.isInWishlist(e.id)?((0,s.uX)(),(0,s.CE)("div",Ue,"ðŸ‘")):(0,s.Q3)("",!0)],40,We)))),128))])))),128))],2),(0,s.Lk)("div",Oe,[i.isLoading?((0,s.uX)(),(0,s.CE)("div",Xe,t[1]||(t[1]=[(0,s.Lk)("div",{class:"spinner"},null,-1),(0,s.Lk)("span",null,"Loading...",-1)]))):(0,s.Q3)("",!0)],512),i.showTopButton?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>i.scrollToTopAndReset&&i.scrollToTopAndReset(...e)),class:"top-button","aria-label":"Scroll to Top"}," Top ")):(0,s.Q3)("",!0)],512)}var Ae={name:"MovieInfiniteScrollComponent",props:{genreCode:{type:String,required:!0},apiKey:{type:String,required:!0},sortingOrder:{type:String,default:"all"},voteEverage:{type:Number,default:100}},setup(e){const t=(0,C.KR)([]),o=(0,C.KR)(1),i=(0,C.KR)(4),n=(0,C.KR)(!1),r=(0,C.KR)(!0),l=(0,C.KR)(window.innerWidth<=768),a=(0,C.KR)("grid"),u=(0,C.KR)(!1),c=(0,C.KR)(null),d=(0,C.KR)(null);let v=null,g=null;const p=async()=>{if(!n.value&&r.value){n.value=!0;try{const i="0"===e.genreCode?"https://api.themoviedb.org/3/movie/popular":"https://api.themoviedb.org/3/discover/movie",s={api_key:e.apiKey,language:"ko-KR",page:o.value,per_page:10,..."0"!==e.genreCode&&{with_genres:e.genreCode}},{data:n}=await S.A.get(i,{params:s}),l=n.results;if(l.length>0){const i=l.filter((t=>"all"===e.sortingOrder||t.original_language===e.sortingOrder)).filter((t=>-1===e.voteEverage||(-2===e.voteEverage?t.vote_average<=4:t.vote_average>=e.voteEverage&&t.vote_average<e.voteEverage+1)));t.value=[...t.value,...i],o.value++}else r.value=!1}catch(i){console.error("Error fetching movies:",i)}finally{n.value=!1}}};(0,s.wB)((()=>[e.genreCode,e.sortingOrder,e.voteEverage]),(([e,i,s])=>{console.log("Props changed:",{newGenreCode:e,newSortingOrder:i,newVoteEverage:s}),t.value=[],o.value=1,r.value=!0,p()}));const m=()=>{g=new IntersectionObserver((e=>{e[0].isIntersecting&&!n.value&&r.value&&p()}),{rootMargin:"100px",threshold:.1}),d.value&&g.observe(d.value)},h=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/placeholder-image.jpg",f=(0,s.EW)((()=>t.value.reduce(((e,t,o)=>{const s=Math.floor(o/i.value);return e[s]||(e[s]=[]),e[s].push(t),e}),[]))),b=()=>{l.value=window.innerWidth<=768,w()},w=()=>{if(c.value){const e=c.value.offsetWidth,t=l.value?100:300,o=l.value?10:15;i.value=Math.floor(e/(t+o))}},k=()=>{const e=window.pageYOffset||document.documentElement.scrollTop;u.value=e>300},L=()=>{window.scrollTo({top:0,behavior:"smooth"}),y()},y=()=>{t.value=[],o.value=1,r.value=!0,p()},E=e=>{v&&clearTimeout(v),v=setTimeout((()=>{Ie.toggleWishlist(e)}),800)},M=e=>Ie.isInWishlist(e);return(0,s.sV)((()=>{m(),p(),b(),window.addEventListener("resize",b),window.addEventListener("scroll",k)})),(0,s.hi)((()=>{window.removeEventListener("resize",b),window.removeEventListener("scroll",k),g&&g.disconnect(),v&&clearTimeout(v)})),{gridContainer:c,loadingTrigger:d,movies:t,currentPage:o,rowSize:i,isLoading:n,hasMore:r,isMobile:l,currentView:a,showTopButton:u,getImageUrl:h,visibleMovieGroups:f,scrollToTopAndReset:L,toggleWishlist:E,isInWishlist:M}}};const Te=(0,a.A)(Ae,[["render",Ve],["__scopeId","data-v-b45278e8"]]);var je=Te;L.Yv.add(E.UTC,E.ckx);var xe={name:"HomePopular",components:{FontAwesomeIcon:y.gc,MovieGridComponent:Ke,MovieInfiniteScrollComponent:je},setup(){const e=(0,C.KR)(localStorage.getItem("TMDb-Key")||""),t=(0,C.KR)("grid"),o=(0,C.KR)(""),i=e=>{t.value=e,"grid"===e?n():r()},n=()=>{document.body.style.overflow="hidden"},r=()=>{document.body.style.overflow="auto"};return(0,s.sV)((async()=>{n();try{o.value=O.getURL4PopularMovies(e.value),console.log("Fetch URL in Parent Component before child:",o.value)}catch(t){console.error("Error initializing HomePopular:",t)}})),{apiKey:e,currentView:t,fetchUrl:o,setView:i}}};const $e=(0,a.A)(xe,[["render",pe],["__scopeId","data-v-438f0a8c"]]);var ze=$e;function Be(e,t,o,i,n,r){const l=(0,s.g2)("MovieWishlist");return(0,s.uX)(),(0,s.Wv)(l)}const De={class:"movie-grid",ref:"gridContainer"},Qe=["onClick"],Ge=["src","alt"],He={class:"movie-title"},Je={key:0,class:"empty-wishlist"},qe={key:1,class:"pagination"},Ne=["disabled"],Ye=["disabled"];function Ze(e,t,o,i,n,r){return(0,s.uX)(),(0,s.CE)("div",De,[(0,s.Lk)("div",{class:(0,m.C4)(["grid-container",i.currentView])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.visibleWishlistMovies,((e,o)=>((0,s.uX)(),(0,s.CE)("div",{key:`group-${o}`,class:(0,m.C4)(["movie-row",{full:e.length===i.rowSize}])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-card",onClick:t=>i.toggleWishlist(e)},[(0,s.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title},null,8,Ge),(0,s.Lk)("div",He,(0,m.v_)(e.title),1),t[2]||(t[2]=(0,s.Lk)("div",{class:"wishlist-indicator"},"ðŸ‘",-1))],8,Qe)))),128))],2)))),128))],2),0===i.wishlistMovies.length?((0,s.uX)(),(0,s.CE)("div",Je," ìœ„ì‹œë¦¬ìŠ¤íŠ¸ê°€ ë¹„ì–´ ìžˆìŠµë‹ˆë‹¤. ")):(0,s.Q3)("",!0),i.totalPages>1?((0,s.uX)(),(0,s.CE)("div",qe,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.prevPage&&i.prevPage(...e)),disabled:1===i.currentPage},"< ì´ì „",8,Ne),(0,s.Lk)("span",null,(0,m.v_)(i.currentPage)+" / "+(0,m.v_)(i.totalPages),1),(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.nextPage&&i.nextPage(...e)),disabled:i.currentPage===i.totalPages},"ë‹¤ìŒ >",8,Ye)])):(0,s.Q3)("",!0)],512)}var et={name:"MovieWishlistComponent",setup(){const e=(0,C.KR)(null),t=(0,C.KR)(4),o=(0,C.KR)(20),i=(0,C.KR)(1),n=(0,C.KR)(window.innerWidth<=768),r=(0,C.KR)("grid"),l=(0,C.KR)([]),a=(0,C.KR)([]),u=new ResizeObserver((()=>d())),c=()=>{l.value=Ie.getCurrentWishlist(),v()},d=()=>{if(e.value){const i=e.value.offsetWidth,s=n.value?90:220,r=(n.value,n.value?10:15);t.value=Math.floor(i/(s+r)),o.value=3*t.value,v()}},v=()=>{const e=(i.value-1)*o.value,s=e+o.value,n=l.value.slice(e,s);a.value=n.reduce(((e,o,i)=>{const s=Math.floor(i/t.value);return e[s]||(e[s]=[]),e[s].push(o),e}),[])},g=e=>{Ie.toggleWishlist(e),c()},p=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/placeholder-image.jpg",m=(0,s.EW)((()=>Math.ceil(l.value.length/o.value))),h=()=>{i.value<m.value&&(i.value++,v())},f=()=>{i.value>1&&(i.value--,v())},b=()=>{n.value=window.innerWidth<=768,d()};return(0,s.sV)((()=>{c(),d(),window.addEventListener("resize",b),e.value&&u.observe(e.value)})),(0,s.hi)((()=>{window.removeEventListener("resize",b),u.disconnect()})),{gridContainer:e,rowSize:t,currentPage:i,moviesPerPage:o,isMobile:n,currentView:r,wishlistMovies:l,visibleWishlistMovies:a,totalPages:m,toggleWishlist:g,nextPage:h,prevPage:f,getImageUrl:p}}};const tt=(0,a.A)(et,[["render",Ze],["__scopeId","data-v-b4c57bbe"]]);var ot=tt,it={name:"HomeWishlistComponent",components:{MovieWishlist:ot}};const st=(0,a.A)(it,[["render",Be]]);var nt=st;const rt={class:"container-search"},lt={class:"container-search-bar"},at={class:"content-search"};function ut(e,t,o,i,n,r){const l=(0,s.g2)("MovieSearchComponent"),a=(0,s.g2)("MovieInfiniteScrollComponent");return(0,s.uX)(),(0,s.CE)("div",rt,[(0,s.Lk)("div",lt,[(0,s.bF)(l,{onChangeOptions:i.changeOptions},null,8,["onChangeOptions"])]),(0,s.Lk)("div",at,[(0,s.bF)(a,{apiKey:i.apiKey,genreCode:i.genreId,sortingOrder:i.sortId,voteEverage:i.ageId},null,8,["apiKey","genreCode","sortingOrder","voteEverage"])])])}const ct={class:"dropdown-container"},dt=["onClick"],vt={key:0,class:"select-items"},gt=["onClick"];function pt(e,t,o,i,n,r){return(0,s.uX)(),(0,s.CE)("div",ct,[t[1]||(t[1]=(0,s.Lk)("label",null,"ì„ í˜¸í•˜ëŠ” ì„¤ì •ì„ ì„ íƒí•˜ì„¸ìš”",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.dropdownEntries,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.key,class:"custom-select"},[(0,s.Lk)("div",{class:"select-selected",onClick:t=>i.toggleDropdown(e.key)},(0,m.v_)(i.selectedOptions[e.key]),9,dt),i.activeDropdown===e.key?((0,s.uX)(),(0,s.CE)("div",vt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.options,(t=>((0,s.uX)(),(0,s.CE)("div",{key:t,onClick:o=>i.selectOption(e.key,t)},(0,m.v_)(t),9,gt)))),128))])):(0,s.Q3)("",!0)])))),128)),(0,s.Lk)("button",{class:"clear-options",onClick:t[0]||(t[0]=(...e)=>i.clearOptions&&i.clearOptions(...e))},"ì´ˆê¸°í™”")])}o(1454);var mt={name:"MovieSearchComponent",emits:["change-options"],setup(e,{emit:t}){const o={originalLanguage:["ìž¥ë¥´ (ì „ì²´)","Action","Adventure","Comedy","Crime","Family"],translationLanguage:["í‰ì  (ì „ì²´)","9~10","8~9","7~8","6~7","5~6","4~5","4ì  ì´í•˜"],sorting:["ì–¸ì–´ (ì „ì²´)","ì˜ì–´","í•œêµ­ì–´"]},i={originalLanguage:"ìž¥ë¥´ (ì „ì²´)",translationLanguage:"í‰ì  (ì „ì²´)",sorting:"ì–¸ì–´ (ì „ì²´)"},n=(0,C.KR)({...i}),r=(0,C.KR)(null),l=(0,s.EW)((()=>Object.entries(o).map((([e,t])=>({key:e,options:t}))))),a=e=>{r.value=r.value===e?null:e},u=(e,o)=>{n.value={...n.value,[e]:o},console.log("Selected options:",n.value),t("change-options",n.value),r.value=null},c=()=>{n.value={...i},r.value=null,console.log("Options cleared:",n.value),t("change-options",n.value)};return{dropdownEntries:l,selectedOptions:n,activeDropdown:r,toggleDropdown:a,selectOption:u,clearOptions:c}}};const ht=(0,a.A)(mt,[["render",pt],["__scopeId","data-v-c902c724"]]);var ft=ht,bt={name:"HomeSearchComponent",components:{MovieSearchComponent:ft,MovieInfiniteScrollComponent:je},setup(){const e=(0,C.KR)(localStorage.getItem("TMDb-Key")||""),t=(0,C.KR)("28"),o=(0,C.KR)(-1),i=(0,C.KR)("all"),s={"ìž¥ë¥´ (ì „ì²´)":0,Action:28,Adventure:12,Comedy:35,Crime:80,Family:10751},n={"ì–¸ì–´ (ì „ì²´)":"all","ì˜ì–´":"en","í•œêµ­ì–´":"ko"},r={"í‰ì  (ì „ì²´)":-1,"9~10":9,"8~9":8,"7~8":7,"6~7":6,"5~6":5,"4~5":4,"4ì  ì´í•˜":-2},l=e=>{console.log("Received options:",e),t.value=`${s[e.originalLanguage]}`,o.value=r[e.translationLanguage],i.value=n[e.sorting]};return{apiKey:e,genreId:t,ageId:o,sortId:i,changeOptions:l}}};const wt=(0,a.A)(bt,[["render",ut],["__scopeId","data-v-308ff03d"]]);var kt=wt;const Ct=[{path:"/Project2",component:_,children:[{path:"",component:ee},{path:"popular",component:ze},{path:"wishlist",component:nt},{path:"search",component:kt}]},{path:"/signin",component:de}],Lt=(0,d.aE)({history:(0,d.LA)(),routes:Ct});var yt=Lt,Et=o(782),Mt=(0,Et.y$)({state:{},getters:{},mutations:{},actions:{},modules:{}}),It=o(7411);o(7917);(0,i.Ef)(c).use(Mt).use(yt).use(It.Ay).mount("#app")}},t={};function o(i){var s=t[i];if(void 0!==s)return s.exports;var n=t[i]={exports:{}};return e[i].call(n.exports,n,n.exports,o),n.exports}o.m=e,function(){var e=[];o.O=function(t,i,s,n){if(!i){var r=1/0;for(c=0;c<e.length;c++){i=e[c][0],s=e[c][1],n=e[c][2];for(var l=!0,a=0;a<i.length;a++)(!1&n||r>=n)&&Object.keys(o.O).every((function(e){return o.O[e](i[a])}))?i.splice(a--,1):(l=!1,n<r&&(r=n));if(l){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[i,s,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,i){var s,n,r=i[0],l=i[1],a=i[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(s in l)o.o(l,s)&&(o.m[s]=l[s]);if(a)var c=a(o)}for(t&&t(i);u<r.length;u++)n=r[u],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(c)},i=self["webpackChunkproject2"]=self["webpackChunkproject2"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=o.O(void 0,[504],(function(){return o(3187)}));i=o.O(i)})();
//# sourceMappingURL=app.e743df46.js.map