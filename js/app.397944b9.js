(function(){"use strict";var e={9289:function(e,o,t){var i=t(5130),n=t(6768);const s={id:"app"};function a(e,o,t,i,a,r){const l=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.bF)(l)])}var r={name:"App",data(){return{title:"Movie"}},mounted(){console.log(`App loaded with title: ${this.title}`)}},l=t(1241);const c=(0,l.A)(r,[["render",a]]);var u=c,d=(t(4114),t(8992),t(7550),t(4603),t(7566),t(8721),t(1387));const g={key:0,id:"app"},v={id:"container"};function p(e,o,t,i,s,a){const r=(0,n.g2)("HeaderComponent"),l=(0,n.g2)("router-view");return s.isReady?((0,n.uX)(),(0,n.CE)("div",g,[(0,n.bF)(r),(0,n.Lk)("div",v,[(0,n.bF)(l)])])):(0,n.Q3)("",!0)}t(2577);var h=t(4232);const k={class:"header-left"},m={class:"logo"},b={class:"nav-links desktop-nav"},w={class:"header-right"},f={key:0,class:"icon-id desktop-logout"},C={key:2,class:"username"},L={key:3,class:"username"},y={class:"mobile-nav-ui"};function E(e,o,t,i,s,a){const r=(0,n.g2)("font-awesome-icon"),l=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("header",{class:(0,h.C4)(["app-header",{scrolled:i.isScrolled}])},[(0,n.Lk)("div",k,[(0,n.Lk)("div",m,[(0,n.bF)(l,{to:"/Project2"},{default:(0,n.k6)((()=>[(0,n.bF)(r,{icon:["fas","ticket"],style:{height:"100%",color:"#E50914"}})])),_:1})]),(0,n.Lk)("nav",b,[(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[(0,n.bF)(l,{to:"/Project2"},{default:(0,n.k6)((()=>o[6]||(o[6]=[(0,n.eW)("홈")]))),_:1})]),(0,n.Lk)("li",null,[(0,n.bF)(l,{to:"/Project2/popular"},{default:(0,n.k6)((()=>o[7]||(o[7]=[(0,n.eW)("대세 콘텐츠")]))),_:1})]),(0,n.Lk)("li",null,[(0,n.bF)(l,{to:"/Project2/wishlist"},{default:(0,n.k6)((()=>o[8]||(o[8]=[(0,n.eW)("내가 찜한 리스트")]))),_:1})]),(0,n.Lk)("li",null,[(0,n.bF)(l,{to:"/Project2/search"},{default:(0,n.k6)((()=>o[9]||(o[9]=[(0,n.eW)("찾아보기")]))),_:1})])])])]),(0,n.Lk)("div",w,[i.isLoggedIn?((0,n.uX)(),(0,n.CE)("span",f,[(0,n.bF)(r,{icon:["far","id-badge"]})])):(0,n.Q3)("",!0),i.isLoggedIn?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("button",{key:1,class:"icon-login desktop-logout",onClick:o[0]||(o[0]=(...e)=>i.logIn&&i.logIn(...e))},[(0,n.bF)(r,{icon:["fas","door-open"]})])),i.isLoggedIn?((0,n.uX)(),(0,n.CE)("span",C,(0,h.v_)(i.kakaoName),1)):(0,n.Q3)("",!0),i.isLoggedIn?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",L,"로그인이 필요합니다.")),i.isLoggedIn?((0,n.uX)(),(0,n.CE)("button",{key:4,class:"icon-button desktop-logout",onClick:o[1]||(o[1]=(...e)=>i.handleLogout&&i.handleLogout(...e))},[(0,n.bF)(r,{icon:["fas","arrow-right-from-bracket"]})])):(0,n.Q3)("",!0),(0,n.Lk)("button",{class:"icon-button mobile-menu-button",onClick:o[2]||(o[2]=(...e)=>i.toggleMobileMenu&&i.toggleMobileMenu(...e))},[(0,n.bF)(r,{icon:["fas","bars"]})])]),(0,n.Lk)("div",{class:(0,h.C4)(["mobile-nav",{open:i.isMobileMenuOpen}])},[(0,n.Lk)("button",{class:"close-button",onClick:o[3]||(o[3]=(...e)=>i.toggleMobileMenu&&i.toggleMobileMenu(...e))},[(0,n.bF)(r,{icon:["fas","times"]})]),i.isLoggedIn?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("button",{key:0,class:"icon-ui-login icon-button",onClick:o[4]||(o[4]=(...e)=>i.logIn&&i.logIn(...e))},[(0,n.bF)(r,{icon:["fas","door-open"]})])),(0,n.Lk)("div",y,[i.isLoggedIn?((0,n.uX)(),(0,n.CE)("button",{key:0,class:"icon-button icon-ui",onClick:o[5]||(o[5]=(...e)=>i.handleLogout&&i.handleLogout(...e))},[(0,n.bF)(r,{icon:["fas","arrow-right-from-bracket"]})])):(0,n.Q3)("",!0)]),(0,n.Lk)("nav",null,[(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[(0,n.bF)(l,{to:"/Project2",onClick:i.toggleMobileMenu},{default:(0,n.k6)((()=>o[10]||(o[10]=[(0,n.eW)("홈")]))),_:1},8,["onClick"])]),(0,n.Lk)("li",null,[(0,n.bF)(l,{to:"/Project2/popular",onClick:i.toggleMobileMenu},{default:(0,n.k6)((()=>o[11]||(o[11]=[(0,n.eW)("대세 콘텐츠")]))),_:1},8,["onClick"])]),(0,n.Lk)("li",null,[(0,n.bF)(l,{to:"/Project2/wishlist",onClick:i.toggleMobileMenu},{default:(0,n.k6)((()=>o[12]||(o[12]=[(0,n.eW)("내가 찜한 리스트")]))),_:1},8,["onClick"])]),(0,n.Lk)("li",null,[(0,n.bF)(l,{to:"/Project2/search",onClick:i.toggleMobileMenu},{default:(0,n.k6)((()=>o[13]||(o[13]=[(0,n.eW)("찾아보기")]))),_:1},8,["onClick"])])])])],2)],2)}var R=t(782),I=t(144),A=t(8950),P=t(292),M=t(2353),K=t(92),F=t(4084);A.Yv.add(K.CI$,M.uQF,M.ycA,M.ckx,M.GRI,M.PIP);var S={components:{FontAwesomeIcon:P.gc},setup(){const e=(0,R.Pj)(),o=(0,I.KR)(!1),t=(0,I.KR)(!1),i=(0,d.rd)(),s=(0,I.KR)(localStorage.getItem("isLoggedIn")),a=(0,I.KR)(localStorage.getItem("loggedInUser")),r=(0,I.KR)(localStorage.getItem("kakaoNickname")),l=()=>{o.value=window.scrollY>50},c=()=>{s.value?(0,F.oR)("로그인 되어있는 사용자: "+kakaoNickname.value,{type:"success"}):((0,F.oR)("로그인이 필요합니다.",{type:"error"}),i.push("/signin"))},u=()=>{s.value||i.push("/signin")},g=()=>{try{localStorage.removeItem("isLoggedIn"),localStorage.removeItem("loggedInUser"),s.value=!1,a.value="",(0,F.oR)("로그아웃 되었습니다.",{type:"success"})}catch(e){alert("Error during logout:",e)}},v=()=>{t.value=!t.value},p=async()=>{console.log("로그아웃 버튼이 클릭되었습니다.");try{g(),await e.dispatch("kakaoLogout"),s.value=!1,r.value="",(0,F.oR)("로그아웃 완료",{type:"success"})}catch(o){console.error("로그아웃 중 오류 발생:",o)}};return(0,n.sV)((()=>{window.addEventListener("scroll",l)})),(0,n.hi)((()=>{window.removeEventListener("scroll",l)})),{...(0,R.i0)(["kakaoLogout"]),isScrolled:o,isMobileMenuOpen:t,isLoggedIn:s,loggedInUser:a,loginValid:c,logOut:g,logIn:u,toggleMobileMenu:v,kakaoName:r,handleLogout:p}}};const W=(0,l.A)(S,[["render",E],["__scopeId","data-v-11af29c6"]]);var U=W,X=t(4373),T={name:"HomeComponent",components:{HeaderComponent:U},data(){return{isReady:!1,email:"",password:"",kakaoAccessToken:null,user:{}}},created(){const e=new URLSearchParams(window.location.search),o=e.get("code");o&&(console.log("카카오 인증 코드 감지:",o),this.handleKakaoLogin(o)),this.isReady=!0},methods:{async handleKakaoLogin(e){try{const o=await X.A.post("https://kauth.kakao.com/oauth/token",new URLSearchParams({grant_type:"authorization_code",client_id:"1131b32a16b2f10bc5780fb2a906626e",redirect_uri:"https://mkae21.github.io/Project2/",code:e}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),t=o.data;console.log("카카오 토큰:",t),t.access_token&&(this.kakaoAccessToken=t.access_token,localStorage.setItem("kakaoAccessToken",t.access_token),await this.fetchKakaoUserInfo(t.access_token),this.$router.push("/Project2"))}catch(o){console.error("카카오 로그인 처리 중 오류:",o)}},async fetchKakaoUserInfo(e){try{const o=await X.A.get("https://kapi.kakao.com/v2/user/me",{headers:{Authorization:`Bearer ${e}`}});this.user=o.data,console.log("카카오 사용자 정보:",this.user),localStorage.setItem("kakaoUserInfo",JSON.stringify(this.user))}catch(o){console.error("카카오 사용자 정보 가져오기 오류:",o)}},async handleLogin(){const e=JSON.parse(localStorage.getItem("users")||"[]"),o=e.find((e=>e.email===this.email&&e.apiKey===this.password));o?(console.log("로그인 성공"),localStorage.setItem("isLoggedIn","true"),this.$router.push("/Project2")):console.error("로그인 실패: 이메일 또는 비밀번호를 확인해주세요.")},kakaoLogin(){const e="1131b32a16b2f10bc5780fb2a906626e",o="https://mkae21.github.io/Project2/",t=`https://kauth.kakao.com/oauth/authorize?client_id=${e}&redirect_uri=${encodeURIComponent(o)}&response_type=code`;window.location.href=t}}};const O=(0,l.A)(T,[["render",p],["__scopeId","data-v-88d89984"]]);var V=O;const _={class:"home"};function x(e,o,t,i,s,a){const r=(0,n.g2)("BannerComponent"),l=(0,n.g2)("MovieRowComponent");return(0,n.uX)(),(0,n.CE)("div",_,[i.featuredMovies.length>0?((0,n.uX)(),(0,n.Wv)(r,{key:0,movies:i.featuredMovies},null,8,["movies"])):(0,n.Q3)("",!0),(0,n.bF)(l,{title:"인기 영화",fetchUrl:i.popularMoviesUrl},null,8,["fetchUrl"]),(0,n.bF)(l,{title:"최신 영화",fetchUrl:i.newReleasesUrl},null,8,["fetchUrl"]),(0,n.bF)(l,{title:"액션 영화",fetchUrl:i.actionMoviesUrl},null,8,["fetchUrl"])])}class j{async fetchFeaturedMovie(e,o=5){try{const t=await X.A.get(`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR`);return t.data.results.slice(0,o)}catch(t){throw console.error("Error fetching featured movies:",t),t}}getURL4PopularMovies(e,o=1){return`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR&page=${o}`}getURL4ReleaseMovies(e,o=2){return`https://api.themoviedb.org/3/movie/now_playing?api_key=${e}&language=ko-KR&page=${o}`}getURL4GenreMovies(e,o,t=1){return`https://api.themoviedb.org/3/discover/movie?api_key=${e}&with_genres=${o}&language=ko-KR&page=${t}`}}var B=new j;const Q={class:"banner-content"},J=["onClick"],z={key:0,class:"overview slide-down"};function N(e,o,t,i,s,a){const r=(0,n.g2)("swiper-slide"),l=(0,n.g2)("swiper");return(0,n.uX)(),(0,n.CE)(n.FK,null,[o[1]||(o[1]=(0,n.Lk)("div",{class:"title"},[(0,n.Lk)("h4",null,"오늘의 top 5")],-1)),(0,n.bF)(l,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{clickable:!0},navigation:!0,modules:i.modules,class:"banner-container"},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.movies,(e=>((0,n.uX)(),(0,n.Wv)(r,{key:e.id,style:(0,h.Tr)({backgroundImage:`url(https://image.tmdb.org/t/p/original${e.backdrop_path})`})},{default:(0,n.k6)((()=>[(0,n.Lk)("div",Q,[(0,n.Lk)("h1",null,(0,h.v_)(e.title),1),o[0]||(o[0]=(0,n.Lk)("button",{class:"play-btn title-btn"},"재생",-1)),(0,n.Lk)("button",{class:"info-btn title-btn",onClick:o=>i.toggleDetails(e.id)},(0,h.v_)(i.selectedMovieId===e.id?"닫기":"상세 정보"),9,J),i.selectedMovieId===e.id?((0,n.uX)(),(0,n.CE)("p",z,(0,h.v_)(e.overview),1)):(0,n.Q3)("",!0)])])),_:2},1032,["style"])))),128))])),_:1},8,["modules"])],64)}var H=t(8421),q=t(317),D={name:"BannerComponent",components:{Swiper:H.RC,SwiperSlide:H.qr},props:{movies:{type:Array,required:!0}},setup(){const e=(0,I.KR)(null),o=o=>{e.value=e.value===o?null:o};return{modules:[q.Ij,q.dK,q.Vx],selectedMovieId:e,toggleDetails:o}}};const G=(0,l.A)(D,[["render",N],["__scopeId","data-v-05a560e9"]]);var Y=G;const Z={class:"movie-row"},$=["disabled"],ee={class:"slider-window",ref:"sliderWindow"},oe=["onClick"],te=["src","alt"],ie={key:0,class:"wishlist-indicator"},ne={class:"movie-overview"},se=["disabled"];function ae(e,o,t,i,s,a){return(0,n.uX)(),(0,n.CE)("div",Z,[(0,n.Lk)("h2",null,(0,h.v_)(t.title),1),(0,n.Lk)("div",{class:"slider-container",onWheel:o[2]||(o[2]=(...o)=>e.handleWheel&&e.handleWheel(...o)),onMousemove:o[3]||(o[3]=e=>i.showButtons=!0),onMouseleave:o[4]||(o[4]=e=>i.showButtons=!1)},[(0,n.Lk)("button",{class:"slider-button left",onClick:o[0]||(o[0]=e=>i.slide("left")),disabled:i.atLeftEdge}," < ",8,$),(0,n.Lk)("div",ee,[(0,n.Lk)("div",{class:"movie-slider",ref:"slider",style:(0,h.Tr)({transform:"translateX("+-i.scrollAmount+"px)"})},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.movies,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"movie-card",onClick:o=>i.toggleWishlist(e)},[(0,n.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title},null,8,te),i.isInWishlist(e.id)?((0,n.uX)(),(0,n.CE)("div",ie," 👍 ")):(0,n.Q3)("",!0),(0,n.Lk)("div",ne,[(0,n.Lk)("p",null,(0,h.v_)(e.overview),1)])],8,oe)))),128))],4)],512),(0,n.Lk)("button",{class:"slider-button right",onClick:o[1]||(o[1]=e=>i.slide("right")),disabled:i.atRightEdge}," > ",8,se)],32)])}t(4520);class re{constructor(){this.wishlist=(0,I.KR)([]),this.loadWishlist()}loadWishlist(){const e=localStorage.getItem("movieWishlist");e&&(this.wishlist.value=JSON.parse(e))}saveWishlist(){localStorage.setItem("movieWishlist",JSON.stringify(this.wishlist.value))}toggleWishlist(e){const o=this.wishlist.value.findIndex((o=>o.id===e.id));-1===o?this.wishlist.value.push(e):this.wishlist.value=this.wishlist.value.filter((o=>o.id!==e.id)),this.saveWishlist()}isInWishlist(e){return this.wishlist.value.some((o=>o.id===e))}getCurrentWishlist(){return this.wishlist.value}}const le=new re;var ce=le,ue={props:{title:{type:String,required:!0},fetchUrl:{type:String,required:!0}},setup(e){const o=(0,I.KR)([]),t=(0,I.KR)(0),i=(0,I.KR)(!1),s=(0,I.KR)(0),a=(0,I.KR)(null),r=(0,I.KR)(null);(0,n.sV)((async()=>{await l(),c()}));const l=async()=>{try{const t=await X.A.get(e.fetchUrl);o.value=t.data.results}catch(t){console.error("Error fetching movies:",t)}},c=()=>{a.value&&r.value&&(s.value=Math.max(0,a.value.scrollWidth-r.value.clientWidth))},u=e=>{const o=.8*r.value.clientWidth;t.value="left"===e?Math.max(0,t.value-o):Math.min(s.value,t.value+o)},d=e=>`https://image.tmdb.org/t/p/w300${e}`,g=(0,n.EW)((()=>t.value<=0)),v=(0,n.EW)((()=>t.value>=s.value)),p=e=>{ce.toggleWishlist(e)},h=e=>ce.isInWishlist(e);return{movies:o,scrollAmount:t,showButtons:i,atLeftEdge:g,atRightEdge:v,slide:u,getImageUrl:d,toggleWishlist:p,isInWishlist:h,slider:a,sliderWindow:r}}};const de=(0,l.A)(ue,[["render",ae],["__scopeId","data-v-75f9b75a"]]);var ge=de,ve={name:"HomeMainComponent",components:{BannerComponent:Y,MovieRowComponent:ge},setup(){const e="b1907f9b9967490f278a974270b85f60",o=(0,I.KR)([]),t=(0,I.KR)(B.getURL4PopularMovies(e)),i=(0,I.KR)(B.getURL4ReleaseMovies(e)),s=(0,I.KR)(B.getURL4GenreMovies(e,"28")),a=async()=>{try{const t=await B.fetchFeaturedMovie(e);console.log("Fetched featured movies:",t),o.value=t.slice(0,5)}catch(t){console.error("Error loading featured movie:",t)}},r=()=>{const e=()=>{const e=document.querySelector(".app-header");window.scrollY>50?e?.classList.add("scrolled"):e?.classList.remove("scrolled")};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}};let l;return(0,n.sV)((()=>{a(),l=r()})),(0,n.xo)((()=>{l?.()})),{featuredMovies:o,popularMoviesUrl:t,newReleasesUrl:i,actionMoviesUrl:s}}};const pe=(0,l.A)(ve,[["render",x],["__scopeId","data-v-668809c4"]]);var he=pe,ke="data:image/png;base64,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";const me={class:"container"},be={id:"phone"},we={id:"content-wrapper"},fe={class:"checkbox remember"},Ce=["disabled"],Le={class:"checkbox remember"},ye=["disabled"];function Ee(e,o,t,s,a,r){return(0,n.uX)(),(0,n.CE)("div",null,[o[33]||(o[33]=(0,n.Lk)("div",{class:"bg-image"},null,-1)),(0,n.Lk)("div",me,[(0,n.Lk)("div",be,[(0,n.Lk)("div",we,[(0,n.Lk)("div",{class:(0,h.C4)(["card",{hidden:!a.isLoginVisible}]),id:"login"},[(0,n.Lk)("form",{onSubmit:o[8]||(o[8]=(0,i.D$)(((...o)=>e.handleLogin&&e.handleLogin(...o)),["prevent"]))},[o[26]||(o[26]=(0,n.Lk)("h1",null,"Sign in",-1)),(0,n.Lk)("div",{class:(0,h.C4)(["input",{active:a.isEmailFocused||a.email}])},[(0,n.bo)((0,n.Lk)("input",{id:"email",type:"email","onUpdate:modelValue":o[0]||(o[0]=e=>a.email=e),onFocus:o[1]||(o[1]=e=>r.focusInput("email")),onBlur:o[2]||(o[2]=e=>r.blurInput("email"))},null,544),[[i.Jo,a.email]]),o[22]||(o[22]=(0,n.Lk)("label",{for:"email"},"Username or Email",-1))],2),(0,n.Lk)("div",{class:(0,h.C4)(["input",{active:a.isPasswordFocused||a.password}])},[(0,n.bo)((0,n.Lk)("input",{id:"password",type:"password","onUpdate:modelValue":o[3]||(o[3]=e=>a.password=e),onFocus:o[4]||(o[4]=e=>r.focusInput("password")),onBlur:o[5]||(o[5]=e=>r.blurInput("password"))},null,544),[[i.Jo,a.password]]),o[23]||(o[23]=(0,n.Lk)("label",{for:"password"},"Password",-1))],2),(0,n.Lk)("span",fe,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox",id:"remember","onUpdate:modelValue":o[6]||(o[6]=e=>a.rememberMe=e)},null,512),[[i.lH,a.rememberMe]]),o[24]||(o[24]=(0,n.Lk)("label",{for:"remember",class:"read-text"},"Remember me",-1))]),o[27]||(o[27]=(0,n.Lk)("span",{class:"checkbox forgot"},[(0,n.Lk)("a",{href:"#"},"Forgot Password?")],-1)),(0,n.Lk)("button",{disabled:!r.isLoginFormValid},"Login",8,Ce),(0,n.Lk)("a",{href:"javascript:void(0)",onClick:o[7]||(o[7]=(...e)=>r.kakaoLogin&&r.kakaoLogin(...e))},o[25]||(o[25]=[(0,n.Lk)("img",{src:ke},null,-1)]))],32),(0,n.Lk)("a",{href:"javascript:void(0)",class:"account-check",onClick:o[9]||(o[9]=(...e)=>r.toggleCard&&r.toggleCard(...e))},(0,h.v_)(a.isLoginVisible?"Don't have an account? Sign up":"Already have an account? Sign in"),1)],2),(0,n.Lk)("div",{class:(0,h.C4)(["card",{hidden:a.isLoginVisible}]),id:"register"},[(0,n.Lk)("form",{onSubmit:o[20]||(o[20]=(0,i.D$)(((...o)=>e.handleRegister&&e.handleRegister(...o)),["prevent"]))},[o[32]||(o[32]=(0,n.Lk)("h1",null,"Sign up",-1)),(0,n.Lk)("div",{class:(0,h.C4)(["input",{active:a.isRegisterEmailFocused||a.registerEmail}])},[(0,n.bo)((0,n.Lk)("input",{id:"register-email",type:"email","onUpdate:modelValue":o[10]||(o[10]=e=>a.registerEmail=e),onFocus:o[11]||(o[11]=e=>r.focusInput("registerEmail")),onBlur:o[12]||(o[12]=e=>r.blurInput("registerEmail"))},null,544),[[i.Jo,a.registerEmail]]),o[28]||(o[28]=(0,n.Lk)("label",{for:"register-email"},"Email",-1))],2),(0,n.Lk)("div",{class:(0,h.C4)(["input",{active:a.isRegisterPasswordFocused||a.registerPassword}])},[(0,n.bo)((0,n.Lk)("input",{id:"register-password",type:"password","onUpdate:modelValue":o[13]||(o[13]=e=>a.registerPassword=e),onFocus:o[14]||(o[14]=e=>r.focusInput("registerPassword")),onBlur:o[15]||(o[15]=e=>r.blurInput("registerPassword"))},null,544),[[i.Jo,a.registerPassword]]),o[29]||(o[29]=(0,n.Lk)("label",{for:"register-password"},"Password",-1))],2),(0,n.Lk)("div",{class:(0,h.C4)(["input",{active:a.isConfirmPasswordFocused||a.confirmPassword}])},[(0,n.bo)((0,n.Lk)("input",{id:"confirm-password",type:"password","onUpdate:modelValue":o[16]||(o[16]=e=>a.confirmPassword=e),onFocus:o[17]||(o[17]=e=>r.focusInput("confirmPassword")),onBlur:o[18]||(o[18]=e=>r.blurInput("confirmPassword"))},null,544),[[i.Jo,a.confirmPassword]]),o[30]||(o[30]=(0,n.Lk)("label",{for:"confirm-password"},"Confirm Password",-1))],2),(0,n.Lk)("span",Le,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox",id:"terms","onUpdate:modelValue":o[19]||(o[19]=e=>a.acceptTerms=e)},null,512),[[i.lH,a.acceptTerms]]),o[31]||(o[31]=(0,n.Lk)("label",{for:"terms",class:"read-text"},[(0,n.eW)(" I have read "),(0,n.Lk)("b",null,"Terms and Conditions")],-1))]),(0,n.Lk)("button",{disabled:!r.isRegisterFormValid},"Register",8,ye)],32),(0,n.Lk)("a",{href:"javascript:void(0)",class:"account-check",onClick:o[21]||(o[21]=(...e)=>r.toggleCard&&r.toggleCard(...e))},(0,h.v_)(a.isLoginVisible?"Don't have an account? Sign up":"Already have an account? Sign in"),1)],2)])])])])}var Re={data(){return{isLoginVisible:!0,email:"",password:"",registerEmail:"",registerPassword:"",confirmPassword:"",rememberMe:!1,acceptTerms:!1,isEmailFocused:!1,isPasswordFocused:!1,isRegisterEmailFocused:!1,isRegisterPasswordFocused:!1,isConfirmPasswordFocused:!1,kakaoAccessToken:null,user:{}}},created(){const e=new URLSearchParams(window.location.search),o=e.get("code");o&&(console.log("카카오 인증 코드 감지:",o),this.handleKakaoLogin(o))},computed:{isLoginFormValid(){return this.email&&this.password},isRegisterFormValid(){return this.registerEmail&&this.registerPassword&&this.confirmPassword&&this.registerPassword===this.confirmPassword&&this.acceptTerms}},methods:{toggleCard(){this.isLoginVisible=!this.isLoginVisible},focusInput(e){this[`is${e.charAt(0).toUpperCase()+e.slice(1)}Focused`]=!0},blurInput(e){this[`is${e.charAt(0).toUpperCase()+e.slice(1)}Focused`]=!1},async handleKakaoLogin(e){try{const o=await X.A.post("https://kauth.kakao.com/oauth/token",new URLSearchParams({grant_type:"authorization_code",client_id:"1131b32a16b2f10bc5780fb2a906626e",redirect_uri:"https://mkae21.github.io/Project2/",code:e}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),t=o.data;console.log("카카오 토큰:",t),t.access_token&&(localStorage.setItem("kakaoAccessToken",t.access_token),this.$router.push("/Project2"))}catch(o){console.error("카카오 로그인 처리 중 오류:",o)}},kakaoLogin(){const e="1131b32a16b2f10bc5780fb2a906626e",o="https://mkae21.github.io/Project2/",t=`https://kauth.kakao.com/oauth/authorize?client_id=${e}&redirect_uri=${encodeURIComponent(o)}&response_type=code`;window.location.href=t}}};const Ie=(0,l.A)(Re,[["render",Ee],["__scopeId","data-v-6d9dc016"]]);var Ae=Ie;const Pe={class:"popular-container"},Me={class:"view-toggle"};function Ke(e,o,t,s,a,r){const l=(0,n.g2)("font-awesome-icon"),c=(0,n.g2)("MovieGridComponent"),u=(0,n.g2)("MovieInfiniteScrollComponent");return(0,n.uX)(),(0,n.CE)("div",Pe,[(0,n.Lk)("div",Me,[(0,n.Lk)("button",{onClick:o[0]||(o[0]=e=>s.setView("grid")),class:(0,h.C4)({active:"grid"===s.currentView})},[(0,n.bF)(l,{icon:["fas","th"]})],2),(0,n.Lk)("button",{onClick:o[1]||(o[1]=e=>s.setView("list")),class:(0,h.C4)({active:"list"===s.currentView})},[(0,n.bF)(l,{icon:["fas","bars"]})],2)]),s.fetchUrl?(0,n.bo)(((0,n.uX)(),(0,n.Wv)(c,{key:0,fetchUrl:s.fetchUrl},null,8,["fetchUrl"])),[[i.aG,"grid"===s.currentView]]):(0,n.Q3)("",!0),"list"===s.currentView?((0,n.uX)(),(0,n.Wv)(u,{key:1,apiKey:s.apiKey,genreCode:"28",sortingOrder:"all",voteEverage:-1},null,8,["apiKey"])):(0,n.Q3)("",!0)])}const Fe={class:"movie-grid",ref:"gridContainer"},Se=["onMouseup"],We=["src","alt"],Ue={class:"movie-title"},Xe={class:"movie-overview"},Te={key:0,class:"wishlist-indicator"},Oe={key:0,class:"pagination"},Ve=["disabled"],_e=["disabled"];function xe(e,o,t,i,s,a){return(0,n.uX)(),(0,n.CE)("div",Fe,[(0,n.Lk)("div",{class:(0,h.C4)(["grid-container",i.currentView])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.visibleMovieGroups,((e,o)=>((0,n.uX)(),(0,n.CE)("div",{key:`group-${o}`,class:(0,h.C4)(["movie-row",{full:e.length===i.rowSize}])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"movie-card",onMouseup:o=>i.toggleWishlist(e)},[(0,n.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title},null,8,We),(0,n.Lk)("div",Ue,(0,h.v_)(e.title),1),(0,n.Lk)("div",Xe,[(0,n.Lk)("p",null,(0,h.v_)(e.overview),1)]),i.isInWishlist(e.id)?((0,n.uX)(),(0,n.CE)("div",Te,"👍")):(0,n.Q3)("",!0)],40,Se)))),128))],2)))),128))],2),i.totalPages>1?((0,n.uX)(),(0,n.CE)("div",Oe,[(0,n.Lk)("button",{onClick:o[0]||(o[0]=(...e)=>i.prevPage&&i.prevPage(...e)),disabled:1===i.currentPage},"< 이전",8,Ve),(0,n.Lk)("span",null,(0,h.v_)(i.currentPage)+" / "+(0,h.v_)(i.totalPages),1),(0,n.Lk)("button",{onClick:o[1]||(o[1]=(...e)=>i.nextPage&&i.nextPage(...e)),disabled:i.currentPage===i.totalPages},"다음 >",8,_e)])):(0,n.Q3)("",!0)],512)}t(8872);var je={name:"MovieGridComponent",props:{fetchUrl:{type:String,required:!0}},setup(e){const o=(0,I.KR)([]),t=(0,I.KR)(1),i=(0,I.KR)(4),s=(0,I.KR)(20),a=(0,I.KR)(window.innerWidth<=768),r=(0,I.KR)("grid"),l=(0,I.KR)(null);let c=null;const u=async()=>{try{const t=120,i=Math.ceil(t/20);let n=[];for(let o=1;o<=i;o++){const t=await X.A.get(e.fetchUrl,{params:{page:o,per_page:s.value}});n=[...n,...t.data.results]}o.value=n.slice(0,t)}catch(t){console.error("Error fetching movies:",t)}},d=(0,n.EW)((()=>{const e=(t.value-1)*s.value,n=e+s.value,a=o.value.slice(e,n);return a.reduce(((e,o,t)=>{const n=Math.floor(t/i.value);return e[n]||(e[n]=[]),e[n].push(o),e}),[])})),g=(0,n.EW)((()=>Math.ceil(o.value.length/s.value))),v=()=>{t.value<g.value&&t.value++},p=()=>{t.value>1&&t.value--},h=e=>{c&&clearTimeout(c),c=setTimeout((()=>{ce.toggleWishlist(e)}),2e3)},k=e=>ce.isInWishlist(e),m=()=>{a.value=window.innerWidth<=768,b()},b=()=>{if(l.value){const e=l.value,o=e.offsetWidth,t=l.value.clientHeight,n=a.value?90:200,r=a.value?150:220,c=a.value?10:15,u=20;i.value=Math.floor(o/(n+c));const d=Math.floor(t/(r+u));s.value=i.value*d}},w=e=>`https://image.tmdb.org/t/p/w300${e}`;return(0,n.sV)((async()=>{await u(),b(),window.addEventListener("resize",m)})),(0,n.hi)((()=>{window.removeEventListener("resize",m),c&&clearTimeout(c)})),{gridContainer:l,movies:o,currentPage:t,rowSize:i,moviesPerPage:s,currentView:r,visibleMovieGroups:d,totalPages:g,nextPage:v,prevPage:p,toggleWishlist:h,isInWishlist:k,getImageUrl:w}}};const Be=(0,l.A)(je,[["render",xe],["__scopeId","data-v-f1f17bbe"]]);var Qe=Be;const Je={class:"movie-grid",ref:"gridContainer"},ze=["onMouseup"],Ne=["src","alt"],He={class:"movie-title"},qe={class:"movie-overview"},De={key:0,class:"wishlist-indicator"},Ge={ref:"loadingTrigger",class:"loading-trigger"},Ye={key:0,class:"loading-indicator"};function Ze(e,o,t,i,s,a){return(0,n.uX)(),(0,n.CE)("div",Je,[(0,n.Lk)("div",{class:(0,h.C4)(["grid-container",i.currentView])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.visibleMovieGroups,((e,o)=>((0,n.uX)(),(0,n.CE)("div",{key:`group-${o}`,class:"movie-row"},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"movie-card",onMouseup:o=>i.toggleWishlist(e)},[(0,n.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title,loading:"lazy"},null,8,Ne),(0,n.Lk)("div",He,(0,h.v_)(e.title),1),(0,n.Lk)("div",qe,[(0,n.Lk)("p",null,(0,h.v_)(e.overview),1)]),i.isInWishlist(e.id)?((0,n.uX)(),(0,n.CE)("div",De,"👍")):(0,n.Q3)("",!0)],40,ze)))),128))])))),128))],2),(0,n.Lk)("div",Ge,[i.isLoading?((0,n.uX)(),(0,n.CE)("div",Ye,o[1]||(o[1]=[(0,n.Lk)("div",{class:"spinner"},null,-1),(0,n.Lk)("span",null,"Loading...",-1)]))):(0,n.Q3)("",!0)],512),i.showTopButton?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:o[0]||(o[0]=(...e)=>i.scrollToTopAndReset&&i.scrollToTopAndReset(...e)),class:"top-button","aria-label":"Scroll to Top"}," Top ")):(0,n.Q3)("",!0)],512)}var $e={name:"MovieInfiniteScrollComponent",props:{genreCode:{type:String,required:!0},apiKey:{type:String,required:!0},sortingOrder:{type:String,default:"all"},voteEverage:{type:Number,default:100}},setup(e){const o=(0,I.KR)([]),t=(0,I.KR)(1),i=(0,I.KR)(4),s=(0,I.KR)(!1),a=(0,I.KR)(!0),r=(0,I.KR)(window.innerWidth<=768),l=(0,I.KR)("grid"),c=(0,I.KR)(!1),u=(0,I.KR)(null),d=(0,I.KR)(null);let g=null,v=null;const p=async()=>{if(!s.value&&a.value){s.value=!0;try{const i="0"===e.genreCode?"https://api.themoviedb.org/3/movie/popular":"https://api.themoviedb.org/3/discover/movie",n={api_key:e.apiKey,language:"ko-KR",page:t.value,per_page:10,..."0"!==e.genreCode&&{with_genres:e.genreCode}},{data:s}=await X.A.get(i,{params:n}),r=s.results;if(r.length>0){const i=r.filter((o=>"all"===e.sortingOrder||o.original_language===e.sortingOrder)).filter((o=>-1===e.voteEverage||(-2===e.voteEverage?o.vote_average<=4:o.vote_average>=e.voteEverage&&o.vote_average<e.voteEverage+1)));o.value=[...o.value,...i],t.value++}else a.value=!1}catch(i){console.error("Error fetching movies:",i)}finally{s.value=!1}}};(0,n.wB)((()=>[e.genreCode,e.sortingOrder,e.voteEverage]),(([e,i,n])=>{console.log("Props changed:",{newGenreCode:e,newSortingOrder:i,newVoteEverage:n}),o.value=[],t.value=1,a.value=!0,p()}));const h=()=>{v=new IntersectionObserver((e=>{e[0].isIntersecting&&!s.value&&a.value&&p()}),{rootMargin:"100px",threshold:.1}),d.value&&v.observe(d.value)},k=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/placeholder-image.jpg",m=(0,n.EW)((()=>o.value.reduce(((e,o,t)=>{const n=Math.floor(t/i.value);return e[n]||(e[n]=[]),e[n].push(o),e}),[]))),b=()=>{r.value=window.innerWidth<=768,w()},w=()=>{if(u.value){const e=u.value.offsetWidth,o=r.value?100:300,t=r.value?10:15;i.value=Math.floor(e/(o+t))}},f=()=>{const e=window.pageYOffset||document.documentElement.scrollTop;c.value=e>300},C=()=>{window.scrollTo({top:0,behavior:"smooth"}),L()},L=()=>{o.value=[],t.value=1,a.value=!0,p()},y=e=>{g&&clearTimeout(g),g=setTimeout((()=>{ce.toggleWishlist(e)}),800)},E=e=>ce.isInWishlist(e);return(0,n.sV)((()=>{h(),p(),b(),window.addEventListener("resize",b),window.addEventListener("scroll",f)})),(0,n.hi)((()=>{window.removeEventListener("resize",b),window.removeEventListener("scroll",f),v&&v.disconnect(),g&&clearTimeout(g)})),{gridContainer:u,loadingTrigger:d,movies:o,currentPage:t,rowSize:i,isLoading:s,hasMore:a,isMobile:r,currentView:l,showTopButton:c,getImageUrl:k,visibleMovieGroups:m,scrollToTopAndReset:C,toggleWishlist:y,isInWishlist:E}}};const eo=(0,l.A)($e,[["render",Ze],["__scopeId","data-v-0622af90"]]);var oo=eo;A.Yv.add(M.UTC,M.ckx);var to={name:"HomePopular",components:{FontAwesomeIcon:P.gc,MovieGridComponent:Qe,MovieInfiniteScrollComponent:oo},setup(){const e="b1907f9b9967490f278a974270b85f60",o=(0,I.KR)(e),t=(0,I.KR)("grid"),i=(0,I.KR)(""),s=e=>{t.value=e,"grid"===e?a():r()},a=()=>{document.body.style.overflow="hidden"},r=()=>{document.body.style.overflow="auto"};return(0,n.sV)((async()=>{a();try{i.value=B.getURL4PopularMovies(o.value),console.log("Fetch URL in Parent Component before child:",i.value)}catch(e){console.error("Error initializing HomePopular:",e)}})),{apiKey:o,currentView:t,fetchUrl:i,setView:s}}};const io=(0,l.A)(to,[["render",Ke],["__scopeId","data-v-ebb1464c"]]);var no=io;function so(e,o,t,i,s,a){const r=(0,n.g2)("MovieWishlist");return(0,n.uX)(),(0,n.Wv)(r)}const ao={class:"movie-grid",ref:"gridContainer"},ro=["onClick"],lo=["src","alt"],co={class:"movie-title"},uo={key:0,class:"empty-wishlist"},go={key:1,class:"pagination"},vo=["disabled"],po=["disabled"];function ho(e,o,t,i,s,a){return(0,n.uX)(),(0,n.CE)("div",ao,[(0,n.Lk)("div",{class:(0,h.C4)(["grid-container",i.currentView])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.visibleWishlistMovies,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:`group-${t}`,class:(0,h.C4)(["movie-row",{full:e.length===i.rowSize}])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"movie-card",onClick:o=>i.toggleWishlist(e)},[(0,n.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title},null,8,lo),(0,n.Lk)("div",co,(0,h.v_)(e.title),1),o[2]||(o[2]=(0,n.Lk)("div",{class:"wishlist-indicator"},"👍",-1))],8,ro)))),128))],2)))),128))],2),0===i.wishlistMovies.length?((0,n.uX)(),(0,n.CE)("div",uo," 위시리스트가 비어 있습니다. ")):(0,n.Q3)("",!0),i.totalPages>1?((0,n.uX)(),(0,n.CE)("div",go,[(0,n.Lk)("button",{onClick:o[0]||(o[0]=(...e)=>i.prevPage&&i.prevPage(...e)),disabled:1===i.currentPage},"< 이전",8,vo),(0,n.Lk)("span",null,(0,h.v_)(i.currentPage)+" / "+(0,h.v_)(i.totalPages),1),(0,n.Lk)("button",{onClick:o[1]||(o[1]=(...e)=>i.nextPage&&i.nextPage(...e)),disabled:i.currentPage===i.totalPages},"다음 >",8,po)])):(0,n.Q3)("",!0)],512)}var ko={name:"MovieWishlistComponent",setup(){const e=(0,I.KR)(null),o=(0,I.KR)(4),t=(0,I.KR)(20),i=(0,I.KR)(1),s=(0,I.KR)(window.innerWidth<=768),a=(0,I.KR)("grid"),r=(0,I.KR)([]),l=(0,I.KR)([]),c=new ResizeObserver((()=>d())),u=()=>{r.value=ce.getCurrentWishlist(),g()},d=()=>{if(e.value){const i=e.value.offsetWidth,n=s.value?90:220,a=(s.value,s.value?10:15);o.value=Math.floor(i/(n+a)),t.value=3*o.value,g()}},g=()=>{const e=(i.value-1)*t.value,n=e+t.value,s=r.value.slice(e,n);l.value=s.reduce(((e,t,i)=>{const n=Math.floor(i/o.value);return e[n]||(e[n]=[]),e[n].push(t),e}),[])},v=e=>{ce.toggleWishlist(e),u()},p=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/placeholder-image.jpg",h=(0,n.EW)((()=>Math.ceil(r.value.length/t.value))),k=()=>{i.value<h.value&&(i.value++,g())},m=()=>{i.value>1&&(i.value--,g())},b=()=>{s.value=window.innerWidth<=768,d()};return(0,n.sV)((()=>{u(),d(),window.addEventListener("resize",b),e.value&&c.observe(e.value)})),(0,n.hi)((()=>{window.removeEventListener("resize",b),c.disconnect()})),{gridContainer:e,rowSize:o,currentPage:i,moviesPerPage:t,isMobile:s,currentView:a,wishlistMovies:r,visibleWishlistMovies:l,totalPages:h,toggleWishlist:v,nextPage:k,prevPage:m,getImageUrl:p}}};const mo=(0,l.A)(ko,[["render",ho],["__scopeId","data-v-2f90fa59"]]);var bo=mo,wo={name:"HomeWishlistComponent",components:{MovieWishlist:bo}};const fo=(0,l.A)(wo,[["render",so]]);var Co=fo;const Lo={class:"container-search"},yo={class:"container-search-bar"},Eo={class:"content-search"};function Ro(e,o,t,i,s,a){const r=(0,n.g2)("MovieSearchComponent"),l=(0,n.g2)("MovieInfiniteScrollComponent");return(0,n.uX)(),(0,n.CE)("div",Lo,[(0,n.Lk)("div",yo,[(0,n.bF)(r,{onChangeOptions:i.changeOptions},null,8,["onChangeOptions"])]),(0,n.Lk)("div",Eo,[(0,n.bF)(l,{apiKey:i.apiKey,genreCode:i.genreId,sortingOrder:i.sortId,voteEverage:i.ageId},null,8,["apiKey","genreCode","sortingOrder","voteEverage"])])])}const Io={class:"dropdown-container"},Ao=["onClick"],Po={key:0,class:"select-items"},Mo=["onClick"];function Ko(e,o,t,i,s,a){return(0,n.uX)(),(0,n.CE)("div",Io,[o[1]||(o[1]=(0,n.Lk)("label",null,"선호하는 설정을 선택하세요",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.dropdownEntries,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.key,class:"custom-select"},[(0,n.Lk)("div",{class:"select-selected",onClick:o=>i.toggleDropdown(e.key)},(0,h.v_)(i.selectedOptions[e.key]),9,Ao),i.activeDropdown===e.key?((0,n.uX)(),(0,n.CE)("div",Po,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.options,(o=>((0,n.uX)(),(0,n.CE)("div",{key:o,onClick:t=>i.selectOption(e.key,o)},(0,h.v_)(o),9,Mo)))),128))])):(0,n.Q3)("",!0)])))),128)),(0,n.Lk)("button",{class:"clear-options",onClick:o[0]||(o[0]=(...e)=>i.clearOptions&&i.clearOptions(...e))},"초기화")])}t(1454);var Fo={name:"MovieSearchComponent",emits:["change-options"],setup(e,{emit:o}){const t={originalLanguage:["장르 (전체)","Action","Adventure","Comedy","Crime","Family"],translationLanguage:["평점 (전체)","9~10","8~9","7~8","6~7","5~6","4~5","4점 이하"],sorting:["언어 (전체)","영어","한국어"]},i={originalLanguage:"장르 (전체)",translationLanguage:"평점 (전체)",sorting:"언어 (전체)"},s=(0,I.KR)({...i}),a=(0,I.KR)(null),r=(0,n.EW)((()=>Object.entries(t).map((([e,o])=>({key:e,options:o}))))),l=e=>{a.value=a.value===e?null:e},c=(e,t)=>{s.value={...s.value,[e]:t},o("change-options",s.value),a.value=null},u=()=>{s.value={...i},a.value=null,o("change-options",s.value)};return{dropdownEntries:r,selectedOptions:s,activeDropdown:a,toggleDropdown:l,selectOption:c,clearOptions:u}}};const So=(0,l.A)(Fo,[["render",Ko],["__scopeId","data-v-0435c18d"]]);var Wo=So,Uo={name:"HomeSearchComponent",components:{MovieSearchComponent:Wo,MovieInfiniteScrollComponent:oo},setup(){const e=(0,I.KR)("b1907f9b9967490f278a974270b85f60"),o=(0,I.KR)("28"),t=(0,I.KR)(-1),i=(0,I.KR)("all"),n={"장르 (전체)":0,Action:28,Adventure:12,Comedy:35,Crime:80,Family:10751},s={"언어 (전체)":"all","영어":"en","한국어":"ko"},a={"평점 (전체)":-1,"9~10":9,"8~9":8,"7~8":7,"6~7":6,"5~6":5,"4~5":4,"4점 이하":-2},r=e=>{console.log("Received options:",e),o.value=`${n[e.originalLanguage]}`,t.value=a[e.translationLanguage],i.value=s[e.sorting]};return{apiKey:e,genreId:o,ageId:t,sortId:i,changeOptions:r}}};const Xo=(0,l.A)(Uo,[["render",Ro],["__scopeId","data-v-3c6823f6"]]);var To=Xo;const Oo=[{path:"/Project2",component:V,children:[{path:"",component:he},{path:"popular",component:no},{path:"wishlist",component:Co},{path:"search",component:To}],meta:{requiresAuth:!0}},{path:"/signin",component:Ae}];async function Vo(e,o){try{const t=await fetch("https://kauth.kakao.com/oauth/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"authorization_code",client_id:"1131b32a16b2f10bc5780fb2a906626e",redirect_uri:"https://mkae21.github.io/Project2/",code:e})}),i=await t.json();console.log("카카오 토큰:",i),i.access_token&&(localStorage.setItem("kakaoAccessToken",i.access_token),o.push("/Project2"))}catch(t){console.error("카카오 로그인 처리 중 오류:",t)}}const _o=(0,d.aE)({history:(0,d.LA)(),routes:Oo});_o.beforeEach(((e,o,t)=>{const i=null!==localStorage.getItem("kakaoAccessToken"),n=new URLSearchParams(window.location.search),s=n.get("code");if(!s||i)return e.matched.some((e=>e.meta.requiresAuth))&&!i?((0,F.oR)("로그인이 필요합니다.",{type:"error",autoClose:3e3}),t("/signin")):void t();Vo(s,_o)}));var xo=_o,jo=(0,R.y$)({state:{kakaoAccessToken:localStorage.getItem("kakaoAccessToken")},mutations:{setKakaoAccessToken(e,o){e.kakaoAccessToken=o}},actions:{async kakaoLogout({state:e,commit:o}){if(e.kakaoAccessToken)try{await X.A.post("https://kapi.kakao.com/v1/user/logout",{},{headers:{Authorization:`Bearer ${e.kakaoAccessToken}`}}),console.log("[카카오 로그아웃 성공]"),o("setKakaoAccessToken",null)}catch(t){console.error("카카오 로그아웃 오류:",t)}else console.log("액세스 토큰이 없습니다. 로그아웃 불가")}}}),Bo=t(7411);t(7917);(0,i.Ef)(u).use(jo).use(xo).use(Bo.Ay).mount("#app"),window.Kakao.init("7c01798f2ec3cd71dcca2de889ef87e7")}},o={};function t(i){var n=o[i];if(void 0!==n)return n.exports;var s=o[i]={exports:{}};return e[i].call(s.exports,s,s.exports,t),s.exports}t.m=e,function(){var e=[];t.O=function(o,i,n,s){if(!i){var a=1/0;for(u=0;u<e.length;u++){i=e[u][0],n=e[u][1],s=e[u][2];for(var r=!0,l=0;l<i.length;l++)(!1&s||a>=s)&&Object.keys(t.O).every((function(e){return t.O[e](i[l])}))?i.splice(l--,1):(r=!1,s<a&&(a=s));if(r){e.splice(u--,1);var c=n();void 0!==c&&(o=c)}}return o}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[i,n,s]}}(),function(){t.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(o,{a:o}),o}}(),function(){t.d=function(e,o){for(var i in o)t.o(o,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:o[i]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(o){return 0===e[o]};var o=function(o,i){var n,s,a=i[0],r=i[1],l=i[2],c=0;if(a.some((function(o){return 0!==e[o]}))){for(n in r)t.o(r,n)&&(t.m[n]=r[n]);if(l)var u=l(t)}for(o&&o(i);c<a.length;c++)s=a[c],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(u)},i=self["webpackChunkproject2"]=self["webpackChunkproject2"]||[];i.forEach(o.bind(null,0)),i.push=o.bind(null,i.push.bind(i))}();var i=t.O(void 0,[504],(function(){return t(9289)}));i=t.O(i)})();
//# sourceMappingURL=app.397944b9.js.map