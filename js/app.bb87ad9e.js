(function(){"use strict";var e={6464:function(e,t,o){var i=o(5130),n=o(6768);const s={id:"app"};function l(e,t,o,i,l,r){const a=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.bF)(a)])}var r={name:"App",data(){return{title:"Angular-demo"}},mounted(){console.log(`App loaded with title: ${this.title}`)}},a=o(1241);const u=(0,a.A)(r,[["render",l],["__scopeId","data-v-5875ecaf"]]);var c=u,d=o(1387);const v={id:"app"},g={id:"container"};function p(e,t,o,i,s,l){const r=(0,n.g2)("HeaderComponent"),a=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",v,[(0,n.bF)(r),(0,n.Lk)("div",g,[(0,n.bF)(a)])])}var m=o(4232);const h={class:"header-left"},f={class:"logo"},b={class:"nav-links desktop-nav"},k={class:"header-right"};function w(e,t,o,i,s,l){const r=(0,n.g2)("font-awesome-icon"),a=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("header",{class:(0,m.C4)(["app-header",{scrolled:i.isScrolled}])},[(0,n.Lk)("div",h,[(0,n.Lk)("div",f,[(0,n.bF)(a,{to:"/"},{default:(0,n.k6)((()=>[(0,n.bF)(r,{icon:["fas","ticket"],style:{height:"100%",color:"#E50914"}})])),_:1})]),(0,n.Lk)("nav",b,[(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[(0,n.bF)(a,{to:"/"},{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.eW)("홈")]))),_:1})]),(0,n.Lk)("li",null,[(0,n.bF)(a,{to:"/popular"},{default:(0,n.k6)((()=>t[4]||(t[4]=[(0,n.eW)("대세 콘텐츠")]))),_:1})]),(0,n.Lk)("li",null,[(0,n.bF)(a,{to:"/wishlist"},{default:(0,n.k6)((()=>t[5]||(t[5]=[(0,n.eW)("내가 찜한 리스트")]))),_:1})]),(0,n.Lk)("li",null,[(0,n.bF)(a,{to:"/search"},{default:(0,n.k6)((()=>t[6]||(t[6]=[(0,n.eW)("찾아보기")]))),_:1})])])])]),(0,n.Lk)("div",k,[(0,n.Lk)("button",{class:"icon-button",onClick:t[0]||(t[0]=(...e)=>i.removeKey&&i.removeKey(...e))},[(0,n.bF)(r,{icon:["fas","user"]})]),(0,n.Lk)("button",{class:"icon-button mobile-menu-button",onClick:t[1]||(t[1]=(...e)=>i.toggleMobileMenu&&i.toggleMobileMenu(...e))},[(0,n.bF)(r,{icon:["fas","bars"]})])]),(0,n.Lk)("div",{class:(0,m.C4)(["mobile-nav",{open:i.isMobileMenuOpen}])},[(0,n.Lk)("button",{class:"close-button",onClick:t[2]||(t[2]=(...e)=>i.toggleMobileMenu&&i.toggleMobileMenu(...e))},[(0,n.bF)(r,{icon:["fas","times"]})]),(0,n.Lk)("nav",null,[(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[(0,n.bF)(a,{to:"/",onClick:i.toggleMobileMenu},{default:(0,n.k6)((()=>t[7]||(t[7]=[(0,n.eW)("홈")]))),_:1},8,["onClick"])]),(0,n.Lk)("li",null,[(0,n.bF)(a,{to:"/popular",onClick:i.toggleMobileMenu},{default:(0,n.k6)((()=>t[8]||(t[8]=[(0,n.eW)("대세 콘텐츠")]))),_:1},8,["onClick"])]),(0,n.Lk)("li",null,[(0,n.bF)(a,{to:"/wishlist",onClick:i.toggleMobileMenu},{default:(0,n.k6)((()=>t[9]||(t[9]=[(0,n.eW)("내가 찜한 리스트")]))),_:1},8,["onClick"])]),(0,n.Lk)("li",null,[(0,n.bF)(a,{to:"/search",onClick:i.toggleMobileMenu},{default:(0,n.k6)((()=>t[10]||(t[10]=[(0,n.eW)("찾아보기")]))),_:1},8,["onClick"])])])])],2)],2)}o(4114);var L=o(144),C=o(8950),y=o(292),M=o(2353);C.Yv.add(M.X46,M.ycA,M.ckx,M.GRI);var E={components:{FontAwesomeIcon:y.gc},setup(){const e=(0,L.KR)(!1),t=(0,L.KR)(!1),o=(0,d.rd)(),i=()=>{e.value=window.scrollY>50},s=()=>{localStorage.removeItem("TMDb-Key"),o.push("/signin")},l=()=>{t.value=!t.value};return(0,n.sV)((()=>{window.addEventListener("scroll",i)})),(0,n.hi)((()=>{window.removeEventListener("scroll",i)})),{isScrolled:e,isMobileMenuOpen:t,removeKey:s,toggleMobileMenu:l}}};const R=(0,a.A)(E,[["render",w],["__scopeId","data-v-553662bc"]]);var K=R,I={name:"HomeComponent",components:{HeaderComponent:K}};const W=(0,a.A)(I,[["render",p],["__scopeId","data-v-8e445cec"]]);var _=W;const F={class:"home"};function P(e,t,o,i,s,l){const r=(0,n.g2)("BannerComponent"),a=(0,n.g2)("MovieRowComponent");return(0,n.uX)(),(0,n.CE)("div",F,[(0,n.bF)(r,{movie:i.featuredMovie},null,8,["movie"]),(0,n.bF)(a,{title:"인기 영화",fetchUrl:i.popularMoviesUrl},null,8,["fetchUrl"]),(0,n.bF)(a,{title:"최신 영화",fetchUrl:i.newReleasesUrl},null,8,["fetchUrl"]),(0,n.bF)(a,{title:"액션 영화",fetchUrl:i.actionMoviesUrl},null,8,["fetchUrl"])])}var U=o(4373);class S{async fetchFeaturedMovie(e){try{const t=await U.A.get(`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR`);return console.log(t.data.results[0]),t.data.results[0]}catch(t){throw console.error("Error fetching featured movie:",t),t}}getURL4PopularMovies(e,t=1){return`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR&page=${t}`}getURL4ReleaseMovies(e,t=2){return`https://api.themoviedb.org/3/movie/now_playing?api_key=${e}&language=ko-KR&page=${t}`}getURL4GenreMovies(e,t,o=1){return`https://api.themoviedb.org/3/discover/movie?api_key=${e}&with_genres=${t}&language=ko-KR&page=${o}`}}var O=new S;const T={class:"banner-content"};function X(e,t,o,i,s,l){return o.movie?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"banner",style:(0,m.Tr)({backgroundImage:`url(${l.backdropUrl})`})},[(0,n.Lk)("div",T,[(0,n.Lk)("h1",null,(0,m.v_)(o.movie.title),1),(0,n.Lk)("p",null,(0,m.v_)(o.movie.overview),1),t[0]||(t[0]=(0,n.Lk)("button",{class:"play-btn title-btn"},"재생",-1)),t[1]||(t[1]=(0,n.Lk)("button",{class:"info-btn title-btn"},"상세 정보",-1))])],4)):(0,n.Q3)("",!0)}var A={name:"BannerComponent",props:{movie:{type:Object,required:!0}},computed:{backdropUrl(){return this.movie?`https://image.tmdb.org/t/p/original${this.movie.backdrop_path}`:""}}};const V=(0,a.A)(A,[["render",X],["__scopeId","data-v-3c7b57a6"]]);var $=V;const x={class:"movie-row"},j=["disabled"],B={class:"slider-window",ref:"sliderWindow"},z=["onClick"],D=["src","alt"],H={key:0,class:"wishlist-indicator"},Q=["disabled"];function G(e,t,o,i,s,l){return(0,n.uX)(),(0,n.CE)("div",x,[(0,n.Lk)("h2",null,(0,m.v_)(o.title),1),(0,n.Lk)("div",{class:"slider-container",onWheel:t[2]||(t[2]=(...t)=>e.handleWheel&&e.handleWheel(...t)),onMousemove:t[3]||(t[3]=e=>i.showButtons=!0),onMouseleave:t[4]||(t[4]=e=>i.showButtons=!1)},[(0,n.Lk)("button",{class:"slider-button left",onClick:t[0]||(t[0]=e=>i.slide("left")),disabled:i.atLeftEdge},"<",8,j),(0,n.Lk)("div",B,[(0,n.Lk)("div",{class:"movie-slider",ref:"slider",style:(0,m.Tr)({transform:"translateX("+-i.scrollAmount+"px)"})},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.movies,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"movie-card",onClick:t=>i.toggleWishlist(e)},[(0,n.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title},null,8,D),i.isInWishlist(e.id)?((0,n.uX)(),(0,n.CE)("div",H,"👍")):(0,n.Q3)("",!0)],8,z)))),128))],4)],512),(0,n.Lk)("button",{class:"slider-button right",onClick:t[1]||(t[1]=e=>i.slide("right")),disabled:i.atRightEdge},">",8,Q)],32)])}var q={props:{title:{type:String,required:!0},fetchUrl:{type:String,required:!0}},setup(e){const t=(0,L.KR)([]),o=(0,L.KR)(0),i=(0,L.KR)(!1),s=(0,L.KR)(0),l=(0,L.KR)(null),r=(0,L.KR)(null);(0,n.sV)((async()=>{await a(),u()}));const a=async()=>{try{const o=await U.A.get(e.fetchUrl);t.value=o.data.results}catch(o){console.error("Error fetching movies:",o)}},u=()=>{l.value&&r.value&&(s.value=Math.max(0,l.value.scrollWidth-r.value.clientWidth))},c=e=>{const t=.8*r.value.clientWidth;o.value="left"===e?Math.max(0,o.value-t):Math.min(s.value,o.value+t)},d=e=>`https://image.tmdb.org/t/p/w300${e}`,v=(0,n.EW)((()=>o.value<=0)),g=(0,n.EW)((()=>o.value>=s.value)),p=e=>{},m=e=>!1;return{movies:t,scrollAmount:o,showButtons:i,atLeftEdge:v,atRightEdge:g,slide:c,getImageUrl:d,toggleWishlist:p,isInWishlist:m,slider:l,sliderWindow:r}}};const J=(0,a.A)(q,[["render",G],["__scopeId","data-v-3a78ad43"]]);var Y=J,N={name:"HomeMainComponent",components:{BannerComponent:$,MovieRowComponent:Y},setup(){const e=localStorage.getItem("TMDb-Key")||"",t=(0,L.KR)(null),o=(0,L.KR)(O.getURL4PopularMovies(e)),i=(0,L.KR)(O.getURL4ReleaseMovies(e)),s=(0,L.KR)(O.getURL4GenreMovies(e,"28")),l=async()=>{try{t.value=await O.fetchFeaturedMovie(e)}catch(o){console.error("Error loading featured movie:",o)}},r=()=>{const e=()=>{const e=document.querySelector(".app-header");window.scrollY>50?e?.classList.add("scrolled"):e?.classList.remove("scrolled")};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}};let a;return(0,n.sV)((()=>{l(),a=r()})),(0,n.xo)((()=>{a?.()})),{featuredMovie:t,popularMoviesUrl:o,newReleasesUrl:i,actionMoviesUrl:s}}};const Z=(0,a.A)(N,[["render",P],["__scopeId","data-v-3e3b0940"]]);var ee=Z;const te={class:"container"},oe={id:"phone"},ie={id:"content-wrapper"},ne={class:"checkbox remember"},se=["disabled"],le={class:"checkbox remember"},re=["disabled"];function ae(e,t,o,s,l,r){return(0,n.uX)(),(0,n.CE)("div",null,[t[33]||(t[33]=(0,n.Lk)("div",{class:"bg-image"},null,-1)),(0,n.Lk)("div",te,[(0,n.Lk)("div",oe,[(0,n.Lk)("div",ie,[(0,n.Lk)("div",{class:(0,m.C4)(["card",{hidden:!l.isLoginVisible}]),id:"login"},[(0,n.Lk)("form",{onSubmit:t[7]||(t[7]=(0,i.D$)(((...e)=>r.handleLogin&&r.handleLogin(...e)),["prevent"]))},[t[24]||(t[24]=(0,n.Lk)("h1",null,"Sign in",-1)),(0,n.Lk)("div",{class:(0,m.C4)(["input",{active:l.isEmailFocused||l.email}])},[(0,n.bo)((0,n.Lk)("input",{id:"email",type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>l.email=e),onFocus:t[1]||(t[1]=e=>r.focusInput("email")),onBlur:t[2]||(t[2]=e=>r.blurInput("email"))},null,544),[[i.Jo,l.email]]),t[21]||(t[21]=(0,n.Lk)("label",{for:"email"},"Username or Email",-1))],2),(0,n.Lk)("div",{class:(0,m.C4)(["input",{active:l.isPasswordFocused||l.password}])},[(0,n.bo)((0,n.Lk)("input",{id:"password",type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>l.password=e),onFocus:t[4]||(t[4]=e=>r.focusInput("password")),onBlur:t[5]||(t[5]=e=>r.blurInput("password"))},null,544),[[i.Jo,l.password]]),t[22]||(t[22]=(0,n.Lk)("label",{for:"password"},"Password",-1))],2),(0,n.Lk)("span",ne,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox",id:"remember","onUpdate:modelValue":t[6]||(t[6]=e=>l.rememberMe=e)},null,512),[[i.lH,l.rememberMe]]),t[23]||(t[23]=(0,n.Lk)("label",{for:"remember",class:"read-text"},"Remember me",-1))]),t[25]||(t[25]=(0,n.Lk)("span",{class:"checkbox forgot"},[(0,n.Lk)("a",{href:"#"},"Forgot Password?")],-1)),(0,n.Lk)("button",{disabled:!r.isLoginFormValid},"Login",8,se)],32),(0,n.Lk)("a",{href:"javascript:void(0)",class:"account-check",onClick:t[8]||(t[8]=(...e)=>r.toggleCard&&r.toggleCard(...e))},t[26]||(t[26]=[(0,n.eW)(" Don't have an account? "),(0,n.Lk)("b",null,"Sign up",-1)]))],2),(0,n.Lk)("div",{class:(0,m.C4)(["card",{hidden:l.isLoginVisible}]),id:"register"},[(0,n.Lk)("form",{onSubmit:t[19]||(t[19]=(0,i.D$)(((...e)=>r.handleRegister&&r.handleRegister(...e)),["prevent"]))},[t[31]||(t[31]=(0,n.Lk)("h1",null,"Sign up",-1)),(0,n.Lk)("div",{class:(0,m.C4)(["input",{active:l.isRegisterEmailFocused||l.registerEmail}])},[(0,n.bo)((0,n.Lk)("input",{id:"register-email",type:"email","onUpdate:modelValue":t[9]||(t[9]=e=>l.registerEmail=e),onFocus:t[10]||(t[10]=e=>r.focusInput("registerEmail")),onBlur:t[11]||(t[11]=e=>r.blurInput("registerEmail"))},null,544),[[i.Jo,l.registerEmail]]),t[27]||(t[27]=(0,n.Lk)("label",{for:"register-email"},"Email",-1))],2),(0,n.Lk)("div",{class:(0,m.C4)(["input",{active:l.isRegisterPasswordFocused||l.registerPassword}])},[(0,n.bo)((0,n.Lk)("input",{id:"register-password",type:"password","onUpdate:modelValue":t[12]||(t[12]=e=>l.registerPassword=e),onFocus:t[13]||(t[13]=e=>r.focusInput("registerPassword")),onBlur:t[14]||(t[14]=e=>r.blurInput("registerPassword"))},null,544),[[i.Jo,l.registerPassword]]),t[28]||(t[28]=(0,n.Lk)("label",{for:"register-password"},"Password",-1))],2),(0,n.Lk)("div",{class:(0,m.C4)(["input",{active:l.isConfirmPasswordFocused||l.confirmPassword}])},[(0,n.bo)((0,n.Lk)("input",{id:"confirm-password",type:"password","onUpdate:modelValue":t[15]||(t[15]=e=>l.confirmPassword=e),onFocus:t[16]||(t[16]=e=>r.focusInput("confirmPassword")),onBlur:t[17]||(t[17]=e=>r.blurInput("confirmPassword"))},null,544),[[i.Jo,l.confirmPassword]]),t[29]||(t[29]=(0,n.Lk)("label",{for:"confirm-password"},"Confirm Password",-1))],2),(0,n.Lk)("span",le,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox",id:"terms","onUpdate:modelValue":t[18]||(t[18]=e=>l.acceptTerms=e)},null,512),[[i.lH,l.acceptTerms]]),t[30]||(t[30]=(0,n.Lk)("label",{for:"terms",class:"read-text"},[(0,n.eW)(" I have read "),(0,n.Lk)("b",null,"Terms and Conditions")],-1))]),(0,n.Lk)("button",{disabled:!r.isRegisterFormValid},"Register",8,re)],32),(0,n.Lk)("a",{href:"javascript:void(0)",class:"account-check",onClick:t[20]||(t[20]=(...e)=>r.toggleCard&&r.toggleCard(...e))},t[32]||(t[32]=[(0,n.eW)(" Already have an account? "),(0,n.Lk)("b",null,"Sign in",-1)]))],2)])])])])}var ue={data(){return{isLoginVisible:!0,email:"",password:"",registerEmail:"",registerPassword:"",confirmPassword:"",rememberMe:!1,acceptTerms:!1,isEmailFocused:!1,isPasswordFocused:!1,isRegisterEmailFocused:!1,isRegisterPasswordFocused:!1,isConfirmPasswordFocused:!1}},computed:{isLoginFormValid(){return this.email&&this.password},isRegisterFormValid(){return this.registerEmail&&this.registerPassword&&this.confirmPassword&&this.registerPassword===this.confirmPassword&&this.acceptTerms}},methods:{toggleCard(){this.isLoginVisible=!this.isLoginVisible},focusInput(e){this[`is${e.charAt(0).toUpperCase()+e.slice(1)}Focused`]=!0},blurInput(e){this[`is${e.charAt(0).toUpperCase()+e.slice(1)}Focused`]=!1},handleLogin(){alert(`Logged in with email: ${this.email}`)},handleRegister(){alert(`Registered with email: ${this.registerEmail}`)}}};const ce=(0,a.A)(ue,[["render",ae],["__scopeId","data-v-79c332a4"]]);var de=ce;const ve={class:"popular-container"},ge={class:"view-toggle"};function pe(e,t,o,i,s,l){const r=(0,n.g2)("font-awesome-icon"),a=(0,n.g2)("MovieGridComponent"),u=(0,n.g2)("MovieInfiniteScrollComponent");return(0,n.uX)(),(0,n.CE)("div",ve,[(0,n.Lk)("div",ge,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=e=>i.setView("grid")),class:(0,m.C4)({active:"grid"===i.currentView})},[(0,n.bF)(r,{icon:i.faTh},null,8,["icon"])],2),(0,n.Lk)("button",{onClick:t[1]||(t[1]=e=>i.setView("list")),class:(0,m.C4)({active:"list"===i.currentView})},[(0,n.bF)(r,{icon:i.faBars},null,8,["icon"])],2)]),"grid"===i.currentView?((0,n.uX)(),(0,n.Wv)(a,{key:0,title:"인기 영화",fetchUrl:i.fetchURL},null,8,["fetchUrl"])):(0,n.Q3)("",!0),"list"===i.currentView?((0,n.uX)(),(0,n.Wv)(u,{key:1,apiKey:i.apiKey,genreCode:"28",sortingOrder:"all",voteEverage:-1},null,8,["apiKey"])):(0,n.Q3)("",!0)])}o(8992),o(8872),o(4520),o(7550);class me{constructor(){this.wishlist=(0,L.KR)([]),this.loadWishlist()}loadWishlist(){const e=localStorage.getItem("movieWishlist");e&&(this.wishlist.value=JSON.parse(e))}saveWishlist(){localStorage.setItem("movieWishlist",JSON.stringify(this.wishlist.value))}toggleWishlist(e){const t=this.wishlist.value.findIndex((t=>t.id===e.id));-1===t?this.wishlist.value.push(e):this.wishlist.value=this.wishlist.value.filter((t=>t.id!==e.id)),this.saveWishlist()}isInWishlist(e){return this.wishlist.value.some((t=>t.id===e))}getCurrentWishlist(){return this.wishlist.value}}const he=new me;var fe=he,be={name:"MovieGridComponent",props:{fetchUrl:{type:String,required:!0}},setup(e){const t=(0,L.KR)([]),o=(0,L.KR)(1),i=(0,L.KR)(4),s=(0,L.KR)(20),l=(0,L.KR)(window.innerWidth<=768),r=(0,L.KR)("grid"),a=(0,L.KR)(null);let u=null;const c=async()=>{try{const o=120,i=Math.ceil(o/20);let n=[];for(let t=1;t<=i;t++){const o=await U.A.get(e.fetchUrl,{params:{page:t,per_page:s.value}});n=[...n,...o.data.results]}t.value=n.slice(0,o)}catch(o){console.error("Error fetching movies:",o)}},d=(0,n.EW)((()=>{const e=(o.value-1)*s.value,n=e+s.value,l=t.value.slice(e,n);return l.reduce(((e,t,o)=>{const n=Math.floor(o/i.value);return e[n]||(e[n]=[]),e[n].push(t),e}),[])})),v=(0,n.EW)((()=>Math.ceil(t.value.length/s.value))),g=()=>{o.value<v.value&&o.value++},p=()=>{o.value>1&&o.value--},m=e=>{u&&clearTimeout(u),u=setTimeout((()=>{fe.toggleWishlist(e)}),2e3)},h=e=>fe.isInWishlist(e),f=()=>{l.value=window.innerWidth<=768,b()},b=()=>{if(a.value){const e=a.value,t=e.offsetWidth,o=window.innerHeight-e.offsetTop,n=l.value?90:200,r=l.value?150:220,u=l.value?10:15,c=-10;i.value=Math.floor(t/(n+u));const d=Math.floor(o/(r+c));s.value=i.value*d}},k=e=>`https://image.tmdb.org/t/p/w300${e}`;return(0,n.sV)((async()=>{await c(),b(),window.addEventListener("resize",f)})),(0,n.hi)((()=>{window.removeEventListener("resize",f),u&&clearTimeout(u)})),{gridContainer:a,movies:t,currentPage:o,rowSize:i,moviesPerPage:s,currentView:r,visibleMovieGroups:d,totalPages:v,nextPage:g,prevPage:p,toggleWishlist:m,isInWishlist:h,getImageUrl:k}}};const ke=(0,a.A)(be,[["__scopeId","data-v-e8ecc570"]]);var we=ke;const Le={class:"movie-grid",ref:"gridContainer"},Ce=["onMouseup"],ye=["src","alt"],Me={class:"movie-title"},Ee={key:0,class:"wishlist-indicator"},Re={ref:"loadingTrigger",class:"loading-trigger"},Ke={key:0,class:"loading-indicator"};function Ie(e,t,o,i,s,l){return(0,n.uX)(),(0,n.CE)("div",Le,[(0,n.Lk)("div",{class:(0,m.C4)(["grid-container",i.currentView])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.visibleMovieGroups,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:`group-${t}`,class:"movie-row"},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"movie-card",onMouseup:t=>i.toggleWishlist(e)},[(0,n.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title,loading:"lazy"},null,8,ye),(0,n.Lk)("div",Me,(0,m.v_)(e.title),1),i.isInWishlist(e.id)?((0,n.uX)(),(0,n.CE)("div",Ee,"👍")):(0,n.Q3)("",!0)],40,Ce)))),128))])))),128))],2),(0,n.Lk)("div",Re,[i.isLoading?((0,n.uX)(),(0,n.CE)("div",Ke,t[1]||(t[1]=[(0,n.Lk)("div",{class:"spinner"},null,-1),(0,n.Lk)("span",null,"Loading...",-1)]))):(0,n.Q3)("",!0)],512),i.showTopButton?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>i.scrollToTopAndReset&&i.scrollToTopAndReset(...e)),class:"top-button","aria-label":"Scroll to Top"}," Top ")):(0,n.Q3)("",!0)],512)}var We={name:"MovieInfiniteScrollComponent",props:{genreCode:{type:String,required:!0},apiKey:{type:String,required:!0},sortingOrder:{type:String,default:"all"},voteEverage:{type:Number,default:100}},setup(e){const t=(0,L.KR)([]),o=(0,L.KR)(1),i=(0,L.KR)(4),s=(0,L.KR)(!1),l=(0,L.KR)(!0),r=(0,L.KR)(window.innerWidth<=768),a=(0,L.KR)("grid"),u=(0,L.KR)(!1),c=(0,L.KR)(null),d=(0,L.KR)(null);let v=null,g=null;const p=async()=>{if(!s.value&&l.value){s.value=!0;try{const i="0"===e.genreCode?"https://api.themoviedb.org/3/movie/popular":"https://api.themoviedb.org/3/discover/movie",n={api_key:e.apiKey,language:"ko-KR",page:o.value,per_page:10,..."0"!==e.genreCode&&{with_genres:e.genreCode}},{data:s}=await U.A.get(i,{params:n}),r=s.results;if(r.length>0){const i=r.filter((t=>"all"===e.sortingOrder||t.original_language===e.sortingOrder)).filter((t=>-1===e.voteEverage||(-2===e.voteEverage?t.vote_average<=4:t.vote_average>=e.voteEverage&&t.vote_average<e.voteEverage+1)));t.value=[...t.value,...i],o.value++}else l.value=!1}catch(i){console.error("Error fetching movies:",i)}finally{s.value=!1}}},m=()=>{g=new IntersectionObserver((e=>{e[0].isIntersecting&&!s.value&&l.value&&p()}),{rootMargin:"100px",threshold:.1}),d.value&&g.observe(d.value)},h=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/placeholder-image.jpg",f=(0,n.EW)((()=>t.value.reduce(((e,t,o)=>{const n=Math.floor(o/i.value);return e[n]||(e[n]=[]),e[n].push(t),e}),[]))),b=()=>{r.value=window.innerWidth<=768,k()},k=()=>{if(c.value){const e=c.value.offsetWidth,t=r.value?100:300,o=r.value?10:15;i.value=Math.floor(e/(t+o))}},w=()=>{const e=window.pageYOffset||document.documentElement.scrollTop;u.value=e>300},C=()=>{window.scrollTo({top:0,behavior:"smooth"}),y()},y=()=>{t.value=[],o.value=1,l.value=!0,p()},M=e=>{v&&clearTimeout(v),v=setTimeout((()=>{fe.toggleWishlist(e)}),800)},E=e=>fe.isInWishlist(e);return(0,n.sV)((()=>{m(),p(),b(),window.addEventListener("resize",b),window.addEventListener("scroll",w)})),(0,n.hi)((()=>{window.removeEventListener("resize",b),window.removeEventListener("scroll",w),g&&g.disconnect(),v&&clearTimeout(v)})),{gridContainer:c,loadingTrigger:d,movies:t,currentPage:o,rowSize:i,isLoading:s,hasMore:l,isMobile:r,currentView:a,showTopButton:u,getImageUrl:h,visibleMovieGroups:f,scrollToTopAndReset:C,toggleWishlist:M,isInWishlist:E}}};const _e=(0,a.A)(We,[["render",Ie],["__scopeId","data-v-421740f4"]]);var Fe=_e,Pe={name:"HomePopularComponent",components:{FontAwesomeIcon:y.gc,MovieGridComponent:we,MovieInfiniteScrollComponent:Fe},setup(){const e=localStorage.getItem("TMDb-Key")||"",t=(0,L.KR)("grid"),o=(0,L.KR)(O.getURL4PopularMovies(e)),i=e=>{t.value=e,"grid"===e?s():l()},s=()=>{document.body.style.overflow="hidden"},l=()=>{document.body.style.overflow="auto"};return(0,n.sV)((()=>{s()})),{faTh:M.UTC,faBars:M.ckx,apiKey:e,currentView:t,fetchURL:o,setView:i}}};const Ue=(0,a.A)(Pe,[["render",pe],["__scopeId","data-v-715fc4ab"]]);var Se=Ue;function Oe(e,t,o,i,s,l){const r=(0,n.g2)("MovieWishlist");return(0,n.uX)(),(0,n.Wv)(r)}const Te={class:"movie-grid",ref:"gridContainer"},Xe=["onClick"],Ae=["src","alt"],Ve={class:"movie-title"},$e={key:0,class:"empty-wishlist"},xe={key:1,class:"pagination"},je=["disabled"],Be=["disabled"];function ze(e,t,o,i,s,l){return(0,n.uX)(),(0,n.CE)("div",Te,[(0,n.Lk)("div",{class:(0,m.C4)(["grid-container",i.currentView])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.visibleWishlistMovies,((e,o)=>((0,n.uX)(),(0,n.CE)("div",{key:`group-${o}`,class:(0,m.C4)(["movie-row",{full:e.length===i.rowSize}])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"movie-card",onClick:t=>i.toggleWishlist(e)},[(0,n.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title},null,8,Ae),(0,n.Lk)("div",Ve,(0,m.v_)(e.title),1),t[2]||(t[2]=(0,n.Lk)("div",{class:"wishlist-indicator"},"👍",-1))],8,Xe)))),128))],2)))),128))],2),0===i.wishlistMovies.length?((0,n.uX)(),(0,n.CE)("div",$e," 위시리스트가 비어 있습니다. ")):(0,n.Q3)("",!0),i.totalPages>1?((0,n.uX)(),(0,n.CE)("div",xe,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.prevPage&&i.prevPage(...e)),disabled:1===i.currentPage},"< 이전",8,je),(0,n.Lk)("span",null,(0,m.v_)(i.currentPage)+" / "+(0,m.v_)(i.totalPages),1),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.nextPage&&i.nextPage(...e)),disabled:i.currentPage===i.totalPages},"다음 >",8,Be)])):(0,n.Q3)("",!0)],512)}var De={name:"MovieWishlistComponent",setup(){const e=(0,L.KR)(null),t=(0,L.KR)(4),o=(0,L.KR)(20),i=(0,L.KR)(1),s=(0,L.KR)(window.innerWidth<=768),l=(0,L.KR)("grid"),r=(0,L.KR)([]),a=(0,L.KR)([]),u=new ResizeObserver((()=>d())),c=()=>{r.value=fe.getCurrentWishlist(),v()},d=()=>{if(e.value){const i=e.value.offsetWidth,n=s.value?90:220,l=(s.value,s.value?10:15);t.value=Math.floor(i/(n+l)),o.value=3*t.value,v()}},v=()=>{const e=(i.value-1)*o.value,n=e+o.value,s=r.value.slice(e,n);a.value=s.reduce(((e,o,i)=>{const n=Math.floor(i/t.value);return e[n]||(e[n]=[]),e[n].push(o),e}),[])},g=e=>{fe.toggleWishlist(e),c()},p=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/placeholder-image.jpg",m=(0,n.EW)((()=>Math.ceil(r.value.length/o.value))),h=()=>{i.value<m.value&&(i.value++,v())},f=()=>{i.value>1&&(i.value--,v())},b=()=>{s.value=window.innerWidth<=768,d()};return(0,n.sV)((()=>{c(),d(),window.addEventListener("resize",b),e.value&&u.observe(e.value)})),(0,n.hi)((()=>{window.removeEventListener("resize",b),u.disconnect()})),{gridContainer:e,rowSize:t,currentPage:i,moviesPerPage:o,isMobile:s,currentView:l,wishlistMovies:r,visibleWishlistMovies:a,totalPages:m,toggleWishlist:g,nextPage:h,prevPage:f,getImageUrl:p}}};const He=(0,a.A)(De,[["render",ze],["__scopeId","data-v-b4c57bbe"]]);var Qe=He,Ge={name:"HomeWishlistComponent",components:{MovieWishlist:Qe}};const qe=(0,a.A)(Ge,[["render",Oe]]);var Je=qe;const Ye={class:"container-search"},Ne={class:"container-search-bar"},Ze={class:"content-search"};function et(e,t,o,i,s,l){const r=(0,n.g2)("MovieSearch"),a=(0,n.g2)("MovieInfiniteScroll");return(0,n.uX)(),(0,n.CE)("div",Ye,[(0,n.Lk)("div",Ne,[(0,n.bF)(r,{onChangeOptions:i.changeOptions},null,8,["onChangeOptions"])]),(0,n.Lk)("div",Ze,[(0,n.bF)(a,{apiKey:i.apiKey,genreCode:i.genreId,sortingOrder:i.sortId,voteEverage:i.ageId},null,8,["apiKey","genreCode","sortingOrder","voteEverage"])])])}const tt={class:"dropdown-container"},ot=["onClick"],it={key:0,class:"select-items"},nt=["onClick"];function st(e,t,o,i,s,l){return(0,n.uX)(),(0,n.CE)("div",tt,[t[1]||(t[1]=(0,n.Lk)("label",null,"선호하는 설정을 선택하세요",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.dropdownEntries,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.key,class:"custom-select"},[(0,n.Lk)("div",{class:"select-selected",onClick:t=>i.toggleDropdown(e.key)},(0,m.v_)(i.selectedOptions[e.key]),9,ot),i.activeDropdown===e.key?((0,n.uX)(),(0,n.CE)("div",it,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.options,(t=>((0,n.uX)(),(0,n.CE)("div",{key:t,onClick:o=>i.selectOption(e.key,t)},(0,m.v_)(t),9,nt)))),128))])):(0,n.Q3)("",!0)])))),128)),(0,n.Lk)("button",{class:"clear-options",onClick:t[0]||(t[0]=(...e)=>i.clearOptions&&i.clearOptions(...e))},"초기화")])}o(1454);var lt={name:"MovieSearch",emits:["change-options"],setup(e,{emit:t}){const o={originalLanguage:["장르 (전체)","Action","Adventure","Comedy","Crime","Family"],translationLanguage:["평점 (전체)","9~10","8~9","7~8","6~7","5~6","4~5","4점 이하"],sorting:["언어 (전체)","영어","한국어"]},i={originalLanguage:"장르 (전체)",translationLanguage:"평점 (전체)",sorting:"언어 (전체)"},s=(0,L.KR)({...i}),l=(0,L.KR)(null),r=(0,n.EW)((()=>Object.entries(o).map((([e,t])=>({key:e,options:t}))))),a=e=>{l.value=l.value===e?null:e},u=(e,o)=>{s.value={...s.value,[e]:o},l.value=null,t("change-options",s.value)},c=()=>{s.value={...i},t("change-options",s.value)};return{dropdownEntries:r,selectedOptions:s,activeDropdown:l,toggleDropdown:a,selectOption:u,clearOptions:c}}};const rt=(0,a.A)(lt,[["render",st],["__scopeId","data-v-0daf1ab0"]]);var at=rt,ut={name:"HomeSearchComponent",components:{MovieSearch:at,MovieInfiniteScroll:Fe},setup(){const e=(0,L.KR)(localStorage.getItem("TMDb-Key")||""),t=(0,L.KR)("28"),o=(0,L.KR)(-1),i=(0,L.KR)("all"),n={"장르 (전체)":0,Action:28,Adventure:12,Comedy:35,Crime:80,Family:10751},s={"언어 (전체)":"all","영어":"en","한국어":"ko"},l={"평점 (전체)":-1,"9~10":9,"8~9":8,"7~8":7,"6~7":6,"5~6":5,"4~5":4,"4점 이하":-2},r=e=>{t.value=`${n[e.originalLanguage]||0}`,o.value=l[e.translationLanguage]||-1,i.value=s[e.sorting]||"all"};return{apiKey:e,genreId:t,ageId:o,sortId:i,changeOptions:r}}};const ct=(0,a.A)(ut,[["render",et],["__scopeId","data-v-0973eee5"]]);var dt=ct;const vt=[{path:"/Project2",component:_,children:[{path:"",component:ee},{path:"popular",component:Se},{path:"wishlist",component:Je},{path:"search",component:dt}]},{path:"/signin",component:de}],gt=(0,d.aE)({history:(0,d.LA)(),routes:vt});var pt=gt,mt=o(782),ht=(0,mt.y$)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,i.Ef)(c).use(ht).use(pt).mount("#app")}},t={};function o(i){var n=t[i];if(void 0!==n)return n.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,o),s.exports}o.m=e,function(){var e=[];o.O=function(t,i,n,s){if(!i){var l=1/0;for(c=0;c<e.length;c++){i=e[c][0],n=e[c][1],s=e[c][2];for(var r=!0,a=0;a<i.length;a++)(!1&s||l>=s)&&Object.keys(o.O).every((function(e){return o.O[e](i[a])}))?i.splice(a--,1):(r=!1,s<l&&(l=s));if(r){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[i,n,s]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,s,l=i[0],r=i[1],a=i[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(n in r)o.o(r,n)&&(o.m[n]=r[n]);if(a)var c=a(o)}for(t&&t(i);u<l.length;u++)s=l[u],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(c)},i=self["webpackChunkproject2"]=self["webpackChunkproject2"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=o.O(void 0,[504],(function(){return o(6464)}));i=o.O(i)})();
//# sourceMappingURL=app.bb87ad9e.js.map