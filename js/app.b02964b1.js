(function(){"use strict";var e={5579:function(e,o,t){var i=t(5130),s=t(6768);const n={id:"app"};function a(e,o,t,i,a,r){const l=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",n,[(0,s.bF)(l)])}var r={name:"App",data(){return{title:"Movie"}},mounted(){console.log(`App loaded with title: ${this.title}`)}},l=t(1241);const c=(0,l.A)(r,[["render",a]]);var u=c,d=(t(8992),t(7550),t(1387));const g={key:0,id:"app"},v={id:"container"};function p(e,o,t,i,n,a){const r=(0,s.g2)("HeaderComponent"),l=(0,s.g2)("router-view");return n.isReady?((0,s.uX)(),(0,s.CE)("div",g,[(0,s.bF)(r),(0,s.Lk)("div",v,[(0,s.bF)(l)])])):(0,s.Q3)("",!0)}var h=t(4232);const m={class:"header-left"},k={class:"logo"},w={class:"nav-links desktop-nav"},b={class:"header-right"},f={key:0,class:"icon-id desktop-logout"},C={key:2,class:"username"},L={key:3,class:"username"},E={class:"mobile-nav-ui"};function y(e,o,t,i,n,a){const r=(0,s.g2)("font-awesome-icon"),l=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("header",{class:(0,h.C4)(["app-header",{scrolled:i.isScrolled}])},[(0,s.Lk)("div",m,[(0,s.Lk)("div",k,[(0,s.bF)(l,{to:"/Project2"},{default:(0,s.k6)((()=>[(0,s.bF)(r,{icon:["fas","ticket"],style:{height:"100%",color:"#E50914"}})])),_:1})]),(0,s.Lk)("nav",w,[(0,s.Lk)("ul",null,[(0,s.Lk)("li",null,[(0,s.bF)(l,{to:"/Project2"},{default:(0,s.k6)((()=>o[6]||(o[6]=[(0,s.eW)("홈")]))),_:1})]),(0,s.Lk)("li",null,[(0,s.bF)(l,{to:"/Project2/popular"},{default:(0,s.k6)((()=>o[7]||(o[7]=[(0,s.eW)("대세 콘텐츠")]))),_:1})]),(0,s.Lk)("li",null,[(0,s.bF)(l,{to:"/Project2/wishlist"},{default:(0,s.k6)((()=>o[8]||(o[8]=[(0,s.eW)("내가 찜한 리스트")]))),_:1})]),(0,s.Lk)("li",null,[(0,s.bF)(l,{to:"/Project2/search"},{default:(0,s.k6)((()=>o[9]||(o[9]=[(0,s.eW)("찾아보기")]))),_:1})])])])]),(0,s.Lk)("div",b,[i.isLoggedIn?((0,s.uX)(),(0,s.CE)("span",f,[(0,s.bF)(r,{icon:["far","id-badge"]})])):(0,s.Q3)("",!0),i.isLoggedIn?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("button",{key:1,class:"icon-login desktop-logout",onClick:o[0]||(o[0]=(...e)=>i.logIn&&i.logIn(...e))},[(0,s.bF)(r,{icon:["fas","door-open"]})])),i.isLoggedIn?((0,s.uX)(),(0,s.CE)("span",C,(0,h.v_)(i.kakaoName),1)):(0,s.Q3)("",!0),i.isLoggedIn?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("span",L,"로그인이 필요합니다.")),i.isLoggedIn?((0,s.uX)(),(0,s.CE)("button",{key:4,class:"icon-button desktop-logout",onClick:o[1]||(o[1]=(...e)=>i.handleLogout&&i.handleLogout(...e))},[(0,s.bF)(r,{icon:["fas","arrow-right-from-bracket"]})])):(0,s.Q3)("",!0),(0,s.Lk)("button",{class:"icon-button mobile-menu-button",onClick:o[2]||(o[2]=(...e)=>i.toggleMobileMenu&&i.toggleMobileMenu(...e))},[(0,s.bF)(r,{icon:["fas","bars"]})])]),(0,s.Lk)("div",{class:(0,h.C4)(["mobile-nav",{open:i.isMobileMenuOpen}])},[(0,s.Lk)("button",{class:"close-button",onClick:o[3]||(o[3]=(...e)=>i.toggleMobileMenu&&i.toggleMobileMenu(...e))},[(0,s.bF)(r,{icon:["fas","times"]})]),i.isLoggedIn?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("button",{key:0,class:"icon-ui-login icon-button",onClick:o[4]||(o[4]=(...e)=>i.logIn&&i.logIn(...e))},[(0,s.bF)(r,{icon:["fas","door-open"]})])),(0,s.Lk)("div",E,[i.isLoggedIn?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"icon-button icon-ui",onClick:o[5]||(o[5]=(...e)=>i.handleLogout&&i.handleLogout(...e))},[(0,s.bF)(r,{icon:["fas","arrow-right-from-bracket"]})])):(0,s.Q3)("",!0)]),(0,s.Lk)("nav",null,[(0,s.Lk)("ul",null,[(0,s.Lk)("li",null,[(0,s.bF)(l,{to:"/Project2",onClick:i.toggleMobileMenu},{default:(0,s.k6)((()=>o[10]||(o[10]=[(0,s.eW)("홈")]))),_:1},8,["onClick"])]),(0,s.Lk)("li",null,[(0,s.bF)(l,{to:"/Project2/popular",onClick:i.toggleMobileMenu},{default:(0,s.k6)((()=>o[11]||(o[11]=[(0,s.eW)("대세 콘텐츠")]))),_:1},8,["onClick"])]),(0,s.Lk)("li",null,[(0,s.bF)(l,{to:"/Project2/wishlist",onClick:i.toggleMobileMenu},{default:(0,s.k6)((()=>o[12]||(o[12]=[(0,s.eW)("내가 찜한 리스트")]))),_:1},8,["onClick"])]),(0,s.Lk)("li",null,[(0,s.bF)(l,{to:"/Project2/search",onClick:i.toggleMobileMenu},{default:(0,s.k6)((()=>o[13]||(o[13]=[(0,s.eW)("찾아보기")]))),_:1},8,["onClick"])])])])],2)],2)}t(4114);var I=t(782),R=t(144),A=t(8950),P=t(292),M=t(2353),K=t(92),S=t(4084);A.Yv.add(K.CI$,M.uQF,M.ycA,M.ckx,M.GRI,M.PIP);var U={components:{FontAwesomeIcon:P.gc},setup(){const e=(0,I.Pj)(),o=(0,R.KR)(!1),t=(0,R.KR)(!1),i=(0,d.rd)(),n=(0,R.KR)(localStorage.getItem("isLoggedIn")),a=(0,R.KR)(localStorage.getItem("loggedInUser")),r=(0,R.KR)(localStorage.getItem("kakaoNickname")),l=()=>{o.value=window.scrollY>50},c=()=>{n.value?(0,S.oR)("로그인 되어있는 사용자: "+kakaoNickname.value,{type:"success"}):((0,S.oR)("로그인이 필요합니다.",{type:"error"}),i.push("/signin"))},u=()=>{n.value||i.push("/signin")},g=()=>{try{localStorage.removeItem("isLoggedIn"),localStorage.removeItem("loggedInUser"),n.value=!1,a.value="",(0,S.oR)("로그아웃 되었습니다.",{type:"success"})}catch(e){alert("Error during logout:",e)}},v=()=>{t.value=!t.value},p=async()=>{console.log("로그아웃 버튼이 클릭되었습니다.");try{g(),await e.dispatch("kakaoLogout"),n.value=!1,r.value="",(0,S.oR)("로그아웃 완료",{type:"success"})}catch(o){console.error("로그아웃 중 오류 발생:",o)}};return(0,s.sV)((()=>{window.addEventListener("scroll",l)})),(0,s.hi)((()=>{window.removeEventListener("scroll",l)})),{...(0,I.i0)(["kakaoLogout"]),isScrolled:o,isMobileMenuOpen:t,isLoggedIn:n,loggedInUser:a,loginValid:c,logOut:g,logIn:u,toggleMobileMenu:v,kakaoName:r,handleLogout:p}}};const T=(0,l.A)(U,[["render",y],["__scopeId","data-v-11af29c6"]]);var _=T,F={name:"HomeComponent",components:{HeaderComponent:_},data(){return{isReady:!1}},created(){this.isReady=!0}};const W=(0,l.A)(F,[["render",p],["__scopeId","data-v-1ca04a1c"]]);var X=W;const O={class:"home"};function V(e,o,t,i,n,a){const r=(0,s.g2)("BannerComponent"),l=(0,s.g2)("MovieRowComponent");return(0,s.uX)(),(0,s.CE)("div",O,[i.featuredMovies.length>0?((0,s.uX)(),(0,s.Wv)(r,{key:0,movies:i.featuredMovies},null,8,["movies"])):(0,s.Q3)("",!0),(0,s.bF)(l,{title:"인기 영화",fetchUrl:i.popularMoviesUrl},null,8,["fetchUrl"]),(0,s.bF)(l,{title:"최신 영화",fetchUrl:i.newReleasesUrl},null,8,["fetchUrl"]),(0,s.bF)(l,{title:"액션 영화",fetchUrl:i.actionMoviesUrl},null,8,["fetchUrl"])])}var B=t(4373);class N{async fetchFeaturedMovie(e,o=5){try{const t=await B.A.get(`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR`);return t.data.results.slice(0,o)}catch(t){throw console.error("Error fetching featured movies:",t),t}}getURL4PopularMovies(e,o=1){return`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR&page=${o}`}getURL4ReleaseMovies(e,o=2){return`https://api.themoviedb.org/3/movie/now_playing?api_key=${e}&language=ko-KR&page=${o}`}getURL4GenreMovies(e,o,t=1){return`https://api.themoviedb.org/3/discover/movie?api_key=${e}&with_genres=${o}&language=ko-KR&page=${t}`}}var j=new N;const x={class:"banner-content"},Q=["onClick"],J={key:0,class:"overview slide-down"};function D(e,o,t,i,n,a){const r=(0,s.g2)("swiper-slide"),l=(0,s.g2)("swiper");return(0,s.uX)(),(0,s.CE)(s.FK,null,[o[1]||(o[1]=(0,s.Lk)("div",{class:"title"},[(0,s.Lk)("h4",null,"오늘의 top 5")],-1)),(0,s.bF)(l,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{clickable:!0},navigation:!0,modules:i.modules,class:"banner-container"},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.movies,(e=>((0,s.uX)(),(0,s.Wv)(r,{key:e.id,style:(0,h.Tr)({backgroundImage:`url(https://image.tmdb.org/t/p/original${e.backdrop_path})`})},{default:(0,s.k6)((()=>[(0,s.Lk)("div",x,[(0,s.Lk)("h1",null,(0,h.v_)(e.title),1),o[0]||(o[0]=(0,s.Lk)("button",{class:"play-btn title-btn"},"재생",-1)),(0,s.Lk)("button",{class:"info-btn title-btn",onClick:o=>i.toggleDetails(e.id)},(0,h.v_)(i.selectedMovieId===e.id?"닫기":"상세 정보"),9,Q),i.selectedMovieId===e.id?((0,s.uX)(),(0,s.CE)("p",J,(0,h.v_)(e.overview),1)):(0,s.Q3)("",!0)])])),_:2},1032,["style"])))),128))])),_:1},8,["modules"])],64)}var z=t(8421),H=t(317),Y={name:"BannerComponent",components:{Swiper:z.RC,SwiperSlide:z.qr},props:{movies:{type:Array,required:!0}},setup(){const e=(0,R.KR)(null),o=o=>{e.value=e.value===o?null:o};return{modules:[H.Ij,H.dK,H.Vx],selectedMovieId:e,toggleDetails:o}}};const q=(0,l.A)(Y,[["render",D],["__scopeId","data-v-05a560e9"]]);var G=q;const Z={class:"movie-row"},$=["disabled"],ee={class:"slider-window",ref:"sliderWindow"},oe=["onClick"],te=["src","alt"],ie={key:0,class:"wishlist-indicator"},se={class:"movie-overview"},ne=["disabled"];function ae(e,o,t,i,n,a){return(0,s.uX)(),(0,s.CE)("div",Z,[(0,s.Lk)("h2",null,(0,h.v_)(t.title),1),(0,s.Lk)("div",{class:"slider-container",onWheel:o[2]||(o[2]=(...o)=>e.handleWheel&&e.handleWheel(...o)),onMousemove:o[3]||(o[3]=e=>i.showButtons=!0),onMouseleave:o[4]||(o[4]=e=>i.showButtons=!1)},[(0,s.Lk)("button",{class:"slider-button left",onClick:o[0]||(o[0]=e=>i.slide("left")),disabled:i.atLeftEdge}," < ",8,$),(0,s.Lk)("div",ee,[(0,s.Lk)("div",{class:"movie-slider",ref:"slider",style:(0,h.Tr)({transform:"translateX("+-i.scrollAmount+"px)"})},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.movies,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-card",onClick:o=>i.toggleWishlist(e)},[(0,s.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title},null,8,te),i.isInWishlist(e.id)?((0,s.uX)(),(0,s.CE)("div",ie," 👍 ")):(0,s.Q3)("",!0),(0,s.Lk)("div",se,[(0,s.Lk)("p",null,(0,h.v_)(e.overview),1)])],8,oe)))),128))],4)],512),(0,s.Lk)("button",{class:"slider-button right",onClick:o[1]||(o[1]=e=>i.slide("right")),disabled:i.atRightEdge}," > ",8,ne)],32)])}t(4520);class re{constructor(){this.wishlist=(0,R.KR)([]),this.loadWishlist()}loadWishlist(){const e=localStorage.getItem("movieWishlist");e&&(this.wishlist.value=JSON.parse(e))}saveWishlist(){localStorage.setItem("movieWishlist",JSON.stringify(this.wishlist.value))}toggleWishlist(e){const o=this.wishlist.value.findIndex((o=>o.id===e.id));-1===o?this.wishlist.value.push(e):this.wishlist.value=this.wishlist.value.filter((o=>o.id!==e.id)),this.saveWishlist()}isInWishlist(e){return this.wishlist.value.some((o=>o.id===e))}getCurrentWishlist(){return this.wishlist.value}}const le=new re;var ce=le,ue={props:{title:{type:String,required:!0},fetchUrl:{type:String,required:!0}},setup(e){const o=(0,R.KR)([]),t=(0,R.KR)(0),i=(0,R.KR)(!1),n=(0,R.KR)(0),a=(0,R.KR)(null),r=(0,R.KR)(null);(0,s.sV)((async()=>{await l(),c()}));const l=async()=>{try{const t=await B.A.get(e.fetchUrl);o.value=t.data.results}catch(t){console.error("Error fetching movies:",t)}},c=()=>{a.value&&r.value&&(n.value=Math.max(0,a.value.scrollWidth-r.value.clientWidth))},u=e=>{const o=.8*r.value.clientWidth;t.value="left"===e?Math.max(0,t.value-o):Math.min(n.value,t.value+o)},d=e=>`https://image.tmdb.org/t/p/w300${e}`,g=(0,s.EW)((()=>t.value<=0)),v=(0,s.EW)((()=>t.value>=n.value)),p=e=>{ce.toggleWishlist(e)},h=e=>ce.isInWishlist(e);return{movies:o,scrollAmount:t,showButtons:i,atLeftEdge:g,atRightEdge:v,slide:u,getImageUrl:d,toggleWishlist:p,isInWishlist:h,slider:a,sliderWindow:r}}};const de=(0,l.A)(ue,[["render",ae],["__scopeId","data-v-75f9b75a"]]);var ge=de,ve={name:"HomeMainComponent",components:{BannerComponent:G,MovieRowComponent:ge},setup(){const e={NODE_ENV:"production",BASE_URL:"/Project2/"}.VUE_APP_TMDB_KEY||"API_KEY_NOT_SET",o=(0,R.KR)([]),t=(0,R.KR)(j.getURL4PopularMovies(e)),i=(0,R.KR)(j.getURL4ReleaseMovies(e)),n=(0,R.KR)(j.getURL4GenreMovies(e,"28")),a=async()=>{try{const t=await j.fetchFeaturedMovie(e);console.log("Fetched featured movies:",t),o.value=t.slice(0,5)}catch(t){console.error("Error loading featured movie:",t)}},r=()=>{const e=()=>{const e=document.querySelector(".app-header");window.scrollY>50?e?.classList.add("scrolled"):e?.classList.remove("scrolled")};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}};let l;return(0,s.sV)((()=>{a(),l=r()})),(0,s.xo)((()=>{l?.()})),{featuredMovies:o,popularMoviesUrl:t,newReleasesUrl:i,actionMoviesUrl:n}}};const pe=(0,l.A)(ve,[["render",V],["__scopeId","data-v-668809c4"]]);var he=pe,me="data:image/png;base64,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";const ke={class:"container"},we={id:"phone"},be={id:"content-wrapper"},fe={class:"checkbox remember"},Ce=["disabled"],Le={class:"checkbox remember"},Ee=["disabled"];function ye(e,o,t,n,a,r){return(0,s.uX)(),(0,s.CE)("div",null,[o[33]||(o[33]=(0,s.Lk)("div",{class:"bg-image"},null,-1)),(0,s.Lk)("div",ke,[(0,s.Lk)("div",we,[(0,s.Lk)("div",be,[(0,s.Lk)("div",{class:(0,h.C4)(["card",{hidden:!a.isLoginVisible}]),id:"login"},[(0,s.Lk)("form",{onSubmit:o[8]||(o[8]=(0,i.D$)(((...e)=>r.handleLogin&&r.handleLogin(...e)),["prevent"]))},[o[26]||(o[26]=(0,s.Lk)("h1",null,"Sign in",-1)),(0,s.Lk)("div",{class:(0,h.C4)(["input",{active:a.isEmailFocused||a.email}])},[(0,s.bo)((0,s.Lk)("input",{id:"email",type:"email","onUpdate:modelValue":o[0]||(o[0]=e=>a.email=e),onFocus:o[1]||(o[1]=e=>r.focusInput("email")),onBlur:o[2]||(o[2]=e=>r.blurInput("email"))},null,544),[[i.Jo,a.email]]),o[22]||(o[22]=(0,s.Lk)("label",{for:"email"},"Username or Email",-1))],2),(0,s.Lk)("div",{class:(0,h.C4)(["input",{active:a.isPasswordFocused||a.password}])},[(0,s.bo)((0,s.Lk)("input",{id:"password",type:"password","onUpdate:modelValue":o[3]||(o[3]=e=>a.password=e),onFocus:o[4]||(o[4]=e=>r.focusInput("password")),onBlur:o[5]||(o[5]=e=>r.blurInput("password"))},null,544),[[i.Jo,a.password]]),o[23]||(o[23]=(0,s.Lk)("label",{for:"password"},"Password",-1))],2),(0,s.Lk)("span",fe,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"remember","onUpdate:modelValue":o[6]||(o[6]=e=>a.rememberMe=e)},null,512),[[i.lH,a.rememberMe]]),o[24]||(o[24]=(0,s.Lk)("label",{for:"remember",class:"read-text"},"Remember me",-1))]),o[27]||(o[27]=(0,s.Lk)("span",{class:"checkbox forgot"},[(0,s.Lk)("a",{href:"#"},"Forgot Password?")],-1)),(0,s.Lk)("button",{disabled:!r.isLoginFormValid},"Login",8,Ce),(0,s.Lk)("a",{href:"javascript:void(0)",onClick:o[7]||(o[7]=(...e)=>r.kakaoLogin&&r.kakaoLogin(...e))},o[25]||(o[25]=[(0,s.Lk)("img",{src:me},null,-1)]))],32),(0,s.Lk)("a",{href:"javascript:void(0)",class:"account-check",onClick:o[9]||(o[9]=(...e)=>r.toggleCard&&r.toggleCard(...e))},(0,h.v_)(a.isLoginVisible?"Don't have an account? Sign up":"Already have an account? Sign in"),1)],2),(0,s.Lk)("div",{class:(0,h.C4)(["card",{hidden:a.isLoginVisible}]),id:"register"},[(0,s.Lk)("form",{onSubmit:o[20]||(o[20]=(0,i.D$)(((...e)=>r.handleRegister&&r.handleRegister(...e)),["prevent"]))},[o[32]||(o[32]=(0,s.Lk)("h1",null,"Sign up",-1)),(0,s.Lk)("div",{class:(0,h.C4)(["input",{active:a.isRegisterEmailFocused||a.registerEmail}])},[(0,s.bo)((0,s.Lk)("input",{id:"register-email",type:"email","onUpdate:modelValue":o[10]||(o[10]=e=>a.registerEmail=e),onFocus:o[11]||(o[11]=e=>r.focusInput("registerEmail")),onBlur:o[12]||(o[12]=e=>r.blurInput("registerEmail"))},null,544),[[i.Jo,a.registerEmail]]),o[28]||(o[28]=(0,s.Lk)("label",{for:"register-email"},"Email",-1))],2),(0,s.Lk)("div",{class:(0,h.C4)(["input",{active:a.isRegisterPasswordFocused||a.registerPassword}])},[(0,s.bo)((0,s.Lk)("input",{id:"register-password",type:"password","onUpdate:modelValue":o[13]||(o[13]=e=>a.registerPassword=e),onFocus:o[14]||(o[14]=e=>r.focusInput("registerPassword")),onBlur:o[15]||(o[15]=e=>r.blurInput("registerPassword"))},null,544),[[i.Jo,a.registerPassword]]),o[29]||(o[29]=(0,s.Lk)("label",{for:"register-password"},"Password",-1))],2),(0,s.Lk)("div",{class:(0,h.C4)(["input",{active:a.isConfirmPasswordFocused||a.confirmPassword}])},[(0,s.bo)((0,s.Lk)("input",{id:"confirm-password",type:"password","onUpdate:modelValue":o[16]||(o[16]=e=>a.confirmPassword=e),onFocus:o[17]||(o[17]=e=>r.focusInput("confirmPassword")),onBlur:o[18]||(o[18]=e=>r.blurInput("confirmPassword"))},null,544),[[i.Jo,a.confirmPassword]]),o[30]||(o[30]=(0,s.Lk)("label",{for:"confirm-password"},"Confirm Password",-1))],2),(0,s.Lk)("span",Le,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"terms","onUpdate:modelValue":o[19]||(o[19]=e=>a.acceptTerms=e)},null,512),[[i.lH,a.acceptTerms]]),o[31]||(o[31]=(0,s.Lk)("label",{for:"terms",class:"read-text"},[(0,s.eW)(" I have read "),(0,s.Lk)("b",null,"Terms and Conditions")],-1))]),(0,s.Lk)("button",{disabled:!r.isRegisterFormValid},"Register",8,Ee)],32),(0,s.Lk)("a",{href:"javascript:void(0)",class:"account-check",onClick:o[21]||(o[21]=(...e)=>r.toggleCard&&r.toggleCard(...e))},(0,h.v_)(a.isLoginVisible?"Don't have an account? Sign up":"Already have an account? Sign in"),1)],2)])])])])}t(2577),t(1454),t(4603),t(7566),t(8721);var Ie={data(){return{isLoginVisible:!0,email:"",password:"",registerEmail:"",registerPassword:"",confirmPassword:"",rememberMe:!1,acceptTerms:!1,isEmailFocused:!1,isPasswordFocused:!1,isRegisterEmailFocused:!1,isRegisterPasswordFocused:!1,isConfirmPasswordFocused:!1,kakaoAccessToken:null,user:{}}},created(){const e=new URLSearchParams(window.location.search);if(e.has("code")){const o=e.get("code");console.log("카카오 인가코드:",o),this.getKakaoTokenByREST(o)}},computed:{isLoginFormValid(){return this.email&&this.password},isRegisterFormValid(){return this.registerEmail&&this.registerPassword&&this.confirmPassword&&this.registerPassword===this.confirmPassword&&this.acceptTerms}},methods:{toggleCard(){this.isLoginVisible=!this.isLoginVisible},focusInput(e){this[`is${e.charAt(0).toUpperCase()+e.slice(1)}Focused`]=!0},blurInput(e){this[`is${e.charAt(0).toUpperCase()+e.slice(1)}Focused`]=!1},handleLogin(){const e=JSON.parse(localStorage.getItem("users")||"[]"),o=e.find((e=>e.email===this.email&&e.apiKey===this.password));o?((0,S.oR)("로그인에 성공하셨습니다.",{autoClose:6e3}),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("loggedInUser",this.email),this.rememberMe?localStorage.setItem("rememberMe","true"):localStorage.removeItem("rememberMe"),this.$router.push("/Project2/")):(0,S.oR)("비밀번호나 계정을 확인해 주십시오.",{autoClose:3500})},handleRegister(){const e=JSON.parse(localStorage.getItem("users")||"[]");if(e.some((e=>e.email===this.registerEmail)))return void(0,S.oR)("이미 가입된 이메일 입니다.",{autoClose:3500});const o={email:this.registerEmail,apiKey:this.registerPassword};e.push(o),localStorage.setItem("users",JSON.stringify(e)),localStorage.setItem("TMDb-Key",this.registerPassword),(0,S.oR)("회원가입이 되었습니다. 로그인해주세요!",{autoClose:3500}),this.toggleCard()},initializeLoginState(){const e=localStorage.getItem("rememberMe"),o=localStorage.getItem("isLoggedIn"),t=localStorage.getItem("loggedInUser");o&&t&&e&&(this.email=t,this.$router.push("/Project2"))},kakaoLogin(){const e={NODE_ENV:"production",BASE_URL:"/Project2/"}.VUE_APP_REST_API_KEY,o={NODE_ENV:"production",BASE_URL:"/Project2/"}.VUE_APP_REDIRECT_URI,t=`https://kauth.kakao.com/oauth/authorize?client_id=${e}&redirect_uri=${encodeURIComponent(o)}&response_type=code`;window.location.href=t},async getKakaoTokenByREST(e){try{const o={NODE_ENV:"production",BASE_URL:"/Project2/"}.VUE_APP_REST_API_KEY,t={NODE_ENV:"production",BASE_URL:"/Project2/"}.VUE_APP_REDIRECT_URI,i={grant_type:"authorization_code",client_id:o,redirect_uri:t,code:e},s=Object.keys(i).map((e=>encodeURIComponent(e)+"="+encodeURIComponent(i[e]))).join("&"),n=await B.A.post("https://kauth.kakao.com/oauth/token",s,{headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}});console.log("[토큰 발급] response:",n.data),this.kakaoAccessToken=n.data.access_token,localStorage.setItem("kakaoAccessToken",this.kakaoAccessToken),await this.getKakaoUserInfo()}catch(o){console.error("카카오 토큰 발급 실패:",o)}},async getKakaoUserInfo(){if(this.kakaoAccessToken)try{const e=await B.A.post("https://kapi.kakao.com/v2/user/me",{},{headers:{Authorization:`Bearer ${this.kakaoAccessToken}`,"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}});console.log("[사용자 정보]",e.data),this.user=e.data;const o=e.data.kakao_account.email||"unknown@kakao",t=e.data.kakao_account.profile.nickname||"unknown";localStorage.setItem("isLoggedIn","true"),localStorage.setItem("loggedInUser",o),localStorage.setItem("kakaoNickname",t),(0,S.oR)("카카오 로그인 완료!",{autoClose:6e3}),this.$router.push("/Project2")}catch(e){console.error("카카오 사용자 정보 요청 실패:",e)}else console.log("액세스 토큰이 없습니다.")}},setup(){const e=(0,d.rd)();return{router:e}},mounted(){this.initializeLoginState()}};const Re=(0,l.A)(Ie,[["render",ye],["__scopeId","data-v-ae0bb6e8"]]);var Ae=Re;const Pe={class:"popular-container"},Me={class:"view-toggle"};function Ke(e,o,t,n,a,r){const l=(0,s.g2)("font-awesome-icon"),c=(0,s.g2)("MovieGridComponent"),u=(0,s.g2)("MovieInfiniteScrollComponent");return(0,s.uX)(),(0,s.CE)("div",Pe,[(0,s.Lk)("div",Me,[(0,s.Lk)("button",{onClick:o[0]||(o[0]=e=>n.setView("grid")),class:(0,h.C4)({active:"grid"===n.currentView})},[(0,s.bF)(l,{icon:["fas","th"]})],2),(0,s.Lk)("button",{onClick:o[1]||(o[1]=e=>n.setView("list")),class:(0,h.C4)({active:"list"===n.currentView})},[(0,s.bF)(l,{icon:["fas","bars"]})],2)]),n.fetchUrl?(0,s.bo)(((0,s.uX)(),(0,s.Wv)(c,{key:0,fetchUrl:n.fetchUrl},null,8,["fetchUrl"])),[[i.aG,"grid"===n.currentView]]):(0,s.Q3)("",!0),"list"===n.currentView?((0,s.uX)(),(0,s.Wv)(u,{key:1,apiKey:n.apiKey,genreCode:"28",sortingOrder:"all",voteEverage:-1},null,8,["apiKey"])):(0,s.Q3)("",!0)])}const Se={class:"movie-grid",ref:"gridContainer"},Ue=["onMouseup"],Te=["src","alt"],_e={class:"movie-title"},Fe={class:"movie-overview"},We={key:0,class:"wishlist-indicator"},Xe={key:0,class:"pagination"},Oe=["disabled"],Ve=["disabled"];function Be(e,o,t,i,n,a){return(0,s.uX)(),(0,s.CE)("div",Se,[(0,s.Lk)("div",{class:(0,h.C4)(["grid-container",i.currentView])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.visibleMovieGroups,((e,o)=>((0,s.uX)(),(0,s.CE)("div",{key:`group-${o}`,class:(0,h.C4)(["movie-row",{full:e.length===i.rowSize}])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-card",onMouseup:o=>i.toggleWishlist(e)},[(0,s.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title},null,8,Te),(0,s.Lk)("div",_e,(0,h.v_)(e.title),1),(0,s.Lk)("div",Fe,[(0,s.Lk)("p",null,(0,h.v_)(e.overview),1)]),i.isInWishlist(e.id)?((0,s.uX)(),(0,s.CE)("div",We,"👍")):(0,s.Q3)("",!0)],40,Ue)))),128))],2)))),128))],2),i.totalPages>1?((0,s.uX)(),(0,s.CE)("div",Xe,[(0,s.Lk)("button",{onClick:o[0]||(o[0]=(...e)=>i.prevPage&&i.prevPage(...e)),disabled:1===i.currentPage},"< 이전",8,Oe),(0,s.Lk)("span",null,(0,h.v_)(i.currentPage)+" / "+(0,h.v_)(i.totalPages),1),(0,s.Lk)("button",{onClick:o[1]||(o[1]=(...e)=>i.nextPage&&i.nextPage(...e)),disabled:i.currentPage===i.totalPages},"다음 >",8,Ve)])):(0,s.Q3)("",!0)],512)}t(8872);var Ne={name:"MovieGridComponent",props:{fetchUrl:{type:String,required:!0}},setup(e){const o=(0,R.KR)([]),t=(0,R.KR)(1),i=(0,R.KR)(4),n=(0,R.KR)(20),a=(0,R.KR)(window.innerWidth<=768),r=(0,R.KR)("grid"),l=(0,R.KR)(null);let c=null;const u=async()=>{try{const t=120,i=Math.ceil(t/20);let s=[];for(let o=1;o<=i;o++){const t=await B.A.get(e.fetchUrl,{params:{page:o,per_page:n.value}});s=[...s,...t.data.results]}o.value=s.slice(0,t)}catch(t){console.error("Error fetching movies:",t)}},d=(0,s.EW)((()=>{const e=(t.value-1)*n.value,s=e+n.value,a=o.value.slice(e,s);return a.reduce(((e,o,t)=>{const s=Math.floor(t/i.value);return e[s]||(e[s]=[]),e[s].push(o),e}),[])})),g=(0,s.EW)((()=>Math.ceil(o.value.length/n.value))),v=()=>{t.value<g.value&&t.value++},p=()=>{t.value>1&&t.value--},h=e=>{c&&clearTimeout(c),c=setTimeout((()=>{ce.toggleWishlist(e)}),2e3)},m=e=>ce.isInWishlist(e),k=()=>{a.value=window.innerWidth<=768,w()},w=()=>{if(l.value){const e=l.value,o=e.offsetWidth,t=l.value.clientHeight,s=a.value?90:200,r=a.value?150:220,c=a.value?10:15,u=20;i.value=Math.floor(o/(s+c));const d=Math.floor(t/(r+u));n.value=i.value*d}},b=e=>`https://image.tmdb.org/t/p/w300${e}`;return(0,s.sV)((async()=>{await u(),w(),window.addEventListener("resize",k)})),(0,s.hi)((()=>{window.removeEventListener("resize",k),c&&clearTimeout(c)})),{gridContainer:l,movies:o,currentPage:t,rowSize:i,moviesPerPage:n,currentView:r,visibleMovieGroups:d,totalPages:g,nextPage:v,prevPage:p,toggleWishlist:h,isInWishlist:m,getImageUrl:b}}};const je=(0,l.A)(Ne,[["render",Be],["__scopeId","data-v-f1f17bbe"]]);var xe=je;const Qe={class:"movie-grid",ref:"gridContainer"},Je=["onMouseup"],De=["src","alt"],ze={class:"movie-title"},He={class:"movie-overview"},Ye={key:0,class:"wishlist-indicator"},qe={ref:"loadingTrigger",class:"loading-trigger"},Ge={key:0,class:"loading-indicator"};function Ze(e,o,t,i,n,a){return(0,s.uX)(),(0,s.CE)("div",Qe,[(0,s.Lk)("div",{class:(0,h.C4)(["grid-container",i.currentView])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.visibleMovieGroups,((e,o)=>((0,s.uX)(),(0,s.CE)("div",{key:`group-${o}`,class:"movie-row"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-card",onMouseup:o=>i.toggleWishlist(e)},[(0,s.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title,loading:"lazy"},null,8,De),(0,s.Lk)("div",ze,(0,h.v_)(e.title),1),(0,s.Lk)("div",He,[(0,s.Lk)("p",null,(0,h.v_)(e.overview),1)]),i.isInWishlist(e.id)?((0,s.uX)(),(0,s.CE)("div",Ye,"👍")):(0,s.Q3)("",!0)],40,Je)))),128))])))),128))],2),(0,s.Lk)("div",qe,[i.isLoading?((0,s.uX)(),(0,s.CE)("div",Ge,o[1]||(o[1]=[(0,s.Lk)("div",{class:"spinner"},null,-1),(0,s.Lk)("span",null,"Loading...",-1)]))):(0,s.Q3)("",!0)],512),i.showTopButton?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:o[0]||(o[0]=(...e)=>i.scrollToTopAndReset&&i.scrollToTopAndReset(...e)),class:"top-button","aria-label":"Scroll to Top"}," Top ")):(0,s.Q3)("",!0)],512)}var $e={name:"MovieInfiniteScrollComponent",props:{genreCode:{type:String,required:!0},apiKey:{type:String,required:!0},sortingOrder:{type:String,default:"all"},voteEverage:{type:Number,default:100}},setup(e){const o=(0,R.KR)([]),t=(0,R.KR)(1),i=(0,R.KR)(4),n=(0,R.KR)(!1),a=(0,R.KR)(!0),r=(0,R.KR)(window.innerWidth<=768),l=(0,R.KR)("grid"),c=(0,R.KR)(!1),u=(0,R.KR)(null),d=(0,R.KR)(null);let g=null,v=null;const p=async()=>{if(!n.value&&a.value){n.value=!0;try{const i="0"===e.genreCode?"https://api.themoviedb.org/3/movie/popular":"https://api.themoviedb.org/3/discover/movie",s={api_key:e.apiKey,language:"ko-KR",page:t.value,per_page:10,..."0"!==e.genreCode&&{with_genres:e.genreCode}},{data:n}=await B.A.get(i,{params:s}),r=n.results;if(r.length>0){const i=r.filter((o=>"all"===e.sortingOrder||o.original_language===e.sortingOrder)).filter((o=>-1===e.voteEverage||(-2===e.voteEverage?o.vote_average<=4:o.vote_average>=e.voteEverage&&o.vote_average<e.voteEverage+1)));o.value=[...o.value,...i],t.value++}else a.value=!1}catch(i){console.error("Error fetching movies:",i)}finally{n.value=!1}}};(0,s.wB)((()=>[e.genreCode,e.sortingOrder,e.voteEverage]),(([e,i,s])=>{console.log("Props changed:",{newGenreCode:e,newSortingOrder:i,newVoteEverage:s}),o.value=[],t.value=1,a.value=!0,p()}));const h=()=>{v=new IntersectionObserver((e=>{e[0].isIntersecting&&!n.value&&a.value&&p()}),{rootMargin:"100px",threshold:.1}),d.value&&v.observe(d.value)},m=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/placeholder-image.jpg",k=(0,s.EW)((()=>o.value.reduce(((e,o,t)=>{const s=Math.floor(t/i.value);return e[s]||(e[s]=[]),e[s].push(o),e}),[]))),w=()=>{r.value=window.innerWidth<=768,b()},b=()=>{if(u.value){const e=u.value.offsetWidth,o=r.value?100:300,t=r.value?10:15;i.value=Math.floor(e/(o+t))}},f=()=>{const e=window.pageYOffset||document.documentElement.scrollTop;c.value=e>300},C=()=>{window.scrollTo({top:0,behavior:"smooth"}),L()},L=()=>{o.value=[],t.value=1,a.value=!0,p()},E=e=>{g&&clearTimeout(g),g=setTimeout((()=>{ce.toggleWishlist(e)}),800)},y=e=>ce.isInWishlist(e);return(0,s.sV)((()=>{h(),p(),w(),window.addEventListener("resize",w),window.addEventListener("scroll",f)})),(0,s.hi)((()=>{window.removeEventListener("resize",w),window.removeEventListener("scroll",f),v&&v.disconnect(),g&&clearTimeout(g)})),{gridContainer:u,loadingTrigger:d,movies:o,currentPage:t,rowSize:i,isLoading:n,hasMore:a,isMobile:r,currentView:l,showTopButton:c,getImageUrl:m,visibleMovieGroups:k,scrollToTopAndReset:C,toggleWishlist:E,isInWishlist:y}}};const eo=(0,l.A)($e,[["render",Ze],["__scopeId","data-v-0622af90"]]);var oo=eo;A.Yv.add(M.UTC,M.ckx);var to={name:"HomePopular",components:{FontAwesomeIcon:P.gc,MovieGridComponent:xe,MovieInfiniteScrollComponent:oo},setup(){const e={NODE_ENV:"production",BASE_URL:"/Project2/"}.VUE_APP_TMDB_KEY||"API_KEY_NOT_SET",o=(0,R.KR)(e),t=(0,R.KR)("grid"),i=(0,R.KR)(""),n=e=>{t.value=e,"grid"===e?a():r()},a=()=>{document.body.style.overflow="hidden"},r=()=>{document.body.style.overflow="auto"};return(0,s.sV)((async()=>{a();try{i.value=j.getURL4PopularMovies(o.value),console.log("Fetch URL in Parent Component before child:",i.value)}catch(e){console.error("Error initializing HomePopular:",e)}})),{apiKey:o,currentView:t,fetchUrl:i,setView:n}}};const io=(0,l.A)(to,[["render",Ke],["__scopeId","data-v-ebb1464c"]]);var so=io;function no(e,o,t,i,n,a){const r=(0,s.g2)("MovieWishlist");return(0,s.uX)(),(0,s.Wv)(r)}const ao={class:"movie-grid",ref:"gridContainer"},ro=["onClick"],lo=["src","alt"],co={class:"movie-title"},uo={key:0,class:"empty-wishlist"},go={key:1,class:"pagination"},vo=["disabled"],po=["disabled"];function ho(e,o,t,i,n,a){return(0,s.uX)(),(0,s.CE)("div",ao,[(0,s.Lk)("div",{class:(0,h.C4)(["grid-container",i.currentView])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.visibleWishlistMovies,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:`group-${t}`,class:(0,h.C4)(["movie-row",{full:e.length===i.rowSize}])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-card",onClick:o=>i.toggleWishlist(e)},[(0,s.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title},null,8,lo),(0,s.Lk)("div",co,(0,h.v_)(e.title),1),o[2]||(o[2]=(0,s.Lk)("div",{class:"wishlist-indicator"},"👍",-1))],8,ro)))),128))],2)))),128))],2),0===i.wishlistMovies.length?((0,s.uX)(),(0,s.CE)("div",uo," 위시리스트가 비어 있습니다. ")):(0,s.Q3)("",!0),i.totalPages>1?((0,s.uX)(),(0,s.CE)("div",go,[(0,s.Lk)("button",{onClick:o[0]||(o[0]=(...e)=>i.prevPage&&i.prevPage(...e)),disabled:1===i.currentPage},"< 이전",8,vo),(0,s.Lk)("span",null,(0,h.v_)(i.currentPage)+" / "+(0,h.v_)(i.totalPages),1),(0,s.Lk)("button",{onClick:o[1]||(o[1]=(...e)=>i.nextPage&&i.nextPage(...e)),disabled:i.currentPage===i.totalPages},"다음 >",8,po)])):(0,s.Q3)("",!0)],512)}var mo={name:"MovieWishlistComponent",setup(){const e=(0,R.KR)(null),o=(0,R.KR)(4),t=(0,R.KR)(20),i=(0,R.KR)(1),n=(0,R.KR)(window.innerWidth<=768),a=(0,R.KR)("grid"),r=(0,R.KR)([]),l=(0,R.KR)([]),c=new ResizeObserver((()=>d())),u=()=>{r.value=ce.getCurrentWishlist(),g()},d=()=>{if(e.value){const i=e.value.offsetWidth,s=n.value?90:220,a=(n.value,n.value?10:15);o.value=Math.floor(i/(s+a)),t.value=3*o.value,g()}},g=()=>{const e=(i.value-1)*t.value,s=e+t.value,n=r.value.slice(e,s);l.value=n.reduce(((e,t,i)=>{const s=Math.floor(i/o.value);return e[s]||(e[s]=[]),e[s].push(t),e}),[])},v=e=>{ce.toggleWishlist(e),u()},p=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/placeholder-image.jpg",h=(0,s.EW)((()=>Math.ceil(r.value.length/t.value))),m=()=>{i.value<h.value&&(i.value++,g())},k=()=>{i.value>1&&(i.value--,g())},w=()=>{n.value=window.innerWidth<=768,d()};return(0,s.sV)((()=>{u(),d(),window.addEventListener("resize",w),e.value&&c.observe(e.value)})),(0,s.hi)((()=>{window.removeEventListener("resize",w),c.disconnect()})),{gridContainer:e,rowSize:o,currentPage:i,moviesPerPage:t,isMobile:n,currentView:a,wishlistMovies:r,visibleWishlistMovies:l,totalPages:h,toggleWishlist:v,nextPage:m,prevPage:k,getImageUrl:p}}};const ko=(0,l.A)(mo,[["render",ho],["__scopeId","data-v-2f90fa59"]]);var wo=ko,bo={name:"HomeWishlistComponent",components:{MovieWishlist:wo}};const fo=(0,l.A)(bo,[["render",no]]);var Co=fo;const Lo={class:"container-search"},Eo={class:"container-search-bar"},yo={class:"content-search"};function Io(e,o,t,i,n,a){const r=(0,s.g2)("MovieSearchComponent"),l=(0,s.g2)("MovieInfiniteScrollComponent");return(0,s.uX)(),(0,s.CE)("div",Lo,[(0,s.Lk)("div",Eo,[(0,s.bF)(r,{onChangeOptions:i.changeOptions},null,8,["onChangeOptions"])]),(0,s.Lk)("div",yo,[(0,s.bF)(l,{apiKey:i.apiKey,genreCode:i.genreId,sortingOrder:i.sortId,voteEverage:i.ageId},null,8,["apiKey","genreCode","sortingOrder","voteEverage"])])])}const Ro={class:"dropdown-container"},Ao=["onClick"],Po={key:0,class:"select-items"},Mo=["onClick"];function Ko(e,o,t,i,n,a){return(0,s.uX)(),(0,s.CE)("div",Ro,[o[1]||(o[1]=(0,s.Lk)("label",null,"선호하는 설정을 선택하세요",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.dropdownEntries,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.key,class:"custom-select"},[(0,s.Lk)("div",{class:"select-selected",onClick:o=>i.toggleDropdown(e.key)},(0,h.v_)(i.selectedOptions[e.key]),9,Ao),i.activeDropdown===e.key?((0,s.uX)(),(0,s.CE)("div",Po,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.options,(o=>((0,s.uX)(),(0,s.CE)("div",{key:o,onClick:t=>i.selectOption(e.key,o)},(0,h.v_)(o),9,Mo)))),128))])):(0,s.Q3)("",!0)])))),128)),(0,s.Lk)("button",{class:"clear-options",onClick:o[0]||(o[0]=(...e)=>i.clearOptions&&i.clearOptions(...e))},"초기화")])}var So={name:"MovieSearchComponent",emits:["change-options"],setup(e,{emit:o}){const t={originalLanguage:["장르 (전체)","Action","Adventure","Comedy","Crime","Family"],translationLanguage:["평점 (전체)","9~10","8~9","7~8","6~7","5~6","4~5","4점 이하"],sorting:["언어 (전체)","영어","한국어"]},i={originalLanguage:"장르 (전체)",translationLanguage:"평점 (전체)",sorting:"언어 (전체)"},n=(0,R.KR)({...i}),a=(0,R.KR)(null),r=(0,s.EW)((()=>Object.entries(t).map((([e,o])=>({key:e,options:o}))))),l=e=>{a.value=a.value===e?null:e},c=(e,t)=>{n.value={...n.value,[e]:t},o("change-options",n.value),a.value=null},u=()=>{n.value={...i},a.value=null,o("change-options",n.value)};return{dropdownEntries:r,selectedOptions:n,activeDropdown:a,toggleDropdown:l,selectOption:c,clearOptions:u}}};const Uo=(0,l.A)(So,[["render",Ko],["__scopeId","data-v-0435c18d"]]);var To=Uo,_o={name:"HomeSearchComponent",components:{MovieSearchComponent:To,MovieInfiniteScrollComponent:oo},setup(){const e=(0,R.KR)({NODE_ENV:"production",BASE_URL:"/Project2/"}.VUE_APP_TMDB_KEY||""),o=(0,R.KR)("28"),t=(0,R.KR)(-1),i=(0,R.KR)("all"),s={"장르 (전체)":0,Action:28,Adventure:12,Comedy:35,Crime:80,Family:10751},n={"언어 (전체)":"all","영어":"en","한국어":"ko"},a={"평점 (전체)":-1,"9~10":9,"8~9":8,"7~8":7,"6~7":6,"5~6":5,"4~5":4,"4점 이하":-2},r=e=>{console.log("Received options:",e),o.value=`${s[e.originalLanguage]}`,t.value=a[e.translationLanguage],i.value=n[e.sorting]};return{apiKey:e,genreId:o,ageId:t,sortId:i,changeOptions:r}}};const Fo=(0,l.A)(_o,[["render",Io],["__scopeId","data-v-3c6823f6"]]);var Wo=Fo;const Xo=[{path:"/Project2",component:X,children:[{path:"",component:he},{path:"popular",component:so},{path:"wishlist",component:Co},{path:"search",component:Wo}],meta:{requiresAuth:!0}},{path:"/signin",component:Ae}],Oo=(0,d.aE)({history:(0,d.LA)(),routes:Xo});Oo.beforeEach(((e,o,t)=>{const i="true"===localStorage.getItem("isLoggedIn");if(e.matched.some((e=>e.meta.requiresAuth))&&!i)return(0,S.oR)("로그인이 필요합니다.",{type:"error",autoClose:3e3}),t("/signin");t()}));var Vo=Oo,Bo=(0,I.y$)({state:{kakaoAccessToken:localStorage.getItem("kakaoAccessToken")},mutations:{setKakaoAccessToken(e,o){e.kakaoAccessToken=o}},actions:{async kakaoLogout({state:e,commit:o}){if(e.kakaoAccessToken)try{await B.A.post("https://kapi.kakao.com/v1/user/logout",{},{headers:{Authorization:`Bearer ${e.kakaoAccessToken}`}}),console.log("[카카오 로그아웃 성공]"),o("setKakaoAccessToken",null)}catch(t){console.error("카카오 로그아웃 오류:",t)}else console.log("액세스 토큰이 없습니다. 로그아웃 불가")}}}),No=t(7411);t(7917);(0,i.Ef)(u).use(Bo).use(Vo).use(No.Ay).mount("#app"),window.Kakao.init({NODE_ENV:"production",BASE_URL:"/Project2/"}.VUE_APP_JSAPP_KEY)}},o={};function t(i){var s=o[i];if(void 0!==s)return s.exports;var n=o[i]={exports:{}};return e[i].call(n.exports,n,n.exports,t),n.exports}t.m=e,function(){var e=[];t.O=function(o,i,s,n){if(!i){var a=1/0;for(u=0;u<e.length;u++){i=e[u][0],s=e[u][1],n=e[u][2];for(var r=!0,l=0;l<i.length;l++)(!1&n||a>=n)&&Object.keys(t.O).every((function(e){return t.O[e](i[l])}))?i.splice(l--,1):(r=!1,n<a&&(a=n));if(r){e.splice(u--,1);var c=s();void 0!==c&&(o=c)}}return o}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[i,s,n]}}(),function(){t.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(o,{a:o}),o}}(),function(){t.d=function(e,o){for(var i in o)t.o(o,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:o[i]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(o){return 0===e[o]};var o=function(o,i){var s,n,a=i[0],r=i[1],l=i[2],c=0;if(a.some((function(o){return 0!==e[o]}))){for(s in r)t.o(r,s)&&(t.m[s]=r[s]);if(l)var u=l(t)}for(o&&o(i);c<a.length;c++)n=a[c],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(u)},i=self["webpackChunkproject2"]=self["webpackChunkproject2"]||[];i.forEach(o.bind(null,0)),i.push=o.bind(null,i.push.bind(i))}();var i=t.O(void 0,[504],(function(){return t(5579)}));i=t.O(i)})();
//# sourceMappingURL=app.b02964b1.js.map