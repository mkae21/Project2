(function(){"use strict";var e={5531:function(e,t,o){var i=o(5130),n=o(6768);const l={id:"app"};function s(e,t,o,i,s,r){const a=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",l,[(0,n.bF)(a)])}var r={name:"App",data(){return{title:"Angular-demo"}},mounted(){console.log(`App loaded with title: ${this.title}`)}},a=o(1241);const u=(0,a.A)(r,[["render",s],["__scopeId","data-v-5875ecaf"]]);var c=u,d=o(1387);const v={id:"app"},g={id:"container"};function p(e,t,o,i,l,s){const r=(0,n.g2)("HeaderComponent"),a=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",v,[(0,n.bF)(r),(0,n.Lk)("div",g,[(0,n.bF)(a)])])}var m=o(4232);const h={class:"header-left"},b={class:"logo"},f={class:"nav-links desktop-nav"},k={class:"header-right"};function w(e,t,o,i,l,s){const r=(0,n.g2)("font-awesome-icon"),a=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("header",{class:(0,m.C4)(["app-header",{scrolled:i.isScrolled}])},[(0,n.Lk)("div",h,[(0,n.Lk)("div",b,[(0,n.bF)(a,{to:"/Project2"},{default:(0,n.k6)((()=>[(0,n.bF)(r,{icon:["fas","ticket"],style:{height:"100%",color:"#E50914"}})])),_:1})]),(0,n.Lk)("nav",f,[(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[(0,n.bF)(a,{to:"/Project2"},{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.eW)("홈")]))),_:1})]),(0,n.Lk)("li",null,[(0,n.bF)(a,{to:"/Project2/popular"},{default:(0,n.k6)((()=>t[4]||(t[4]=[(0,n.eW)("대세 콘텐츠")]))),_:1})]),(0,n.Lk)("li",null,[(0,n.bF)(a,{to:"/Project2/wishlist"},{default:(0,n.k6)((()=>t[5]||(t[5]=[(0,n.eW)("내가 찜한 리스트")]))),_:1})]),(0,n.Lk)("li",null,[(0,n.bF)(a,{to:"/Project2/search"},{default:(0,n.k6)((()=>t[6]||(t[6]=[(0,n.eW)("찾아보기")]))),_:1})])])])]),(0,n.Lk)("div",k,[(0,n.Lk)("button",{class:"icon-button",onClick:t[0]||(t[0]=(...e)=>i.removeKey&&i.removeKey(...e))},[(0,n.bF)(r,{icon:["fas","user"]})]),(0,n.Lk)("button",{class:"icon-button mobile-menu-button",onClick:t[1]||(t[1]=(...e)=>i.toggleMobileMenu&&i.toggleMobileMenu(...e))},[(0,n.bF)(r,{icon:["fas","bars"]})])]),(0,n.Lk)("div",{class:(0,m.C4)(["mobile-nav",{open:i.isMobileMenuOpen}])},[(0,n.Lk)("button",{class:"close-button",onClick:t[2]||(t[2]=(...e)=>i.toggleMobileMenu&&i.toggleMobileMenu(...e))},[(0,n.bF)(r,{icon:["fas","times"]})]),(0,n.Lk)("nav",null,[(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[(0,n.bF)(a,{to:"/Project2",onClick:i.toggleMobileMenu},{default:(0,n.k6)((()=>t[7]||(t[7]=[(0,n.eW)("홈")]))),_:1},8,["onClick"])]),(0,n.Lk)("li",null,[(0,n.bF)(a,{to:"/Project2/popular",onClick:i.toggleMobileMenu},{default:(0,n.k6)((()=>t[8]||(t[8]=[(0,n.eW)("대세 콘텐츠")]))),_:1},8,["onClick"])]),(0,n.Lk)("li",null,[(0,n.bF)(a,{to:"/Project2/wishlist",onClick:i.toggleMobileMenu},{default:(0,n.k6)((()=>t[9]||(t[9]=[(0,n.eW)("내가 찜한 리스트")]))),_:1},8,["onClick"])]),(0,n.Lk)("li",null,[(0,n.bF)(a,{to:"/Project2/search",onClick:i.toggleMobileMenu},{default:(0,n.k6)((()=>t[10]||(t[10]=[(0,n.eW)("찾아보기")]))),_:1},8,["onClick"])])])])],2)],2)}o(4114);var C=o(144),L=o(8950),y=o(292),E=o(2353);L.Yv.add(E.X46,E.ycA,E.ckx,E.GRI);var M={components:{FontAwesomeIcon:y.gc},setup(){const e=(0,C.KR)(!1),t=(0,C.KR)(!1),o=(0,d.rd)(),i=()=>{e.value=window.scrollY>50},l=()=>{localStorage.removeItem("TMDb-Key"),o.push("/signin")},s=()=>{t.value=!t.value};return(0,n.sV)((()=>{window.addEventListener("scroll",i)})),(0,n.hi)((()=>{window.removeEventListener("scroll",i)})),{isScrolled:e,isMobileMenuOpen:t,removeKey:l,toggleMobileMenu:s}}};const R=(0,a.A)(M,[["render",w],["__scopeId","data-v-ec5130fa"]]);var P=R,K={name:"HomeComponent",components:{HeaderComponent:P},mounted(){localStorage.setItem("TMDb-Key","b1907f9b9967490f278a974270b85f60")}};const I=(0,a.A)(K,[["render",p],["__scopeId","data-v-abde5552"]]);var W=I;const _={class:"home"};function F(e,t,o,i,l,s){const r=(0,n.g2)("BannerComponent"),a=(0,n.g2)("MovieRowComponent");return(0,n.uX)(),(0,n.CE)("div",_,[(0,n.bF)(r,{movie:i.featuredMovie},null,8,["movie"]),(0,n.bF)(a,{title:"인기 영화",fetchUrl:i.popularMoviesUrl},null,8,["fetchUrl"]),(0,n.bF)(a,{title:"최신 영화",fetchUrl:i.newReleasesUrl},null,8,["fetchUrl"]),(0,n.bF)(a,{title:"액션 영화",fetchUrl:i.actionMoviesUrl},null,8,["fetchUrl"])])}var U=o(4373);class S{async fetchFeaturedMovie(e){try{const t=await U.A.get(`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR`);return console.log(t.data.results[0]),t.data.results[0]}catch(t){throw console.error("Error fetching featured movie:",t),t}}getURL4PopularMovies(e,t=1){return`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR&page=${t}`}getURL4ReleaseMovies(e,t=2){return`https://api.themoviedb.org/3/movie/now_playing?api_key=${e}&language=ko-KR&page=${t}`}getURL4GenreMovies(e,t,o=1){return`https://api.themoviedb.org/3/discover/movie?api_key=${e}&with_genres=${t}&language=ko-KR&page=${o}`}}var X=new S;const O={class:"banner-content"};function T(e,t,o,i,l,s){return o.movie?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"banner",style:(0,m.Tr)({backgroundImage:`url(${s.backdropUrl})`})},[(0,n.Lk)("div",O,[(0,n.Lk)("h1",null,(0,m.v_)(o.movie.title),1),(0,n.Lk)("p",null,(0,m.v_)(o.movie.overview),1),t[0]||(t[0]=(0,n.Lk)("button",{class:"play-btn title-btn"},"재생",-1)),t[1]||(t[1]=(0,n.Lk)("button",{class:"info-btn title-btn"},"상세 정보",-1))])],4)):(0,n.Q3)("",!0)}var V={name:"BannerComponent",props:{movie:{type:Object,required:!0}},computed:{backdropUrl(){return this.movie?`https://image.tmdb.org/t/p/original${this.movie.backdrop_path}`:""}}};const A=(0,a.A)(V,[["render",T],["__scopeId","data-v-3c7b57a6"]]);var j=A;const x={class:"movie-row"},$=["disabled"],z={class:"slider-window",ref:"sliderWindow"},B=["onClick"],D=["src","alt"],G={key:0,class:"wishlist-indicator"},Q=["disabled"];function H(e,t,o,i,l,s){return(0,n.uX)(),(0,n.CE)("div",x,[(0,n.Lk)("h2",null,(0,m.v_)(o.title),1),(0,n.Lk)("div",{class:"slider-container",onWheel:t[2]||(t[2]=(...t)=>e.handleWheel&&e.handleWheel(...t)),onMousemove:t[3]||(t[3]=e=>i.showButtons=!0),onMouseleave:t[4]||(t[4]=e=>i.showButtons=!1)},[(0,n.Lk)("button",{class:"slider-button left",onClick:t[0]||(t[0]=e=>i.slide("left")),disabled:i.atLeftEdge},"<",8,$),(0,n.Lk)("div",z,[(0,n.Lk)("div",{class:"movie-slider",ref:"slider",style:(0,m.Tr)({transform:"translateX("+-i.scrollAmount+"px)"})},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.movies,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"movie-card",onClick:t=>i.toggleWishlist(e)},[(0,n.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title},null,8,D),i.isInWishlist(e.id)?((0,n.uX)(),(0,n.CE)("div",G,"👍")):(0,n.Q3)("",!0)],8,B)))),128))],4)],512),(0,n.Lk)("button",{class:"slider-button right",onClick:t[1]||(t[1]=e=>i.slide("right")),disabled:i.atRightEdge},">",8,Q)],32)])}var q={props:{title:{type:String,required:!0},fetchUrl:{type:String,required:!0}},setup(e){const t=(0,C.KR)([]),o=(0,C.KR)(0),i=(0,C.KR)(!1),l=(0,C.KR)(0),s=(0,C.KR)(null),r=(0,C.KR)(null);(0,n.sV)((async()=>{await a(),u()}));const a=async()=>{try{const o=await U.A.get(e.fetchUrl);t.value=o.data.results}catch(o){console.error("Error fetching movies:",o)}},u=()=>{s.value&&r.value&&(l.value=Math.max(0,s.value.scrollWidth-r.value.clientWidth))},c=e=>{const t=.8*r.value.clientWidth;o.value="left"===e?Math.max(0,o.value-t):Math.min(l.value,o.value+t)},d=e=>`https://image.tmdb.org/t/p/w300${e}`,v=(0,n.EW)((()=>o.value<=0)),g=(0,n.EW)((()=>o.value>=l.value)),p=e=>{},m=e=>!1;return{movies:t,scrollAmount:o,showButtons:i,atLeftEdge:v,atRightEdge:g,slide:c,getImageUrl:d,toggleWishlist:p,isInWishlist:m,slider:s,sliderWindow:r}}};const J=(0,a.A)(q,[["render",H],["__scopeId","data-v-7cc19971"]]);var Y=J,N={name:"HomeMainComponent",components:{BannerComponent:j,MovieRowComponent:Y},setup(){const e=localStorage.getItem("TMDb-Key")||"",t=(0,C.KR)(null),o=(0,C.KR)(X.getURL4PopularMovies(e)),i=(0,C.KR)(X.getURL4ReleaseMovies(e)),l=(0,C.KR)(X.getURL4GenreMovies(e,"28")),s=async()=>{try{t.value=await X.fetchFeaturedMovie(e)}catch(o){console.error("Error loading featured movie:",o)}},r=()=>{const e=()=>{const e=document.querySelector(".app-header");window.scrollY>50?e?.classList.add("scrolled"):e?.classList.remove("scrolled")};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}};let a;return(0,n.sV)((()=>{s(),a=r()})),(0,n.xo)((()=>{a?.()})),{featuredMovie:t,popularMoviesUrl:o,newReleasesUrl:i,actionMoviesUrl:l}}};const Z=(0,a.A)(N,[["render",F],["__scopeId","data-v-b87ed9f0"]]);var ee=Z;const te={class:"container"},oe={id:"phone"},ie={id:"content-wrapper"},ne={class:"checkbox remember"},le=["disabled"],se={class:"checkbox remember"},re=["disabled"];function ae(e,t,o,l,s,r){return(0,n.uX)(),(0,n.CE)("div",null,[t[33]||(t[33]=(0,n.Lk)("div",{class:"bg-image"},null,-1)),(0,n.Lk)("div",te,[(0,n.Lk)("div",oe,[(0,n.Lk)("div",ie,[(0,n.Lk)("div",{class:(0,m.C4)(["card",{hidden:!s.isLoginVisible}]),id:"login"},[(0,n.Lk)("form",{onSubmit:t[7]||(t[7]=(0,i.D$)(((...e)=>r.handleLogin&&r.handleLogin(...e)),["prevent"]))},[t[24]||(t[24]=(0,n.Lk)("h1",null,"Sign in",-1)),(0,n.Lk)("div",{class:(0,m.C4)(["input",{active:s.isEmailFocused||s.email}])},[(0,n.bo)((0,n.Lk)("input",{id:"email",type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>s.email=e),onFocus:t[1]||(t[1]=e=>r.focusInput("email")),onBlur:t[2]||(t[2]=e=>r.blurInput("email"))},null,544),[[i.Jo,s.email]]),t[21]||(t[21]=(0,n.Lk)("label",{for:"email"},"Username or Email",-1))],2),(0,n.Lk)("div",{class:(0,m.C4)(["input",{active:s.isPasswordFocused||s.password}])},[(0,n.bo)((0,n.Lk)("input",{id:"password",type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>s.password=e),onFocus:t[4]||(t[4]=e=>r.focusInput("password")),onBlur:t[5]||(t[5]=e=>r.blurInput("password"))},null,544),[[i.Jo,s.password]]),t[22]||(t[22]=(0,n.Lk)("label",{for:"password"},"Password",-1))],2),(0,n.Lk)("span",ne,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox",id:"remember","onUpdate:modelValue":t[6]||(t[6]=e=>s.rememberMe=e)},null,512),[[i.lH,s.rememberMe]]),t[23]||(t[23]=(0,n.Lk)("label",{for:"remember",class:"read-text"},"Remember me",-1))]),t[25]||(t[25]=(0,n.Lk)("span",{class:"checkbox forgot"},[(0,n.Lk)("a",{href:"#"},"Forgot Password?")],-1)),(0,n.Lk)("button",{disabled:!r.isLoginFormValid},"Login",8,le)],32),(0,n.Lk)("a",{href:"javascript:void(0)",class:"account-check",onClick:t[8]||(t[8]=(...e)=>r.toggleCard&&r.toggleCard(...e))},t[26]||(t[26]=[(0,n.eW)(" Don't have an account? "),(0,n.Lk)("b",null,"Sign up",-1)]))],2),(0,n.Lk)("div",{class:(0,m.C4)(["card",{hidden:s.isLoginVisible}]),id:"register"},[(0,n.Lk)("form",{onSubmit:t[19]||(t[19]=(0,i.D$)(((...e)=>r.handleRegister&&r.handleRegister(...e)),["prevent"]))},[t[31]||(t[31]=(0,n.Lk)("h1",null,"Sign up",-1)),(0,n.Lk)("div",{class:(0,m.C4)(["input",{active:s.isRegisterEmailFocused||s.registerEmail}])},[(0,n.bo)((0,n.Lk)("input",{id:"register-email",type:"email","onUpdate:modelValue":t[9]||(t[9]=e=>s.registerEmail=e),onFocus:t[10]||(t[10]=e=>r.focusInput("registerEmail")),onBlur:t[11]||(t[11]=e=>r.blurInput("registerEmail"))},null,544),[[i.Jo,s.registerEmail]]),t[27]||(t[27]=(0,n.Lk)("label",{for:"register-email"},"Email",-1))],2),(0,n.Lk)("div",{class:(0,m.C4)(["input",{active:s.isRegisterPasswordFocused||s.registerPassword}])},[(0,n.bo)((0,n.Lk)("input",{id:"register-password",type:"password","onUpdate:modelValue":t[12]||(t[12]=e=>s.registerPassword=e),onFocus:t[13]||(t[13]=e=>r.focusInput("registerPassword")),onBlur:t[14]||(t[14]=e=>r.blurInput("registerPassword"))},null,544),[[i.Jo,s.registerPassword]]),t[28]||(t[28]=(0,n.Lk)("label",{for:"register-password"},"Password",-1))],2),(0,n.Lk)("div",{class:(0,m.C4)(["input",{active:s.isConfirmPasswordFocused||s.confirmPassword}])},[(0,n.bo)((0,n.Lk)("input",{id:"confirm-password",type:"password","onUpdate:modelValue":t[15]||(t[15]=e=>s.confirmPassword=e),onFocus:t[16]||(t[16]=e=>r.focusInput("confirmPassword")),onBlur:t[17]||(t[17]=e=>r.blurInput("confirmPassword"))},null,544),[[i.Jo,s.confirmPassword]]),t[29]||(t[29]=(0,n.Lk)("label",{for:"confirm-password"},"Confirm Password",-1))],2),(0,n.Lk)("span",se,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox",id:"terms","onUpdate:modelValue":t[18]||(t[18]=e=>s.acceptTerms=e)},null,512),[[i.lH,s.acceptTerms]]),t[30]||(t[30]=(0,n.Lk)("label",{for:"terms",class:"read-text"},[(0,n.eW)(" I have read "),(0,n.Lk)("b",null,"Terms and Conditions")],-1))]),(0,n.Lk)("button",{disabled:!r.isRegisterFormValid},"Register",8,re)],32),(0,n.Lk)("a",{href:"javascript:void(0)",class:"account-check",onClick:t[20]||(t[20]=(...e)=>r.toggleCard&&r.toggleCard(...e))},t[32]||(t[32]=[(0,n.eW)(" Already have an account? "),(0,n.Lk)("b",null,"Sign in",-1)]))],2)])])])])}var ue={data(){return{isLoginVisible:!0,email:"",password:"",registerEmail:"",registerPassword:"",confirmPassword:"",rememberMe:!1,acceptTerms:!1,isEmailFocused:!1,isPasswordFocused:!1,isRegisterEmailFocused:!1,isRegisterPasswordFocused:!1,isConfirmPasswordFocused:!1}},computed:{isLoginFormValid(){return this.email&&this.password},isRegisterFormValid(){return this.registerEmail&&this.registerPassword&&this.confirmPassword&&this.registerPassword===this.confirmPassword&&this.acceptTerms}},methods:{toggleCard(){this.isLoginVisible=!this.isLoginVisible},focusInput(e){this[`is${e.charAt(0).toUpperCase()+e.slice(1)}Focused`]=!0},blurInput(e){this[`is${e.charAt(0).toUpperCase()+e.slice(1)}Focused`]=!1},handleLogin(){alert(`Logged in with email: ${this.email}`)},handleRegister(){alert(`Registered with email: ${this.registerEmail}`)}}};const ce=(0,a.A)(ue,[["render",ae],["__scopeId","data-v-79c332a4"]]);var de=ce;const ve={class:"popular-container"},ge={class:"view-toggle"};function pe(e,t,o,l,s,r){const a=(0,n.g2)("font-awesome-icon"),u=(0,n.g2)("MovieGridComponent"),c=(0,n.g2)("MovieInfiniteScrollComponent");return(0,n.uX)(),(0,n.CE)("div",ve,[(0,n.Lk)("div",ge,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=e=>l.setView("grid")),class:(0,m.C4)({active:"grid"===l.currentView})},[(0,n.bF)(a,{icon:["fas","th"]})],2),(0,n.Lk)("button",{onClick:t[1]||(t[1]=e=>l.setView("list")),class:(0,m.C4)({active:"list"===l.currentView})},[(0,n.bF)(a,{icon:["fas","bars"]})],2)]),l.fetchUrl?(0,n.bo)(((0,n.uX)(),(0,n.Wv)(u,{key:0,fetchUrl:l.fetchUrl},null,8,["fetchUrl"])),[[i.aG,"grid"===l.currentView]]):(0,n.Q3)("",!0),"list"===l.currentView?((0,n.uX)(),(0,n.Wv)(c,{key:1,apiKey:l.apiKey,genreCode:"28",sortingOrder:"all",voteEverage:-1},null,8,["apiKey"])):(0,n.Q3)("",!0)])}const me={class:"movie-grid",ref:"gridContainer"},he=["onMouseup"],be=["src","alt"],fe={class:"movie-title"},ke={key:0,class:"wishlist-indicator"},we={key:0,class:"pagination"},Ce=["disabled"],Le=["disabled"];function ye(e,t,o,i,l,s){return(0,n.uX)(),(0,n.CE)("div",me,[(0,n.Lk)("div",{class:(0,m.C4)(["grid-container",i.currentView])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.visibleMovieGroups,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:`group-${t}`,class:(0,m.C4)(["movie-row",{full:e.length===i.rowSize}])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"movie-card",onMouseup:t=>i.toggleWishlist(e)},[(0,n.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title},null,8,be),(0,n.Lk)("div",fe,(0,m.v_)(e.title),1),i.isInWishlist(e.id)?((0,n.uX)(),(0,n.CE)("div",ke,"👍")):(0,n.Q3)("",!0)],40,he)))),128))],2)))),128))],2),i.totalPages>1?((0,n.uX)(),(0,n.CE)("div",we,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.prevPage&&i.prevPage(...e)),disabled:1===i.currentPage},"< 이전",8,Ce),(0,n.Lk)("span",null,(0,m.v_)(i.currentPage)+" / "+(0,m.v_)(i.totalPages),1),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.nextPage&&i.nextPage(...e)),disabled:i.currentPage===i.totalPages},"다음 >",8,Le)])):(0,n.Q3)("",!0)],512)}o(8992),o(8872),o(4520),o(7550);class Ee{constructor(){this.wishlist=(0,C.KR)([]),this.loadWishlist()}loadWishlist(){const e=localStorage.getItem("movieWishlist");e&&(this.wishlist.value=JSON.parse(e))}saveWishlist(){localStorage.setItem("movieWishlist",JSON.stringify(this.wishlist.value))}toggleWishlist(e){const t=this.wishlist.value.findIndex((t=>t.id===e.id));-1===t?this.wishlist.value.push(e):this.wishlist.value=this.wishlist.value.filter((t=>t.id!==e.id)),this.saveWishlist()}isInWishlist(e){return this.wishlist.value.some((t=>t.id===e))}getCurrentWishlist(){return this.wishlist.value}}const Me=new Ee;var Re=Me,Pe={name:"MovieGridComponent",props:{fetchUrl:{type:String,required:!0}},setup(e){const t=(0,C.KR)([]),o=(0,C.KR)(1),i=(0,C.KR)(4),l=(0,C.KR)(20),s=(0,C.KR)(window.innerWidth<=768),r=(0,C.KR)("grid"),a=(0,C.KR)(null);let u=null;const c=async()=>{try{const o=120,i=Math.ceil(o/20);let n=[];for(let t=1;t<=i;t++){const o=await U.A.get(e.fetchUrl,{params:{page:t,per_page:l.value}});n=[...n,...o.data.results]}t.value=n.slice(0,o)}catch(o){console.error("Error fetching movies:",o)}},d=(0,n.EW)((()=>{const e=(o.value-1)*l.value,n=e+l.value,s=t.value.slice(e,n);return s.reduce(((e,t,o)=>{const n=Math.floor(o/i.value);return e[n]||(e[n]=[]),e[n].push(t),e}),[])})),v=(0,n.EW)((()=>Math.ceil(t.value.length/l.value))),g=()=>{o.value<v.value&&o.value++},p=()=>{o.value>1&&o.value--},m=e=>{u&&clearTimeout(u),u=setTimeout((()=>{Re.toggleWishlist(e)}),2e3)},h=e=>Re.isInWishlist(e),b=()=>{s.value=window.innerWidth<=768,f()},f=()=>{if(a.value){const e=a.value,t=e.offsetWidth,o=window.innerHeight-e.offsetTop,n=s.value?90:200,r=s.value?150:220,u=s.value?10:15,c=-10;i.value=Math.floor(t/(n+u));const d=Math.floor(o/(r+c));l.value=i.value*d}},k=e=>`https://image.tmdb.org/t/p/w300${e}`;return(0,n.sV)((async()=>{await c(),f(),window.addEventListener("resize",b)})),(0,n.hi)((()=>{window.removeEventListener("resize",b),u&&clearTimeout(u)})),{gridContainer:a,movies:t,currentPage:o,rowSize:i,moviesPerPage:l,currentView:r,visibleMovieGroups:d,totalPages:v,nextPage:g,prevPage:p,toggleWishlist:m,isInWishlist:h,getImageUrl:k}}};const Ke=(0,a.A)(Pe,[["render",ye],["__scopeId","data-v-69c952ae"]]);var Ie=Ke;const We={class:"movie-grid",ref:"gridContainer"},_e=["onMouseup"],Fe=["src","alt"],Ue={class:"movie-title"},Se={key:0,class:"wishlist-indicator"},Xe={ref:"loadingTrigger",class:"loading-trigger"},Oe={key:0,class:"loading-indicator"};function Te(e,t,o,i,l,s){return(0,n.uX)(),(0,n.CE)("div",We,[(0,n.Lk)("div",{class:(0,m.C4)(["grid-container",i.currentView])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.visibleMovieGroups,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:`group-${t}`,class:"movie-row"},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"movie-card",onMouseup:t=>i.toggleWishlist(e)},[(0,n.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title,loading:"lazy"},null,8,Fe),(0,n.Lk)("div",Ue,(0,m.v_)(e.title),1),i.isInWishlist(e.id)?((0,n.uX)(),(0,n.CE)("div",Se,"👍")):(0,n.Q3)("",!0)],40,_e)))),128))])))),128))],2),(0,n.Lk)("div",Xe,[i.isLoading?((0,n.uX)(),(0,n.CE)("div",Oe,t[1]||(t[1]=[(0,n.Lk)("div",{class:"spinner"},null,-1),(0,n.Lk)("span",null,"Loading...",-1)]))):(0,n.Q3)("",!0)],512),i.showTopButton?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>i.scrollToTopAndReset&&i.scrollToTopAndReset(...e)),class:"top-button","aria-label":"Scroll to Top"}," Top ")):(0,n.Q3)("",!0)],512)}var Ve={name:"MovieInfiniteScrollComponent",props:{genreCode:{type:String,required:!0},apiKey:{type:String,required:!0},sortingOrder:{type:String,default:"all"},voteEverage:{type:Number,default:100}},setup(e){const t=(0,C.KR)([]),o=(0,C.KR)(1),i=(0,C.KR)(4),l=(0,C.KR)(!1),s=(0,C.KR)(!0),r=(0,C.KR)(window.innerWidth<=768),a=(0,C.KR)("grid"),u=(0,C.KR)(!1),c=(0,C.KR)(null),d=(0,C.KR)(null);let v=null,g=null;const p=async()=>{if(!l.value&&s.value){l.value=!0;try{const i="0"===e.genreCode?"https://api.themoviedb.org/3/movie/popular":"https://api.themoviedb.org/3/discover/movie",n={api_key:e.apiKey,language:"ko-KR",page:o.value,per_page:10,..."0"!==e.genreCode&&{with_genres:e.genreCode}},{data:l}=await U.A.get(i,{params:n}),r=l.results;if(r.length>0){const i=r.filter((t=>"all"===e.sortingOrder||t.original_language===e.sortingOrder)).filter((t=>-1===e.voteEverage||(-2===e.voteEverage?t.vote_average<=4:t.vote_average>=e.voteEverage&&t.vote_average<e.voteEverage+1)));t.value=[...t.value,...i],o.value++}else s.value=!1}catch(i){console.error("Error fetching movies:",i)}finally{l.value=!1}}};(0,n.wB)((()=>[e.genreCode,e.sortingOrder,e.voteEverage]),(([e,i,n])=>{console.log("Props changed:",{newGenreCode:e,newSortingOrder:i,newVoteEverage:n}),t.value=[],o.value=1,s.value=!0,p()}));const m=()=>{g=new IntersectionObserver((e=>{e[0].isIntersecting&&!l.value&&s.value&&p()}),{rootMargin:"100px",threshold:.1}),d.value&&g.observe(d.value)},h=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/placeholder-image.jpg",b=(0,n.EW)((()=>t.value.reduce(((e,t,o)=>{const n=Math.floor(o/i.value);return e[n]||(e[n]=[]),e[n].push(t),e}),[]))),f=()=>{r.value=window.innerWidth<=768,k()},k=()=>{if(c.value){const e=c.value.offsetWidth,t=r.value?100:300,o=r.value?10:15;i.value=Math.floor(e/(t+o))}},w=()=>{const e=window.pageYOffset||document.documentElement.scrollTop;u.value=e>300},L=()=>{window.scrollTo({top:0,behavior:"smooth"}),y()},y=()=>{t.value=[],o.value=1,s.value=!0,p()},E=e=>{v&&clearTimeout(v),v=setTimeout((()=>{Re.toggleWishlist(e)}),800)},M=e=>Re.isInWishlist(e);return(0,n.sV)((()=>{m(),p(),f(),window.addEventListener("resize",f),window.addEventListener("scroll",w)})),(0,n.hi)((()=>{window.removeEventListener("resize",f),window.removeEventListener("scroll",w),g&&g.disconnect(),v&&clearTimeout(v)})),{gridContainer:c,loadingTrigger:d,movies:t,currentPage:o,rowSize:i,isLoading:l,hasMore:s,isMobile:r,currentView:a,showTopButton:u,getImageUrl:h,visibleMovieGroups:b,scrollToTopAndReset:L,toggleWishlist:E,isInWishlist:M}}};const Ae=(0,a.A)(Ve,[["render",Te],["__scopeId","data-v-b45278e8"]]);var je=Ae;L.Yv.add(E.UTC,E.ckx);var xe={name:"HomePopular",components:{FontAwesomeIcon:y.gc,MovieGridComponent:Ie,MovieInfiniteScrollComponent:je},setup(){const e=(0,C.KR)(localStorage.getItem("TMDb-Key")||""),t=(0,C.KR)("grid"),o=(0,C.KR)(""),i=e=>{t.value=e,"grid"===e?l():s()},l=()=>{document.body.style.overflow="hidden"},s=()=>{document.body.style.overflow="auto"};return(0,n.sV)((async()=>{l();try{o.value=X.getURL4PopularMovies(e.value),console.log("Fetch URL in Parent Component before child:",o.value)}catch(t){console.error("Error initializing HomePopular:",t)}})),{apiKey:e,currentView:t,fetchUrl:o,setView:i}}};const $e=(0,a.A)(xe,[["render",pe],["__scopeId","data-v-1b044858"]]);var ze=$e;function Be(e,t,o,i,l,s){const r=(0,n.g2)("MovieWishlist");return(0,n.uX)(),(0,n.Wv)(r)}const De={class:"movie-grid",ref:"gridContainer"},Ge=["onClick"],Qe=["src","alt"],He={class:"movie-title"},qe={key:0,class:"empty-wishlist"},Je={key:1,class:"pagination"},Ye=["disabled"],Ne=["disabled"];function Ze(e,t,o,i,l,s){return(0,n.uX)(),(0,n.CE)("div",De,[(0,n.Lk)("div",{class:(0,m.C4)(["grid-container",i.currentView])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.visibleWishlistMovies,((e,o)=>((0,n.uX)(),(0,n.CE)("div",{key:`group-${o}`,class:(0,m.C4)(["movie-row",{full:e.length===i.rowSize}])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"movie-card",onClick:t=>i.toggleWishlist(e)},[(0,n.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title},null,8,Qe),(0,n.Lk)("div",He,(0,m.v_)(e.title),1),t[2]||(t[2]=(0,n.Lk)("div",{class:"wishlist-indicator"},"👍",-1))],8,Ge)))),128))],2)))),128))],2),0===i.wishlistMovies.length?((0,n.uX)(),(0,n.CE)("div",qe," 위시리스트가 비어 있습니다. ")):(0,n.Q3)("",!0),i.totalPages>1?((0,n.uX)(),(0,n.CE)("div",Je,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.prevPage&&i.prevPage(...e)),disabled:1===i.currentPage},"< 이전",8,Ye),(0,n.Lk)("span",null,(0,m.v_)(i.currentPage)+" / "+(0,m.v_)(i.totalPages),1),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.nextPage&&i.nextPage(...e)),disabled:i.currentPage===i.totalPages},"다음 >",8,Ne)])):(0,n.Q3)("",!0)],512)}var et={name:"MovieWishlistComponent",setup(){const e=(0,C.KR)(null),t=(0,C.KR)(4),o=(0,C.KR)(20),i=(0,C.KR)(1),l=(0,C.KR)(window.innerWidth<=768),s=(0,C.KR)("grid"),r=(0,C.KR)([]),a=(0,C.KR)([]),u=new ResizeObserver((()=>d())),c=()=>{r.value=Re.getCurrentWishlist(),v()},d=()=>{if(e.value){const i=e.value.offsetWidth,n=l.value?90:220,s=(l.value,l.value?10:15);t.value=Math.floor(i/(n+s)),o.value=3*t.value,v()}},v=()=>{const e=(i.value-1)*o.value,n=e+o.value,l=r.value.slice(e,n);a.value=l.reduce(((e,o,i)=>{const n=Math.floor(i/t.value);return e[n]||(e[n]=[]),e[n].push(o),e}),[])},g=e=>{Re.toggleWishlist(e),c()},p=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/placeholder-image.jpg",m=(0,n.EW)((()=>Math.ceil(r.value.length/o.value))),h=()=>{i.value<m.value&&(i.value++,v())},b=()=>{i.value>1&&(i.value--,v())},f=()=>{l.value=window.innerWidth<=768,d()};return(0,n.sV)((()=>{c(),d(),window.addEventListener("resize",f),e.value&&u.observe(e.value)})),(0,n.hi)((()=>{window.removeEventListener("resize",f),u.disconnect()})),{gridContainer:e,rowSize:t,currentPage:i,moviesPerPage:o,isMobile:l,currentView:s,wishlistMovies:r,visibleWishlistMovies:a,totalPages:m,toggleWishlist:g,nextPage:h,prevPage:b,getImageUrl:p}}};const tt=(0,a.A)(et,[["render",Ze],["__scopeId","data-v-b4c57bbe"]]);var ot=tt,it={name:"HomeWishlistComponent",components:{MovieWishlist:ot}};const nt=(0,a.A)(it,[["render",Be]]);var lt=nt;const st={class:"container-search"},rt={class:"container-search-bar"},at={class:"content-search"};function ut(e,t,o,i,l,s){const r=(0,n.g2)("MovieSearchComponent"),a=(0,n.g2)("MovieInfiniteScrollComponent");return(0,n.uX)(),(0,n.CE)("div",st,[(0,n.Lk)("div",rt,[(0,n.bF)(r,{onChangeOptions:i.changeOptions},null,8,["onChangeOptions"])]),(0,n.Lk)("div",at,[(0,n.bF)(a,{apiKey:i.apiKey,genreCode:i.genreId,sortingOrder:i.sortId,voteEverage:i.ageId},null,8,["apiKey","genreCode","sortingOrder","voteEverage"])])])}const ct={class:"dropdown-container"},dt=["onClick"],vt={key:0,class:"select-items"},gt=["onClick"];function pt(e,t,o,i,l,s){return(0,n.uX)(),(0,n.CE)("div",ct,[t[1]||(t[1]=(0,n.Lk)("label",null,"선호하는 설정을 선택하세요",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.dropdownEntries,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.key,class:"custom-select"},[(0,n.Lk)("div",{class:"select-selected",onClick:t=>i.toggleDropdown(e.key)},(0,m.v_)(i.selectedOptions[e.key]),9,dt),i.activeDropdown===e.key?((0,n.uX)(),(0,n.CE)("div",vt,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.options,(t=>((0,n.uX)(),(0,n.CE)("div",{key:t,onClick:o=>i.selectOption(e.key,t)},(0,m.v_)(t),9,gt)))),128))])):(0,n.Q3)("",!0)])))),128)),(0,n.Lk)("button",{class:"clear-options",onClick:t[0]||(t[0]=(...e)=>i.clearOptions&&i.clearOptions(...e))},"초기화")])}o(1454);var mt={name:"MovieSearchComponent",emits:["change-options"],setup(e,{emit:t}){const o={originalLanguage:["장르 (전체)","Action","Adventure","Comedy","Crime","Family"],translationLanguage:["평점 (전체)","9~10","8~9","7~8","6~7","5~6","4~5","4점 이하"],sorting:["언어 (전체)","영어","한국어"]},i={originalLanguage:"장르 (전체)",translationLanguage:"평점 (전체)",sorting:"언어 (전체)"},l=(0,C.KR)({...i}),s=(0,C.KR)(null),r=(0,n.EW)((()=>Object.entries(o).map((([e,t])=>({key:e,options:t}))))),a=e=>{s.value=s.value===e?null:e},u=(e,o)=>{l.value={...l.value,[e]:o},console.log("Selected options:",l.value),t("change-options",l.value),s.value=null},c=()=>{l.value={...i},s.value=null,console.log("Options cleared:",l.value),t("change-options",l.value)};return{dropdownEntries:r,selectedOptions:l,activeDropdown:s,toggleDropdown:a,selectOption:u,clearOptions:c}}};const ht=(0,a.A)(mt,[["render",pt],["__scopeId","data-v-5272afb6"]]);var bt=ht,ft={name:"HomeSearchComponent",components:{MovieSearchComponent:bt,MovieInfiniteScrollComponent:je},setup(){const e=(0,C.KR)(localStorage.getItem("TMDb-Key")||""),t=(0,C.KR)("28"),o=(0,C.KR)(-1),i=(0,C.KR)("all"),n={"장르 (전체)":0,Action:28,Adventure:12,Comedy:35,Crime:80,Family:10751},l={"언어 (전체)":"all","영어":"en","한국어":"ko"},s={"평점 (전체)":-1,"9~10":9,"8~9":8,"7~8":7,"6~7":6,"5~6":5,"4~5":4,"4점 이하":-2},r=e=>{console.log("Received options:",e),t.value=`${n[e.originalLanguage]}`,o.value=s[e.translationLanguage],i.value=l[e.sorting]};return{apiKey:e,genreId:t,ageId:o,sortId:i,changeOptions:r}}};const kt=(0,a.A)(ft,[["render",ut],["__scopeId","data-v-308ff03d"]]);var wt=kt;const Ct=[{path:"/Project2",component:W,children:[{path:"",component:ee},{path:"popular",component:ze},{path:"wishlist",component:lt},{path:"search",component:wt}]},{path:"/signin",component:de}],Lt=(0,d.aE)({history:(0,d.LA)(),routes:Ct});var yt=Lt,Et=o(782),Mt=(0,Et.y$)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,i.Ef)(c).use(Mt).use(yt).mount("#app")}},t={};function o(i){var n=t[i];if(void 0!==n)return n.exports;var l=t[i]={exports:{}};return e[i].call(l.exports,l,l.exports,o),l.exports}o.m=e,function(){var e=[];o.O=function(t,i,n,l){if(!i){var s=1/0;for(c=0;c<e.length;c++){i=e[c][0],n=e[c][1],l=e[c][2];for(var r=!0,a=0;a<i.length;a++)(!1&l||s>=l)&&Object.keys(o.O).every((function(e){return o.O[e](i[a])}))?i.splice(a--,1):(r=!1,l<s&&(s=l));if(r){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[i,n,l]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,l,s=i[0],r=i[1],a=i[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(n in r)o.o(r,n)&&(o.m[n]=r[n]);if(a)var c=a(o)}for(t&&t(i);u<s.length;u++)l=s[u],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(c)},i=self["webpackChunkproject2"]=self["webpackChunkproject2"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=o.O(void 0,[504],(function(){return o(5531)}));i=o.O(i)})();
//# sourceMappingURL=app.dd69fe16.js.map