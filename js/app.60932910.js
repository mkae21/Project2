(function(){"use strict";var e={7650:function(e,t,o){var i=o(5130),s=o(6768);const n={id:"app"};function r(e,t,o,i,r,l){const a=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",n,[(0,s.bF)(a)])}var l={name:"App",data(){return{title:"Movie"}},mounted(){console.log(`App loaded with title: ${this.title}`)}},a=o(1241);const u=(0,a.A)(l,[["render",r],["__scopeId","data-v-038bd756"]]);var c=u,d=(o(8992),o(7550),o(1387));const g={key:0,id:"app"},v={id:"container"};function p(e,t,o,i,n,r){const l=(0,s.g2)("HeaderComponent"),a=(0,s.g2)("router-view");return n.isReady?((0,s.uX)(),(0,s.CE)("div",g,[(0,s.bF)(l),(0,s.Lk)("div",v,[(0,s.bF)(a)])])):(0,s.Q3)("",!0)}var m=o(4232);const h={class:"header-left"},f={class:"logo"},k={class:"nav-links desktop-nav"},b={class:"header-right"};function w(e,t,o,i,n,r){const l=(0,s.g2)("font-awesome-icon"),a=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("header",{class:(0,m.C4)(["app-header",{scrolled:i.isScrolled}])},[(0,s.Lk)("div",h,[(0,s.Lk)("div",f,[(0,s.bF)(a,{to:"/Project2"},{default:(0,s.k6)((()=>[(0,s.bF)(l,{icon:["fas","ticket"],style:{height:"100%",color:"#E50914"}})])),_:1})]),(0,s.Lk)("nav",k,[(0,s.Lk)("ul",null,[(0,s.Lk)("li",null,[(0,s.bF)(a,{to:"/Project2"},{default:(0,s.k6)((()=>t[4]||(t[4]=[(0,s.eW)("홈")]))),_:1})]),(0,s.Lk)("li",null,[(0,s.bF)(a,{to:"/Project2/popular"},{default:(0,s.k6)((()=>t[5]||(t[5]=[(0,s.eW)("대세 콘텐츠")]))),_:1})]),(0,s.Lk)("li",null,[(0,s.bF)(a,{to:"/Project2/wishlist"},{default:(0,s.k6)((()=>t[6]||(t[6]=[(0,s.eW)("내가 찜한 리스트")]))),_:1})]),(0,s.Lk)("li",null,[(0,s.bF)(a,{to:"/Project2/search"},{default:(0,s.k6)((()=>t[7]||(t[7]=[(0,s.eW)("찾아보기")]))),_:1})])])])]),(0,s.Lk)("div",b,[(0,s.Lk)("button",{class:"icon-button",onClick:t[0]||(t[0]=(...e)=>i.loginValid&&i.loginValid(...e))},[(0,s.bF)(l,{icon:["fas","user"]})]),(0,s.Lk)("button",{class:"icon-button",onClick:t[1]||(t[1]=(...e)=>i.logOut&&i.logOut(...e))},[(0,s.bF)(l,{icon:["fas","arrow-right-from-bracket"]})]),(0,s.Lk)("button",{class:"icon-button mobile-menu-button",onClick:t[2]||(t[2]=(...e)=>i.toggleMobileMenu&&i.toggleMobileMenu(...e))},[(0,s.bF)(l,{icon:["fas","bars"]})])]),(0,s.Lk)("div",{class:(0,m.C4)(["mobile-nav",{open:i.isMobileMenuOpen}])},[(0,s.Lk)("button",{class:"close-button",onClick:t[3]||(t[3]=(...e)=>i.toggleMobileMenu&&i.toggleMobileMenu(...e))},[(0,s.bF)(l,{icon:["fas","times"]})]),(0,s.Lk)("nav",null,[(0,s.Lk)("ul",null,[(0,s.Lk)("li",null,[(0,s.bF)(a,{to:"/Project2",onClick:i.toggleMobileMenu},{default:(0,s.k6)((()=>t[8]||(t[8]=[(0,s.eW)("홈")]))),_:1},8,["onClick"])]),(0,s.Lk)("li",null,[(0,s.bF)(a,{to:"/Project2/popular",onClick:i.toggleMobileMenu},{default:(0,s.k6)((()=>t[9]||(t[9]=[(0,s.eW)("대세 콘텐츠")]))),_:1},8,["onClick"])]),(0,s.Lk)("li",null,[(0,s.bF)(a,{to:"/Project2/wishlist",onClick:i.toggleMobileMenu},{default:(0,s.k6)((()=>t[10]||(t[10]=[(0,s.eW)("내가 찜한 리스트")]))),_:1},8,["onClick"])]),(0,s.Lk)("li",null,[(0,s.bF)(a,{to:"/Project2/search",onClick:i.toggleMobileMenu},{default:(0,s.k6)((()=>t[11]||(t[11]=[(0,s.eW)("찾아보기")]))),_:1},8,["onClick"])])])])],2)],2)}o(4114);var C=o(144),L=o(8950),y=o(292),I=o(2353),E=o(4084);L.Yv.add(I.X46,I.ycA,I.ckx,I.GRI,I.PIP);var M={components:{FontAwesomeIcon:y.gc},setup(){const e=(0,C.KR)(!1),t=(0,C.KR)(!1),o=(0,d.rd)(),i=()=>{e.value=window.scrollY>50},n=()=>{localStorage.getItem("isLoggedIn")?(0,E.oR)("로그인 되어있는 사용자: "+localStorage.getItem("loggedInUser"),{type:"success"}):((0,E.oR)("로그인이 필요합니다.",{type:"error"}),o.push("/signin"))},r=async()=>{try{if(!localStorage.getItem("isLoggedIn"))return void(0,E.oR)("로그인이 되어있지 않습니다.",{type:"error"});localStorage.removeItem("isLoggedIn"),localStorage.removeItem("loggedInUser"),(0,E.oR)("로그아웃 되었습니다.",{type:"success"})}catch(e){alert("Error navigating to /signin:",e)}},l=()=>{t.value=!t.value};return(0,s.sV)((()=>{window.addEventListener("scroll",i)})),(0,s.hi)((()=>{window.removeEventListener("scroll",i)})),{isScrolled:e,isMobileMenuOpen:t,loginValid:n,logOut:r,toggleMobileMenu:l}}};const R=(0,a.A)(M,[["render",w],["__scopeId","data-v-d5f08ede"]]);var P=R,K={name:"HomeComponent",components:{HeaderComponent:P},data(){return{isReady:!1}},created(){localStorage.setItem("TMDb-Key","b1907f9b9967490f278a974270b85f60"),this.isReady=!0}};const _=(0,a.A)(K,[["render",p],["__scopeId","data-v-54202f2a"]]);var W=_;const S={class:"home"};function F(e,t,o,i,n,r){const l=(0,s.g2)("BannerComponent"),a=(0,s.g2)("MovieRowComponent");return(0,s.uX)(),(0,s.CE)("div",S,[i.featuredMovies.length>0?((0,s.uX)(),(0,s.Wv)(l,{key:0,movies:i.featuredMovies},null,8,["movies"])):(0,s.Q3)("",!0),(0,s.bF)(a,{title:"인기 영화",fetchUrl:i.popularMoviesUrl},null,8,["fetchUrl"]),(0,s.bF)(a,{title:"최신 영화",fetchUrl:i.newReleasesUrl},null,8,["fetchUrl"]),(0,s.bF)(a,{title:"액션 영화",fetchUrl:i.actionMoviesUrl},null,8,["fetchUrl"])])}var U=o(4373);class O{async fetchFeaturedMovie(e,t=5){try{const o=await U.A.get(`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR`);return o.data.results.slice(0,t)}catch(o){throw console.error("Error fetching featured movies:",o),o}}getURL4PopularMovies(e,t=1){return`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR&page=${t}`}getURL4ReleaseMovies(e,t=2){return`https://api.themoviedb.org/3/movie/now_playing?api_key=${e}&language=ko-KR&page=${t}`}getURL4GenreMovies(e,t,o=1){return`https://api.themoviedb.org/3/discover/movie?api_key=${e}&with_genres=${t}&language=ko-KR&page=${o}`}}var X=new O;const V={class:"banner-content"};function A(e,t,o,i,n,r){const l=(0,s.g2)("swiper-slide"),a=(0,s.g2)("swiper");return(0,s.uX)(),(0,s.CE)(s.FK,null,[t[2]||(t[2]=(0,s.Lk)("div",{class:"title"},[(0,s.Lk)("h4",null,"오늘의 top 5")],-1)),(0,s.bF)(a,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{clickable:!0},navigation:!0,modules:i.modules,class:"banner-container"},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.movies,(e=>((0,s.uX)(),(0,s.Wv)(l,{key:e.id,style:(0,m.Tr)({backgroundImage:`url(https://image.tmdb.org/t/p/original${e.backdrop_path})`})},{default:(0,s.k6)((()=>[(0,s.Lk)("div",V,[(0,s.Lk)("h1",null,(0,m.v_)(e.title),1),(0,s.Lk)("p",null,(0,m.v_)(e.overview),1),t[0]||(t[0]=(0,s.Lk)("button",{class:"play-btn title-btn"},"재생",-1)),t[1]||(t[1]=(0,s.Lk)("button",{class:"info-btn title-btn"},"상세 정보",-1))])])),_:2},1032,["style"])))),128))])),_:1},8,["modules"])],64)}var T=o(8421),j=o(317),x={name:"BannerComponent",components:{Swiper:T.RC,SwiperSlide:T.qr},props:{movies:{type:Array,required:!0}},setup(){return{modules:[j.Ij,j.dK,j.Vx]}}};const $=(0,a.A)(x,[["render",A],["__scopeId","data-v-54c18c86"]]);var z=$;const B={class:"movie-row"},Q=["disabled"],D={class:"slider-window",ref:"sliderWindow"},G=["onClick"],H=["src","alt"],q={key:0,class:"wishlist-indicator"},J=["disabled"];function N(e,t,o,i,n,r){return(0,s.uX)(),(0,s.CE)("div",B,[(0,s.Lk)("h2",null,(0,m.v_)(o.title),1),(0,s.Lk)("div",{class:"slider-container",onWheel:t[2]||(t[2]=(...t)=>e.handleWheel&&e.handleWheel(...t)),onMousemove:t[3]||(t[3]=e=>i.showButtons=!0),onMouseleave:t[4]||(t[4]=e=>i.showButtons=!1)},[(0,s.Lk)("button",{class:"slider-button left",onClick:t[0]||(t[0]=e=>i.slide("left")),disabled:i.atLeftEdge},"<",8,Q),(0,s.Lk)("div",D,[(0,s.Lk)("div",{class:"movie-slider",ref:"slider",style:(0,m.Tr)({transform:"translateX("+-i.scrollAmount+"px)"})},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.movies,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-card",onClick:t=>i.toggleWishlist(e)},[(0,s.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title},null,8,H),i.isInWishlist(e.id)?((0,s.uX)(),(0,s.CE)("div",q,"👍")):(0,s.Q3)("",!0)],8,G)))),128))],4)],512),(0,s.Lk)("button",{class:"slider-button right",onClick:t[1]||(t[1]=e=>i.slide("right")),disabled:i.atRightEdge},">",8,J)],32)])}var Y={props:{title:{type:String,required:!0},fetchUrl:{type:String,required:!0}},setup(e){const t=(0,C.KR)([]),o=(0,C.KR)(0),i=(0,C.KR)(!1),n=(0,C.KR)(0),r=(0,C.KR)(null),l=(0,C.KR)(null);(0,s.sV)((async()=>{await a(),u()}));const a=async()=>{try{const o=await U.A.get(e.fetchUrl);t.value=o.data.results}catch(o){console.error("Error fetching movies:",o)}},u=()=>{r.value&&l.value&&(n.value=Math.max(0,r.value.scrollWidth-l.value.clientWidth))},c=e=>{const t=.8*l.value.clientWidth;o.value="left"===e?Math.max(0,o.value-t):Math.min(n.value,o.value+t)},d=e=>`https://image.tmdb.org/t/p/w300${e}`,g=(0,s.EW)((()=>o.value<=0)),v=(0,s.EW)((()=>o.value>=n.value)),p=e=>{},m=e=>!1;return{movies:t,scrollAmount:o,showButtons:i,atLeftEdge:g,atRightEdge:v,slide:c,getImageUrl:d,toggleWishlist:p,isInWishlist:m,slider:r,sliderWindow:l}}};const Z=(0,a.A)(Y,[["render",N],["__scopeId","data-v-7cc19971"]]);var ee=Z,te={name:"HomeMainComponent",components:{BannerComponent:z,MovieRowComponent:ee},setup(){const e=localStorage.getItem("TMDb-Key")||"",t=(0,C.KR)([]),o=(0,C.KR)(X.getURL4PopularMovies(e)),i=(0,C.KR)(X.getURL4ReleaseMovies(e)),n=(0,C.KR)(X.getURL4GenreMovies(e,"28")),r=async()=>{try{const o=await X.fetchFeaturedMovie(e);console.log("Fetched featured movies:",o),t.value=o.slice(0,5)}catch(o){console.error("Error loading featured movie:",o)}},l=()=>{const e=()=>{const e=document.querySelector(".app-header");window.scrollY>50?e?.classList.add("scrolled"):e?.classList.remove("scrolled")};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}};let a;return(0,s.sV)((()=>{r(),a=l()})),(0,s.xo)((()=>{a?.()})),{featuredMovies:t,popularMoviesUrl:o,newReleasesUrl:i,actionMoviesUrl:n}}};const oe=(0,a.A)(te,[["render",F],["__scopeId","data-v-7d0bed81"]]);var ie=oe;const se={class:"container"},ne={id:"phone"},re={id:"content-wrapper"},le={class:"checkbox remember"},ae=["disabled"],ue={class:"checkbox remember"},ce=["disabled"];function de(e,t,o,n,r,l){return(0,s.uX)(),(0,s.CE)("div",null,[t[31]||(t[31]=(0,s.Lk)("div",{class:"bg-image"},null,-1)),(0,s.Lk)("div",se,[(0,s.Lk)("div",ne,[(0,s.Lk)("div",re,[(0,s.Lk)("div",{class:(0,m.C4)(["card",{hidden:!r.isLoginVisible}]),id:"login"},[(0,s.Lk)("form",{onSubmit:t[7]||(t[7]=(0,i.D$)(((...e)=>l.handleLogin&&l.handleLogin(...e)),["prevent"]))},[t[24]||(t[24]=(0,s.Lk)("h1",null,"Sign in",-1)),(0,s.Lk)("div",{class:(0,m.C4)(["input",{active:r.isEmailFocused||r.email}])},[(0,s.bo)((0,s.Lk)("input",{id:"email",type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>r.email=e),onFocus:t[1]||(t[1]=e=>l.focusInput("email")),onBlur:t[2]||(t[2]=e=>l.blurInput("email"))},null,544),[[i.Jo,r.email]]),t[21]||(t[21]=(0,s.Lk)("label",{for:"email"},"Username or Email",-1))],2),(0,s.Lk)("div",{class:(0,m.C4)(["input",{active:r.isPasswordFocused||r.password}])},[(0,s.bo)((0,s.Lk)("input",{id:"password",type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>r.password=e),onFocus:t[4]||(t[4]=e=>l.focusInput("password")),onBlur:t[5]||(t[5]=e=>l.blurInput("password"))},null,544),[[i.Jo,r.password]]),t[22]||(t[22]=(0,s.Lk)("label",{for:"password"},"Password",-1))],2),(0,s.Lk)("span",le,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"remember","onUpdate:modelValue":t[6]||(t[6]=e=>r.rememberMe=e)},null,512),[[i.lH,r.rememberMe]]),t[23]||(t[23]=(0,s.Lk)("label",{for:"remember",class:"read-text"},"Remember me",-1))]),t[25]||(t[25]=(0,s.Lk)("span",{class:"checkbox forgot"},[(0,s.Lk)("a",{href:"#"},"Forgot Password?")],-1)),(0,s.Lk)("button",{disabled:!l.isLoginFormValid},"Login",8,ae)],32),(0,s.Lk)("a",{href:"javascript:void(0)",class:"account-check",onClick:t[8]||(t[8]=(...e)=>l.toggleCard&&l.toggleCard(...e))},(0,m.v_)(r.isLoginVisible?"Don't have an account? Sign up":"Already have an account? Sign in"),1)],2),(0,s.Lk)("div",{class:(0,m.C4)(["card",{hidden:r.isLoginVisible}]),id:"register"},[(0,s.Lk)("form",{onSubmit:t[19]||(t[19]=(0,i.D$)(((...e)=>l.handleRegister&&l.handleRegister(...e)),["prevent"]))},[t[30]||(t[30]=(0,s.Lk)("h1",null,"Sign up",-1)),(0,s.Lk)("div",{class:(0,m.C4)(["input",{active:r.isRegisterEmailFocused||r.registerEmail}])},[(0,s.bo)((0,s.Lk)("input",{id:"register-email",type:"email","onUpdate:modelValue":t[9]||(t[9]=e=>r.registerEmail=e),onFocus:t[10]||(t[10]=e=>l.focusInput("registerEmail")),onBlur:t[11]||(t[11]=e=>l.blurInput("registerEmail"))},null,544),[[i.Jo,r.registerEmail]]),t[26]||(t[26]=(0,s.Lk)("label",{for:"register-email"},"Email",-1))],2),(0,s.Lk)("div",{class:(0,m.C4)(["input",{active:r.isRegisterPasswordFocused||r.registerPassword}])},[(0,s.bo)((0,s.Lk)("input",{id:"register-password",type:"password","onUpdate:modelValue":t[12]||(t[12]=e=>r.registerPassword=e),onFocus:t[13]||(t[13]=e=>l.focusInput("registerPassword")),onBlur:t[14]||(t[14]=e=>l.blurInput("registerPassword"))},null,544),[[i.Jo,r.registerPassword]]),t[27]||(t[27]=(0,s.Lk)("label",{for:"register-password"},"Password",-1))],2),(0,s.Lk)("div",{class:(0,m.C4)(["input",{active:r.isConfirmPasswordFocused||r.confirmPassword}])},[(0,s.bo)((0,s.Lk)("input",{id:"confirm-password",type:"password","onUpdate:modelValue":t[15]||(t[15]=e=>r.confirmPassword=e),onFocus:t[16]||(t[16]=e=>l.focusInput("confirmPassword")),onBlur:t[17]||(t[17]=e=>l.blurInput("confirmPassword"))},null,544),[[i.Jo,r.confirmPassword]]),t[28]||(t[28]=(0,s.Lk)("label",{for:"confirm-password"},"Confirm Password",-1))],2),(0,s.Lk)("span",ue,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"terms","onUpdate:modelValue":t[18]||(t[18]=e=>r.acceptTerms=e)},null,512),[[i.lH,r.acceptTerms]]),t[29]||(t[29]=(0,s.Lk)("label",{for:"terms",class:"read-text"},[(0,s.eW)(" I have read "),(0,s.Lk)("b",null,"Terms and Conditions")],-1))]),(0,s.Lk)("button",{disabled:!l.isRegisterFormValid},"Register",8,ce)],32),(0,s.Lk)("a",{href:"javascript:void(0)",class:"account-check",onClick:t[20]||(t[20]=(...e)=>l.toggleCard&&l.toggleCard(...e))},(0,m.v_)(r.isLoginVisible?"Don't have an account? Sign up":"Already have an account? Sign in"),1)],2)])])])])}o(2577);var ge={data(){return{isLoginVisible:!0,email:"",password:"",registerEmail:"",registerPassword:"",confirmPassword:"",rememberMe:!1,acceptTerms:!1,isEmailFocused:!1,isPasswordFocused:!1,isRegisterEmailFocused:!1,isRegisterPasswordFocused:!1,isConfirmPasswordFocused:!1}},computed:{isLoginFormValid(){return this.email&&this.password},isRegisterFormValid(){return this.registerEmail&&this.registerPassword&&this.confirmPassword&&this.registerPassword===this.confirmPassword&&this.acceptTerms}},methods:{toggleCard(){this.isLoginVisible=!this.isLoginVisible},focusInput(e){this[`is${e.charAt(0).toUpperCase()+e.slice(1)}Focused`]=!0},blurInput(e){this[`is${e.charAt(0).toUpperCase()+e.slice(1)}Focused`]=!1},handleLogin(){const e=JSON.parse(localStorage.getItem("users")||"[]"),t=e.find((e=>e.email===this.email&&e.apiKey===this.password));t?((0,E.oR)("Logged in successfully!",{autoClose:3500}),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("loggedInUser",this.email),this.rememberMe?localStorage.setItem("rememberMe","true"):localStorage.removeItem("rememberMe"),this.$router.push("/Project2/")):(0,E.oR)("Invalid email or password.",{autoClose:3500})},handleRegister(){const e=JSON.parse(localStorage.getItem("users")||"[]");if(e.some((e=>e.email===this.registerEmail)))return void(0,E.oR)("User already exists with this email.",{autoClose:3500});const t={email:this.registerEmail,apiKey:this.registerPassword};e.push(t),localStorage.setItem("users",JSON.stringify(e)),(0,E.oR)("Registered successfully!",{autoClose:3500}),this.toggleCard()},initializeLoginState(){const e=localStorage.getItem("rememberMe"),t=localStorage.getItem("isLoggedIn"),o=localStorage.getItem("loggedInUser");t&&o&&e&&(this.email=o,this.$router.push("/Project2"))}},setup(){const e=(0,d.rd)();return{router:e}},mounted(){this.initializeLoginState()}};const ve=(0,a.A)(ge,[["render",de],["__scopeId","data-v-fee2d626"]]);var pe=ve;const me={class:"popular-container"},he={class:"view-toggle"};function fe(e,t,o,n,r,l){const a=(0,s.g2)("font-awesome-icon"),u=(0,s.g2)("MovieGridComponent"),c=(0,s.g2)("MovieInfiniteScrollComponent");return(0,s.uX)(),(0,s.CE)("div",me,[(0,s.Lk)("div",he,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=e=>n.setView("grid")),class:(0,m.C4)({active:"grid"===n.currentView})},[(0,s.bF)(a,{icon:["fas","th"]})],2),(0,s.Lk)("button",{onClick:t[1]||(t[1]=e=>n.setView("list")),class:(0,m.C4)({active:"list"===n.currentView})},[(0,s.bF)(a,{icon:["fas","bars"]})],2)]),n.fetchUrl?(0,s.bo)(((0,s.uX)(),(0,s.Wv)(u,{key:0,fetchUrl:n.fetchUrl},null,8,["fetchUrl"])),[[i.aG,"grid"===n.currentView]]):(0,s.Q3)("",!0),"list"===n.currentView?((0,s.uX)(),(0,s.Wv)(c,{key:1,apiKey:n.apiKey,genreCode:"28",sortingOrder:"all",voteEverage:-1},null,8,["apiKey"])):(0,s.Q3)("",!0)])}const ke={class:"movie-grid",ref:"gridContainer"},be=["onMouseup"],we=["src","alt"],Ce={class:"movie-title"},Le={key:0,class:"wishlist-indicator"},ye={key:0,class:"pagination"},Ie=["disabled"],Ee=["disabled"];function Me(e,t,o,i,n,r){return(0,s.uX)(),(0,s.CE)("div",ke,[(0,s.Lk)("div",{class:(0,m.C4)(["grid-container",i.currentView])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.visibleMovieGroups,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:`group-${t}`,class:(0,m.C4)(["movie-row",{full:e.length===i.rowSize}])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-card",onMouseup:t=>i.toggleWishlist(e)},[(0,s.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title},null,8,we),(0,s.Lk)("div",Ce,(0,m.v_)(e.title),1),i.isInWishlist(e.id)?((0,s.uX)(),(0,s.CE)("div",Le,"👍")):(0,s.Q3)("",!0)],40,be)))),128))],2)))),128))],2),i.totalPages>1?((0,s.uX)(),(0,s.CE)("div",ye,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.prevPage&&i.prevPage(...e)),disabled:1===i.currentPage},"< 이전",8,Ie),(0,s.Lk)("span",null,(0,m.v_)(i.currentPage)+" / "+(0,m.v_)(i.totalPages),1),(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.nextPage&&i.nextPage(...e)),disabled:i.currentPage===i.totalPages},"다음 >",8,Ee)])):(0,s.Q3)("",!0)],512)}o(8872),o(4520);class Re{constructor(){this.wishlist=(0,C.KR)([]),this.loadWishlist()}loadWishlist(){const e=localStorage.getItem("movieWishlist");e&&(this.wishlist.value=JSON.parse(e))}saveWishlist(){localStorage.setItem("movieWishlist",JSON.stringify(this.wishlist.value))}toggleWishlist(e){const t=this.wishlist.value.findIndex((t=>t.id===e.id));-1===t?this.wishlist.value.push(e):this.wishlist.value=this.wishlist.value.filter((t=>t.id!==e.id)),this.saveWishlist()}isInWishlist(e){return this.wishlist.value.some((t=>t.id===e))}getCurrentWishlist(){return this.wishlist.value}}const Pe=new Re;var Ke=Pe,_e={name:"MovieGridComponent",props:{fetchUrl:{type:String,required:!0}},setup(e){const t=(0,C.KR)([]),o=(0,C.KR)(1),i=(0,C.KR)(4),n=(0,C.KR)(20),r=(0,C.KR)(window.innerWidth<=768),l=(0,C.KR)("grid"),a=(0,C.KR)(null);let u=null;const c=async()=>{try{const o=120,i=Math.ceil(o/20);let s=[];for(let t=1;t<=i;t++){const o=await U.A.get(e.fetchUrl,{params:{page:t,per_page:n.value}});s=[...s,...o.data.results]}t.value=s.slice(0,o)}catch(o){console.error("Error fetching movies:",o)}},d=(0,s.EW)((()=>{const e=(o.value-1)*n.value,s=e+n.value,r=t.value.slice(e,s);return r.reduce(((e,t,o)=>{const s=Math.floor(o/i.value);return e[s]||(e[s]=[]),e[s].push(t),e}),[])})),g=(0,s.EW)((()=>Math.ceil(t.value.length/n.value))),v=()=>{o.value<g.value&&o.value++},p=()=>{o.value>1&&o.value--},m=e=>{u&&clearTimeout(u),u=setTimeout((()=>{Ke.toggleWishlist(e)}),2e3)},h=e=>Ke.isInWishlist(e),f=()=>{r.value=window.innerWidth<=768,k()},k=()=>{if(a.value){const e=a.value,t=e.offsetWidth,o=window.innerHeight-e.offsetTop,s=r.value?90:200,l=r.value?150:220,u=r.value?10:15,c=-10;i.value=Math.floor(t/(s+u));const d=Math.floor(o/(l+c));n.value=i.value*d}},b=e=>`https://image.tmdb.org/t/p/w300${e}`;return(0,s.sV)((async()=>{await c(),k(),window.addEventListener("resize",f)})),(0,s.hi)((()=>{window.removeEventListener("resize",f),u&&clearTimeout(u)})),{gridContainer:a,movies:t,currentPage:o,rowSize:i,moviesPerPage:n,currentView:l,visibleMovieGroups:d,totalPages:g,nextPage:v,prevPage:p,toggleWishlist:m,isInWishlist:h,getImageUrl:b}}};const We=(0,a.A)(_e,[["render",Me],["__scopeId","data-v-56498b9e"]]);var Se=We;const Fe={class:"movie-grid",ref:"gridContainer"},Ue=["onMouseup"],Oe=["src","alt"],Xe={class:"movie-title"},Ve={key:0,class:"wishlist-indicator"},Ae={ref:"loadingTrigger",class:"loading-trigger"},Te={key:0,class:"loading-indicator"};function je(e,t,o,i,n,r){return(0,s.uX)(),(0,s.CE)("div",Fe,[(0,s.Lk)("div",{class:(0,m.C4)(["grid-container",i.currentView])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.visibleMovieGroups,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:`group-${t}`,class:"movie-row"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-card",onMouseup:t=>i.toggleWishlist(e)},[(0,s.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title,loading:"lazy"},null,8,Oe),(0,s.Lk)("div",Xe,(0,m.v_)(e.title),1),i.isInWishlist(e.id)?((0,s.uX)(),(0,s.CE)("div",Ve,"👍")):(0,s.Q3)("",!0)],40,Ue)))),128))])))),128))],2),(0,s.Lk)("div",Ae,[i.isLoading?((0,s.uX)(),(0,s.CE)("div",Te,t[1]||(t[1]=[(0,s.Lk)("div",{class:"spinner"},null,-1),(0,s.Lk)("span",null,"Loading...",-1)]))):(0,s.Q3)("",!0)],512),i.showTopButton?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>i.scrollToTopAndReset&&i.scrollToTopAndReset(...e)),class:"top-button","aria-label":"Scroll to Top"}," Top ")):(0,s.Q3)("",!0)],512)}var xe={name:"MovieInfiniteScrollComponent",props:{genreCode:{type:String,required:!0},apiKey:{type:String,required:!0},sortingOrder:{type:String,default:"all"},voteEverage:{type:Number,default:100}},setup(e){const t=(0,C.KR)([]),o=(0,C.KR)(1),i=(0,C.KR)(4),n=(0,C.KR)(!1),r=(0,C.KR)(!0),l=(0,C.KR)(window.innerWidth<=768),a=(0,C.KR)("grid"),u=(0,C.KR)(!1),c=(0,C.KR)(null),d=(0,C.KR)(null);let g=null,v=null;const p=async()=>{if(!n.value&&r.value){n.value=!0;try{const i="0"===e.genreCode?"https://api.themoviedb.org/3/movie/popular":"https://api.themoviedb.org/3/discover/movie",s={api_key:e.apiKey,language:"ko-KR",page:o.value,per_page:10,..."0"!==e.genreCode&&{with_genres:e.genreCode}},{data:n}=await U.A.get(i,{params:s}),l=n.results;if(l.length>0){const i=l.filter((t=>"all"===e.sortingOrder||t.original_language===e.sortingOrder)).filter((t=>-1===e.voteEverage||(-2===e.voteEverage?t.vote_average<=4:t.vote_average>=e.voteEverage&&t.vote_average<e.voteEverage+1)));t.value=[...t.value,...i],o.value++}else r.value=!1}catch(i){console.error("Error fetching movies:",i)}finally{n.value=!1}}};(0,s.wB)((()=>[e.genreCode,e.sortingOrder,e.voteEverage]),(([e,i,s])=>{console.log("Props changed:",{newGenreCode:e,newSortingOrder:i,newVoteEverage:s}),t.value=[],o.value=1,r.value=!0,p()}));const m=()=>{v=new IntersectionObserver((e=>{e[0].isIntersecting&&!n.value&&r.value&&p()}),{rootMargin:"100px",threshold:.1}),d.value&&v.observe(d.value)},h=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/placeholder-image.jpg",f=(0,s.EW)((()=>t.value.reduce(((e,t,o)=>{const s=Math.floor(o/i.value);return e[s]||(e[s]=[]),e[s].push(t),e}),[]))),k=()=>{l.value=window.innerWidth<=768,b()},b=()=>{if(c.value){const e=c.value.offsetWidth,t=l.value?100:300,o=l.value?10:15;i.value=Math.floor(e/(t+o))}},w=()=>{const e=window.pageYOffset||document.documentElement.scrollTop;u.value=e>300},L=()=>{window.scrollTo({top:0,behavior:"smooth"}),y()},y=()=>{t.value=[],o.value=1,r.value=!0,p()},I=e=>{g&&clearTimeout(g),g=setTimeout((()=>{Ke.toggleWishlist(e)}),800)},E=e=>Ke.isInWishlist(e);return(0,s.sV)((()=>{m(),p(),k(),window.addEventListener("resize",k),window.addEventListener("scroll",w)})),(0,s.hi)((()=>{window.removeEventListener("resize",k),window.removeEventListener("scroll",w),v&&v.disconnect(),g&&clearTimeout(g)})),{gridContainer:c,loadingTrigger:d,movies:t,currentPage:o,rowSize:i,isLoading:n,hasMore:r,isMobile:l,currentView:a,showTopButton:u,getImageUrl:h,visibleMovieGroups:f,scrollToTopAndReset:L,toggleWishlist:I,isInWishlist:E}}};const $e=(0,a.A)(xe,[["render",je],["__scopeId","data-v-b45278e8"]]);var ze=$e;L.Yv.add(I.UTC,I.ckx);var Be={name:"HomePopular",components:{FontAwesomeIcon:y.gc,MovieGridComponent:Se,MovieInfiniteScrollComponent:ze},setup(){const e=(0,C.KR)(localStorage.getItem("TMDb-Key")||""),t=(0,C.KR)("grid"),o=(0,C.KR)(""),i=e=>{t.value=e,"grid"===e?n():r()},n=()=>{document.body.style.overflow="hidden"},r=()=>{document.body.style.overflow="auto"};return(0,s.sV)((async()=>{n();try{o.value=X.getURL4PopularMovies(e.value),console.log("Fetch URL in Parent Component before child:",o.value)}catch(t){console.error("Error initializing HomePopular:",t)}})),{apiKey:e,currentView:t,fetchUrl:o,setView:i}}};const Qe=(0,a.A)(Be,[["render",fe],["__scopeId","data-v-438f0a8c"]]);var De=Qe;function Ge(e,t,o,i,n,r){const l=(0,s.g2)("MovieWishlist");return(0,s.uX)(),(0,s.Wv)(l)}const He={class:"movie-grid",ref:"gridContainer"},qe=["onClick"],Je=["src","alt"],Ne={class:"movie-title"},Ye={key:0,class:"empty-wishlist"},Ze={key:1,class:"pagination"},et=["disabled"],tt=["disabled"];function ot(e,t,o,i,n,r){return(0,s.uX)(),(0,s.CE)("div",He,[(0,s.Lk)("div",{class:(0,m.C4)(["grid-container",i.currentView])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.visibleWishlistMovies,((e,o)=>((0,s.uX)(),(0,s.CE)("div",{key:`group-${o}`,class:(0,m.C4)(["movie-row",{full:e.length===i.rowSize}])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"movie-card",onClick:t=>i.toggleWishlist(e)},[(0,s.Lk)("img",{src:i.getImageUrl(e.poster_path),alt:e.title},null,8,Je),(0,s.Lk)("div",Ne,(0,m.v_)(e.title),1),t[2]||(t[2]=(0,s.Lk)("div",{class:"wishlist-indicator"},"👍",-1))],8,qe)))),128))],2)))),128))],2),0===i.wishlistMovies.length?((0,s.uX)(),(0,s.CE)("div",Ye," 위시리스트가 비어 있습니다. ")):(0,s.Q3)("",!0),i.totalPages>1?((0,s.uX)(),(0,s.CE)("div",Ze,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.prevPage&&i.prevPage(...e)),disabled:1===i.currentPage},"< 이전",8,et),(0,s.Lk)("span",null,(0,m.v_)(i.currentPage)+" / "+(0,m.v_)(i.totalPages),1),(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.nextPage&&i.nextPage(...e)),disabled:i.currentPage===i.totalPages},"다음 >",8,tt)])):(0,s.Q3)("",!0)],512)}var it={name:"MovieWishlistComponent",setup(){const e=(0,C.KR)(null),t=(0,C.KR)(4),o=(0,C.KR)(20),i=(0,C.KR)(1),n=(0,C.KR)(window.innerWidth<=768),r=(0,C.KR)("grid"),l=(0,C.KR)([]),a=(0,C.KR)([]),u=new ResizeObserver((()=>d())),c=()=>{l.value=Ke.getCurrentWishlist(),g()},d=()=>{if(e.value){const i=e.value.offsetWidth,s=n.value?90:220,r=(n.value,n.value?10:15);t.value=Math.floor(i/(s+r)),o.value=3*t.value,g()}},g=()=>{const e=(i.value-1)*o.value,s=e+o.value,n=l.value.slice(e,s);a.value=n.reduce(((e,o,i)=>{const s=Math.floor(i/t.value);return e[s]||(e[s]=[]),e[s].push(o),e}),[])},v=e=>{Ke.toggleWishlist(e),c()},p=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/placeholder-image.jpg",m=(0,s.EW)((()=>Math.ceil(l.value.length/o.value))),h=()=>{i.value<m.value&&(i.value++,g())},f=()=>{i.value>1&&(i.value--,g())},k=()=>{n.value=window.innerWidth<=768,d()};return(0,s.sV)((()=>{c(),d(),window.addEventListener("resize",k),e.value&&u.observe(e.value)})),(0,s.hi)((()=>{window.removeEventListener("resize",k),u.disconnect()})),{gridContainer:e,rowSize:t,currentPage:i,moviesPerPage:o,isMobile:n,currentView:r,wishlistMovies:l,visibleWishlistMovies:a,totalPages:m,toggleWishlist:v,nextPage:h,prevPage:f,getImageUrl:p}}};const st=(0,a.A)(it,[["render",ot],["__scopeId","data-v-2f90fa59"]]);var nt=st,rt={name:"HomeWishlistComponent",components:{MovieWishlist:nt}};const lt=(0,a.A)(rt,[["render",Ge]]);var at=lt;const ut={class:"container-search"},ct={class:"container-search-bar"},dt={class:"content-search"};function gt(e,t,o,i,n,r){const l=(0,s.g2)("MovieSearchComponent"),a=(0,s.g2)("MovieInfiniteScrollComponent");return(0,s.uX)(),(0,s.CE)("div",ut,[(0,s.Lk)("div",ct,[(0,s.bF)(l,{onChangeOptions:i.changeOptions},null,8,["onChangeOptions"])]),(0,s.Lk)("div",dt,[(0,s.bF)(a,{apiKey:i.apiKey,genreCode:i.genreId,sortingOrder:i.sortId,voteEverage:i.ageId},null,8,["apiKey","genreCode","sortingOrder","voteEverage"])])])}const vt={class:"dropdown-container"},pt=["onClick"],mt={key:0,class:"select-items"},ht=["onClick"];function ft(e,t,o,i,n,r){return(0,s.uX)(),(0,s.CE)("div",vt,[t[1]||(t[1]=(0,s.Lk)("label",null,"선호하는 설정을 선택하세요",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.dropdownEntries,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.key,class:"custom-select"},[(0,s.Lk)("div",{class:"select-selected",onClick:t=>i.toggleDropdown(e.key)},(0,m.v_)(i.selectedOptions[e.key]),9,pt),i.activeDropdown===e.key?((0,s.uX)(),(0,s.CE)("div",mt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.options,(t=>((0,s.uX)(),(0,s.CE)("div",{key:t,onClick:o=>i.selectOption(e.key,t)},(0,m.v_)(t),9,ht)))),128))])):(0,s.Q3)("",!0)])))),128)),(0,s.Lk)("button",{class:"clear-options",onClick:t[0]||(t[0]=(...e)=>i.clearOptions&&i.clearOptions(...e))},"초기화")])}o(1454);var kt={name:"MovieSearchComponent",emits:["change-options"],setup(e,{emit:t}){const o={originalLanguage:["장르 (전체)","Action","Adventure","Comedy","Crime","Family"],translationLanguage:["평점 (전체)","9~10","8~9","7~8","6~7","5~6","4~5","4점 이하"],sorting:["언어 (전체)","영어","한국어"]},i={originalLanguage:"장르 (전체)",translationLanguage:"평점 (전체)",sorting:"언어 (전체)"},n=(0,C.KR)({...i}),r=(0,C.KR)(null),l=(0,s.EW)((()=>Object.entries(o).map((([e,t])=>({key:e,options:t}))))),a=e=>{r.value=r.value===e?null:e},u=(e,o)=>{n.value={...n.value,[e]:o},console.log("Selected options:",n.value),t("change-options",n.value),r.value=null},c=()=>{n.value={...i},r.value=null,console.log("Options cleared:",n.value),t("change-options",n.value)};return{dropdownEntries:l,selectedOptions:n,activeDropdown:r,toggleDropdown:a,selectOption:u,clearOptions:c}}};const bt=(0,a.A)(kt,[["render",ft],["__scopeId","data-v-c902c724"]]);var wt=bt,Ct={name:"HomeSearchComponent",components:{MovieSearchComponent:wt,MovieInfiniteScrollComponent:ze},setup(){const e=(0,C.KR)(localStorage.getItem("TMDb-Key")||""),t=(0,C.KR)("28"),o=(0,C.KR)(-1),i=(0,C.KR)("all"),s={"장르 (전체)":0,Action:28,Adventure:12,Comedy:35,Crime:80,Family:10751},n={"언어 (전체)":"all","영어":"en","한국어":"ko"},r={"평점 (전체)":-1,"9~10":9,"8~9":8,"7~8":7,"6~7":6,"5~6":5,"4~5":4,"4점 이하":-2},l=e=>{console.log("Received options:",e),t.value=`${s[e.originalLanguage]}`,o.value=r[e.translationLanguage],i.value=n[e.sorting]};return{apiKey:e,genreId:t,ageId:o,sortId:i,changeOptions:l}}};const Lt=(0,a.A)(Ct,[["render",gt],["__scopeId","data-v-308ff03d"]]);var yt=Lt;const It=[{path:"/Project2",component:W,children:[{path:"",component:ie},{path:"popular",component:De},{path:"wishlist",component:at},{path:"search",component:yt}],meta:{requiresAuth:!0}},{path:"/signin",component:pe}],Et=(0,d.aE)({history:(0,d.LA)(),routes:It});Et.beforeEach(((e,t,o)=>{const i="true"===localStorage.getItem("isLoggedIn");if(e.matched.some((e=>e.meta.requiresAuth))&&!i)return alert("로그인이 필요합니다."),o("/signin");o()}));var Mt=Et,Rt=o(782),Pt=(0,Rt.y$)({state:{},getters:{},mutations:{},actions:{},modules:{}}),Kt=o(7411);o(7917);(0,i.Ef)(c).use(Pt).use(Mt).use(Kt.Ay).mount("#app")}},t={};function o(i){var s=t[i];if(void 0!==s)return s.exports;var n=t[i]={exports:{}};return e[i].call(n.exports,n,n.exports,o),n.exports}o.m=e,function(){var e=[];o.O=function(t,i,s,n){if(!i){var r=1/0;for(c=0;c<e.length;c++){i=e[c][0],s=e[c][1],n=e[c][2];for(var l=!0,a=0;a<i.length;a++)(!1&n||r>=n)&&Object.keys(o.O).every((function(e){return o.O[e](i[a])}))?i.splice(a--,1):(l=!1,n<r&&(r=n));if(l){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[i,s,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,i){var s,n,r=i[0],l=i[1],a=i[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(s in l)o.o(l,s)&&(o.m[s]=l[s]);if(a)var c=a(o)}for(t&&t(i);u<r.length;u++)n=r[u],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(c)},i=self["webpackChunkproject2"]=self["webpackChunkproject2"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=o.O(void 0,[504],(function(){return o(7650)}));i=o.O(i)})();
//# sourceMappingURL=app.60932910.js.map